function v4(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function TT(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function x4(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function i(){if(this instanceof i){var r=[null];r.push.apply(r,arguments);var s=Function.bind.apply(e,r);return new s}return e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var r=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:function(){return n[i]}})}),t}var Qc={},_4={get exports(){return Qc},set exports(n){Qc=n}},Pm={},G={},w4={get exports(){return G},set exports(n){G=n}},gt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zf=Symbol.for("react.element"),S4=Symbol.for("react.portal"),M4=Symbol.for("react.fragment"),E4=Symbol.for("react.strict_mode"),T4=Symbol.for("react.profiler"),A4=Symbol.for("react.provider"),b4=Symbol.for("react.context"),C4=Symbol.for("react.forward_ref"),P4=Symbol.for("react.suspense"),L4=Symbol.for("react.memo"),R4=Symbol.for("react.lazy"),uM=Symbol.iterator;function I4(n){return n===null||typeof n!="object"?null:(n=uM&&n[uM]||n["@@iterator"],typeof n=="function"?n:null)}var AT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bT=Object.assign,CT={};function _u(n,e,t){this.props=n,this.context=e,this.refs=CT,this.updater=t||AT}_u.prototype.isReactComponent={};_u.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};_u.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function PT(){}PT.prototype=_u.prototype;function mx(n,e,t){this.props=n,this.context=e,this.refs=CT,this.updater=t||AT}var gx=mx.prototype=new PT;gx.constructor=mx;bT(gx,_u.prototype);gx.isPureReactComponent=!0;var cM=Array.isArray,LT=Object.prototype.hasOwnProperty,yx={current:null},RT={key:!0,ref:!0,__self:!0,__source:!0};function IT(n,e,t){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)LT.call(e,i)&&!RT.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=t;else if(1<a){for(var u=Array(a),f=0;f<a;f++)u[f]=arguments[f+2];r.children=u}if(n&&n.defaultProps)for(i in a=n.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:zf,type:n,key:s,ref:o,props:r,_owner:yx.current}}function D4(n,e){return{$$typeof:zf,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function vx(n){return typeof n=="object"&&n!==null&&n.$$typeof===zf}function k4(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var fM=/\/+/g;function L0(n,e){return typeof n=="object"&&n!==null&&n.key!=null?k4(""+n.key):e.toString(36)}function xp(n,e,t,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case zf:case S4:o=!0}}if(o)return o=n,r=r(o),n=i===""?"."+L0(o,0):i,cM(r)?(t="",n!=null&&(t=n.replace(fM,"$&/")+"/"),xp(r,e,t,"",function(f){return f})):r!=null&&(vx(r)&&(r=D4(r,t+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(fM,"$&/")+"/")+n)),e.push(r)),1;if(o=0,i=i===""?".":i+":",cM(n))for(var a=0;a<n.length;a++){s=n[a];var u=i+L0(s,a);o+=xp(s,e,t,u,r)}else if(u=I4(n),typeof u=="function")for(n=u.call(n),a=0;!(s=n.next()).done;)s=s.value,u=i+L0(s,a++),o+=xp(s,e,t,u,r);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ud(n,e,t){if(n==null)return n;var i=[],r=0;return xp(n,i,"","",function(s){return e.call(t,s,r++)}),i}function N4(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var fi={current:null},_p={transition:null},z4={ReactCurrentDispatcher:fi,ReactCurrentBatchConfig:_p,ReactCurrentOwner:yx};gt.Children={map:ud,forEach:function(n,e,t){ud(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return ud(n,function(){e++}),e},toArray:function(n){return ud(n,function(e){return e})||[]},only:function(n){if(!vx(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};gt.Component=_u;gt.Fragment=M4;gt.Profiler=T4;gt.PureComponent=mx;gt.StrictMode=E4;gt.Suspense=P4;gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z4;gt.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=bT({},n.props),r=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=yx.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(u in e)LT.call(e,u)&&!RT.hasOwnProperty(u)&&(i[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)i.children=t;else if(1<u){a=Array(u);for(var f=0;f<u;f++)a[f]=arguments[f+2];i.children=a}return{$$typeof:zf,type:n.type,key:r,ref:s,props:i,_owner:o}};gt.createContext=function(n){return n={$$typeof:b4,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:A4,_context:n},n.Consumer=n};gt.createElement=IT;gt.createFactory=function(n){var e=IT.bind(null,n);return e.type=n,e};gt.createRef=function(){return{current:null}};gt.forwardRef=function(n){return{$$typeof:C4,render:n}};gt.isValidElement=vx;gt.lazy=function(n){return{$$typeof:R4,_payload:{_status:-1,_result:n},_init:N4}};gt.memo=function(n,e){return{$$typeof:L4,type:n,compare:e===void 0?null:e}};gt.startTransition=function(n){var e=_p.transition;_p.transition={};try{n()}finally{_p.transition=e}};gt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};gt.useCallback=function(n,e){return fi.current.useCallback(n,e)};gt.useContext=function(n){return fi.current.useContext(n)};gt.useDebugValue=function(){};gt.useDeferredValue=function(n){return fi.current.useDeferredValue(n)};gt.useEffect=function(n,e){return fi.current.useEffect(n,e)};gt.useId=function(){return fi.current.useId()};gt.useImperativeHandle=function(n,e,t){return fi.current.useImperativeHandle(n,e,t)};gt.useInsertionEffect=function(n,e){return fi.current.useInsertionEffect(n,e)};gt.useLayoutEffect=function(n,e){return fi.current.useLayoutEffect(n,e)};gt.useMemo=function(n,e){return fi.current.useMemo(n,e)};gt.useReducer=function(n,e,t){return fi.current.useReducer(n,e,t)};gt.useRef=function(n){return fi.current.useRef(n)};gt.useState=function(n){return fi.current.useState(n)};gt.useSyncExternalStore=function(n,e,t){return fi.current.useSyncExternalStore(n,e,t)};gt.useTransition=function(){return fi.current.useTransition()};gt.version="18.2.0";(function(n){n.exports=gt})(w4);const xx=TT(G),sv=v4({__proto__:null,default:xx},[G]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O4=G,F4=Symbol.for("react.element"),B4=Symbol.for("react.fragment"),U4=Object.prototype.hasOwnProperty,V4=O4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,H4={key:!0,ref:!0,__self:!0,__source:!0};function DT(n,e,t){var i,r={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)U4.call(e,i)&&!H4.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:F4,type:n,key:s,ref:o,props:r,_owner:V4.current}}Pm.Fragment=B4;Pm.jsx=DT;Pm.jsxs=DT;(function(n){n.exports=Pm})(_4);const Of=Qc.Fragment,ae=Qc.jsx,mt=Qc.jsxs;var ov={},av={},G4={get exports(){return av},set exports(n){av=n}},Ui={},lv={},W4={get exports(){return lv},set exports(n){lv=n}},kT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(I,B){var U=I.length;I.push(B);e:for(;0<U;){var te=U-1>>>1,H=I[te];if(0<r(H,B))I[te]=B,I[U]=H,U=te;else break e}}function t(I){return I.length===0?null:I[0]}function i(I){if(I.length===0)return null;var B=I[0],U=I.pop();if(U!==B){I[0]=U;e:for(var te=0,H=I.length,ue=H>>>1;te<ue;){var me=2*(te+1)-1,q=I[me],xe=me+1,_e=I[xe];if(0>r(q,U))xe<H&&0>r(_e,q)?(I[te]=_e,I[xe]=U,te=xe):(I[te]=q,I[me]=U,te=me);else if(xe<H&&0>r(_e,U))I[te]=_e,I[xe]=U,te=xe;else break e}}return B}function r(I,B){var U=I.sortIndex-B.sortIndex;return U!==0?U:I.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var u=[],f=[],h=1,d=null,p=3,g=!1,y=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(I){for(var B=t(f);B!==null;){if(B.callback===null)i(f);else if(B.startTime<=I)i(f),B.sortIndex=B.expirationTime,e(u,B);else break;B=t(f)}}function T(I){if(v=!1,S(I),!y)if(t(u)!==null)y=!0,ne(C);else{var B=t(f);B!==null&&fe(T,B.startTime-I)}}function C(I,B){y=!1,v&&(v=!1,M(b),b=-1),g=!0;var U=p;try{for(S(B),d=t(u);d!==null&&(!(d.expirationTime>B)||I&&!V());){var te=d.callback;if(typeof te=="function"){d.callback=null,p=d.priorityLevel;var H=te(d.expirationTime<=B);B=n.unstable_now(),typeof H=="function"?d.callback=H:d===t(u)&&i(u),S(B)}else i(u);d=t(u)}if(d!==null)var ue=!0;else{var me=t(f);me!==null&&fe(T,me.startTime-B),ue=!1}return ue}finally{d=null,p=U,g=!1}}var P=!1,R=null,b=-1,L=5,D=-1;function V(){return!(n.unstable_now()-D<L)}function K(){if(R!==null){var I=n.unstable_now();D=I;var B=!0;try{B=R(!0,I)}finally{B?Y():(P=!1,R=null)}}else P=!1}var Y;if(typeof _=="function")Y=function(){_(K)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,J=W.port2;W.port1.onmessage=K,Y=function(){J.postMessage(null)}}else Y=function(){w(K,0)};function ne(I){R=I,P||(P=!0,Y())}function fe(I,B){b=w(function(){I(n.unstable_now())},B)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(I){I.callback=null},n.unstable_continueExecution=function(){y||g||(y=!0,ne(C))},n.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<I?Math.floor(1e3/I):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(u)},n.unstable_next=function(I){switch(p){case 1:case 2:case 3:var B=3;break;default:B=p}var U=p;p=B;try{return I()}finally{p=U}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(I,B){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var U=p;p=I;try{return B()}finally{p=U}},n.unstable_scheduleCallback=function(I,B,U){var te=n.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?te+U:te):U=te,I){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=U+H,I={id:h++,callback:B,priorityLevel:I,startTime:U,expirationTime:H,sortIndex:-1},U>te?(I.sortIndex=U,e(f,I),t(u)===null&&I===t(f)&&(v?(M(b),b=-1):v=!0,fe(T,U-te))):(I.sortIndex=H,e(u,I),y||g||(y=!0,ne(C))),I},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(I){var B=p;return function(){var U=p;p=B;try{return I.apply(this,arguments)}finally{p=U}}}})(kT);(function(n){n.exports=kT})(W4);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NT=G,Fi=lv;function ve(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zT=new Set,Yc={};function Va(n,e){au(n,e),au(n+"Capture",e)}function au(n,e){for(Yc[n]=e,n=0;n<e.length;n++)zT.add(e[n])}var bs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uv=Object.prototype.hasOwnProperty,j4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hM={},dM={};function X4(n){return uv.call(dM,n)?!0:uv.call(hM,n)?!1:j4.test(n)?dM[n]=!0:(hM[n]=!0,!1)}function Q4(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function Y4(n,e,t,i){if(e===null||typeof e>"u"||Q4(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function hi(n,e,t,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Bn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Bn[n]=new hi(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Bn[e]=new hi(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Bn[n]=new hi(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Bn[n]=new hi(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Bn[n]=new hi(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Bn[n]=new hi(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Bn[n]=new hi(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Bn[n]=new hi(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Bn[n]=new hi(n,5,!1,n.toLowerCase(),null,!1,!1)});var _x=/[\-:]([a-z])/g;function wx(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(_x,wx);Bn[e]=new hi(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(_x,wx);Bn[e]=new hi(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(_x,wx);Bn[e]=new hi(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Bn[n]=new hi(n,1,!1,n.toLowerCase(),null,!1,!1)});Bn.xlinkHref=new hi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Bn[n]=new hi(n,1,!1,n.toLowerCase(),null,!0,!0)});function Sx(n,e,t,i){var r=Bn.hasOwnProperty(e)?Bn[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Y4(e,t,r,i)&&(t=null),i||r===null?X4(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var zs=NT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cd=Symbol.for("react.element"),Dl=Symbol.for("react.portal"),kl=Symbol.for("react.fragment"),Mx=Symbol.for("react.strict_mode"),cv=Symbol.for("react.profiler"),OT=Symbol.for("react.provider"),FT=Symbol.for("react.context"),Ex=Symbol.for("react.forward_ref"),fv=Symbol.for("react.suspense"),hv=Symbol.for("react.suspense_list"),Tx=Symbol.for("react.memo"),no=Symbol.for("react.lazy"),BT=Symbol.for("react.offscreen"),pM=Symbol.iterator;function qu(n){return n===null||typeof n!="object"?null:(n=pM&&n[pM]||n["@@iterator"],typeof n=="function"?n:null)}var Zt=Object.assign,R0;function wc(n){if(R0===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);R0=e&&e[1]||""}return`
`+R0+n}var I0=!1;function D0(n,e){if(!n||I0)return"";I0=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var i=f}Reflect.construct(n,[],e)}else{try{e.call()}catch(f){i=f}n.call(e.prototype)}else{try{throw Error()}catch(f){i=f}n()}}catch(f){if(f&&i&&typeof f.stack=="string"){for(var r=f.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var u=`
`+r[o].replace(" at new "," at ");return n.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",n.displayName)),u}while(1<=o&&0<=a);break}}}finally{I0=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?wc(n):""}function q4(n){switch(n.tag){case 5:return wc(n.type);case 16:return wc("Lazy");case 13:return wc("Suspense");case 19:return wc("SuspenseList");case 0:case 2:case 15:return n=D0(n.type,!1),n;case 11:return n=D0(n.type.render,!1),n;case 1:return n=D0(n.type,!0),n;default:return""}}function dv(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case kl:return"Fragment";case Dl:return"Portal";case cv:return"Profiler";case Mx:return"StrictMode";case fv:return"Suspense";case hv:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case FT:return(n.displayName||"Context")+".Consumer";case OT:return(n._context.displayName||"Context")+".Provider";case Ex:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Tx:return e=n.displayName||null,e!==null?e:dv(n.type)||"Memo";case no:e=n._payload,n=n._init;try{return dv(n(e))}catch{}}return null}function J4(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return dv(e);case 8:return e===Mx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function To(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function UT(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Z4(n){var e=UT(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function fd(n){n._valueTracker||(n._valueTracker=Z4(n))}function VT(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=UT(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function Vp(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function pv(n,e){var t=e.checked;return Zt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function mM(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=To(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function HT(n,e){e=e.checked,e!=null&&Sx(n,"checked",e,!1)}function mv(n,e){HT(n,e);var t=To(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?gv(n,e.type,t):e.hasOwnProperty("defaultValue")&&gv(n,e.type,To(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function gM(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function gv(n,e,t){(e!=="number"||Vp(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Sc=Array.isArray;function Kl(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+To(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function yv(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ve(91));return Zt({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function yM(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(ve(92));if(Sc(t)){if(1<t.length)throw Error(ve(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:To(t)}}function GT(n,e){var t=To(e.value),i=To(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function vM(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function WT(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vv(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?WT(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var hd,jT=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(hd=hd||document.createElement("div"),hd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=hd.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function qc(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var bc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},K4=["Webkit","ms","Moz","O"];Object.keys(bc).forEach(function(n){K4.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),bc[e]=bc[n]})});function XT(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||bc.hasOwnProperty(n)&&bc[n]?(""+e).trim():e+"px"}function QT(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=XT(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var $4=Zt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xv(n,e){if(e){if($4[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ve(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ve(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ve(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ve(62))}}function _v(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wv=null;function Ax(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Sv=null,$l=null,eu=null;function xM(n){if(n=Uf(n)){if(typeof Sv!="function")throw Error(ve(280));var e=n.stateNode;e&&(e=km(e),Sv(n.stateNode,n.type,e))}}function YT(n){$l?eu?eu.push(n):eu=[n]:$l=n}function qT(){if($l){var n=$l,e=eu;if(eu=$l=null,xM(n),e)for(n=0;n<e.length;n++)xM(e[n])}}function JT(n,e){return n(e)}function ZT(){}var k0=!1;function KT(n,e,t){if(k0)return n(e,t);k0=!0;try{return JT(n,e,t)}finally{k0=!1,($l!==null||eu!==null)&&(ZT(),qT())}}function Jc(n,e){var t=n.stateNode;if(t===null)return null;var i=km(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(ve(231,e,typeof t));return t}var Mv=!1;if(bs)try{var Ju={};Object.defineProperty(Ju,"passive",{get:function(){Mv=!0}}),window.addEventListener("test",Ju,Ju),window.removeEventListener("test",Ju,Ju)}catch{Mv=!1}function eI(n,e,t,i,r,s,o,a,u){var f=Array.prototype.slice.call(arguments,3);try{e.apply(t,f)}catch(h){this.onError(h)}}var Cc=!1,Hp=null,Gp=!1,Ev=null,tI={onError:function(n){Cc=!0,Hp=n}};function nI(n,e,t,i,r,s,o,a,u){Cc=!1,Hp=null,eI.apply(tI,arguments)}function iI(n,e,t,i,r,s,o,a,u){if(nI.apply(this,arguments),Cc){if(Cc){var f=Hp;Cc=!1,Hp=null}else throw Error(ve(198));Gp||(Gp=!0,Ev=f)}}function Ha(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function $T(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function _M(n){if(Ha(n)!==n)throw Error(ve(188))}function rI(n){var e=n.alternate;if(!e){if(e=Ha(n),e===null)throw Error(ve(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return _M(r),n;if(s===i)return _M(r),e;s=s.sibling}throw Error(ve(188))}if(t.return!==i.return)t=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===t){o=!0,t=r,i=s;break}if(a===i){o=!0,i=r,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,i=r;break}if(a===i){o=!0,i=s,t=r;break}a=a.sibling}if(!o)throw Error(ve(189))}}if(t.alternate!==i)throw Error(ve(190))}if(t.tag!==3)throw Error(ve(188));return t.stateNode.current===t?n:e}function eA(n){return n=rI(n),n!==null?tA(n):null}function tA(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=tA(n);if(e!==null)return e;n=n.sibling}return null}var nA=Fi.unstable_scheduleCallback,wM=Fi.unstable_cancelCallback,sI=Fi.unstable_shouldYield,oI=Fi.unstable_requestPaint,fn=Fi.unstable_now,aI=Fi.unstable_getCurrentPriorityLevel,bx=Fi.unstable_ImmediatePriority,iA=Fi.unstable_UserBlockingPriority,Wp=Fi.unstable_NormalPriority,lI=Fi.unstable_LowPriority,rA=Fi.unstable_IdlePriority,Lm=null,Xr=null;function uI(n){if(Xr&&typeof Xr.onCommitFiberRoot=="function")try{Xr.onCommitFiberRoot(Lm,n,void 0,(n.current.flags&128)===128)}catch{}}var Tr=Math.clz32?Math.clz32:hI,cI=Math.log,fI=Math.LN2;function hI(n){return n>>>=0,n===0?32:31-(cI(n)/fI|0)|0}var dd=64,pd=4194304;function Mc(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function jp(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~r;a!==0?i=Mc(a):(s&=o,s!==0&&(i=Mc(s)))}else o=t&~r,o!==0?i=Mc(o):s!==0&&(i=Mc(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-Tr(e),r=1<<t,i|=n[t],e&=~r;return i}function dI(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pI(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Tr(s),a=1<<o,u=r[o];u===-1?(!(a&t)||a&i)&&(r[o]=dI(a,e)):u<=e&&(n.expiredLanes|=a),s&=~a}}function Tv(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function sA(){var n=dd;return dd<<=1,!(dd&4194240)&&(dd=64),n}function N0(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Ff(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Tr(e),n[e]=t}function mI(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-Tr(t),s=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~s}}function Cx(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-Tr(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var Lt=0;function oA(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var aA,Px,lA,uA,cA,Av=!1,md=[],po=null,mo=null,go=null,Zc=new Map,Kc=new Map,oo=[],gI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function SM(n,e){switch(n){case"focusin":case"focusout":po=null;break;case"dragenter":case"dragleave":mo=null;break;case"mouseover":case"mouseout":go=null;break;case"pointerover":case"pointerout":Zc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kc.delete(e.pointerId)}}function Zu(n,e,t,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=Uf(e),e!==null&&Px(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function yI(n,e,t,i,r){switch(e){case"focusin":return po=Zu(po,n,e,t,i,r),!0;case"dragenter":return mo=Zu(mo,n,e,t,i,r),!0;case"mouseover":return go=Zu(go,n,e,t,i,r),!0;case"pointerover":var s=r.pointerId;return Zc.set(s,Zu(Zc.get(s)||null,n,e,t,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Kc.set(s,Zu(Kc.get(s)||null,n,e,t,i,r)),!0}return!1}function fA(n){var e=da(n.target);if(e!==null){var t=Ha(e);if(t!==null){if(e=t.tag,e===13){if(e=$T(t),e!==null){n.blockedOn=e,cA(n.priority,function(){lA(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function wp(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=bv(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);wv=i,t.target.dispatchEvent(i),wv=null}else return e=Uf(t),e!==null&&Px(e),n.blockedOn=t,!1;e.shift()}return!0}function MM(n,e,t){wp(n)&&t.delete(e)}function vI(){Av=!1,po!==null&&wp(po)&&(po=null),mo!==null&&wp(mo)&&(mo=null),go!==null&&wp(go)&&(go=null),Zc.forEach(MM),Kc.forEach(MM)}function Ku(n,e){n.blockedOn===e&&(n.blockedOn=null,Av||(Av=!0,Fi.unstable_scheduleCallback(Fi.unstable_NormalPriority,vI)))}function $c(n){function e(r){return Ku(r,n)}if(0<md.length){Ku(md[0],n);for(var t=1;t<md.length;t++){var i=md[t];i.blockedOn===n&&(i.blockedOn=null)}}for(po!==null&&Ku(po,n),mo!==null&&Ku(mo,n),go!==null&&Ku(go,n),Zc.forEach(e),Kc.forEach(e),t=0;t<oo.length;t++)i=oo[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<oo.length&&(t=oo[0],t.blockedOn===null);)fA(t),t.blockedOn===null&&oo.shift()}var tu=zs.ReactCurrentBatchConfig,Xp=!0;function xI(n,e,t,i){var r=Lt,s=tu.transition;tu.transition=null;try{Lt=1,Lx(n,e,t,i)}finally{Lt=r,tu.transition=s}}function _I(n,e,t,i){var r=Lt,s=tu.transition;tu.transition=null;try{Lt=4,Lx(n,e,t,i)}finally{Lt=r,tu.transition=s}}function Lx(n,e,t,i){if(Xp){var r=bv(n,e,t,i);if(r===null)j0(n,e,i,Qp,t),SM(n,i);else if(yI(r,n,e,t,i))i.stopPropagation();else if(SM(n,i),e&4&&-1<gI.indexOf(n)){for(;r!==null;){var s=Uf(r);if(s!==null&&aA(s),s=bv(n,e,t,i),s===null&&j0(n,e,i,Qp,t),s===r)break;r=s}r!==null&&i.stopPropagation()}else j0(n,e,i,null,t)}}var Qp=null;function bv(n,e,t,i){if(Qp=null,n=Ax(i),n=da(n),n!==null)if(e=Ha(n),e===null)n=null;else if(t=e.tag,t===13){if(n=$T(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Qp=n,null}function hA(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(aI()){case bx:return 1;case iA:return 4;case Wp:case lI:return 16;case rA:return 536870912;default:return 16}default:return 16}}var lo=null,Rx=null,Sp=null;function dA(){if(Sp)return Sp;var n,e=Rx,t=e.length,i,r="value"in lo?lo.value:lo.textContent,s=r.length;for(n=0;n<t&&e[n]===r[n];n++);var o=t-n;for(i=1;i<=o&&e[t-i]===r[s-i];i++);return Sp=r.slice(n,1<i?1-i:void 0)}function Mp(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function gd(){return!0}function EM(){return!1}function Vi(n){function e(t,i,r,s,o){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?gd:EM,this.isPropagationStopped=EM,this}return Zt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=gd)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=gd)},persist:function(){},isPersistent:gd}),e}var wu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ix=Vi(wu),Bf=Zt({},wu,{view:0,detail:0}),wI=Vi(Bf),z0,O0,$u,Rm=Zt({},Bf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dx,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==$u&&($u&&n.type==="mousemove"?(z0=n.screenX-$u.screenX,O0=n.screenY-$u.screenY):O0=z0=0,$u=n),z0)},movementY:function(n){return"movementY"in n?n.movementY:O0}}),TM=Vi(Rm),SI=Zt({},Rm,{dataTransfer:0}),MI=Vi(SI),EI=Zt({},Bf,{relatedTarget:0}),F0=Vi(EI),TI=Zt({},wu,{animationName:0,elapsedTime:0,pseudoElement:0}),AI=Vi(TI),bI=Zt({},wu,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),CI=Vi(bI),PI=Zt({},wu,{data:0}),AM=Vi(PI),LI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},II={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DI(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=II[n])?!!e[n]:!1}function Dx(){return DI}var kI=Zt({},Bf,{key:function(n){if(n.key){var e=LI[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Mp(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?RI[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dx,charCode:function(n){return n.type==="keypress"?Mp(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Mp(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),NI=Vi(kI),zI=Zt({},Rm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bM=Vi(zI),OI=Zt({},Bf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dx}),FI=Vi(OI),BI=Zt({},wu,{propertyName:0,elapsedTime:0,pseudoElement:0}),UI=Vi(BI),VI=Zt({},Rm,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),HI=Vi(VI),GI=[9,13,27,32],kx=bs&&"CompositionEvent"in window,Pc=null;bs&&"documentMode"in document&&(Pc=document.documentMode);var WI=bs&&"TextEvent"in window&&!Pc,pA=bs&&(!kx||Pc&&8<Pc&&11>=Pc),CM=String.fromCharCode(32),PM=!1;function mA(n,e){switch(n){case"keyup":return GI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gA(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Nl=!1;function jI(n,e){switch(n){case"compositionend":return gA(e);case"keypress":return e.which!==32?null:(PM=!0,CM);case"textInput":return n=e.data,n===CM&&PM?null:n;default:return null}}function XI(n,e){if(Nl)return n==="compositionend"||!kx&&mA(n,e)?(n=dA(),Sp=Rx=lo=null,Nl=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return pA&&e.locale!=="ko"?null:e.data;default:return null}}var QI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function LM(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!QI[n.type]:e==="textarea"}function yA(n,e,t,i){YT(i),e=Yp(e,"onChange"),0<e.length&&(t=new Ix("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var Lc=null,ef=null;function YI(n){CA(n,0)}function Im(n){var e=Fl(n);if(VT(e))return n}function qI(n,e){if(n==="change")return e}var vA=!1;if(bs){var B0;if(bs){var U0="oninput"in document;if(!U0){var RM=document.createElement("div");RM.setAttribute("oninput","return;"),U0=typeof RM.oninput=="function"}B0=U0}else B0=!1;vA=B0&&(!document.documentMode||9<document.documentMode)}function IM(){Lc&&(Lc.detachEvent("onpropertychange",xA),ef=Lc=null)}function xA(n){if(n.propertyName==="value"&&Im(ef)){var e=[];yA(e,ef,n,Ax(n)),KT(YI,e)}}function JI(n,e,t){n==="focusin"?(IM(),Lc=e,ef=t,Lc.attachEvent("onpropertychange",xA)):n==="focusout"&&IM()}function ZI(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Im(ef)}function KI(n,e){if(n==="click")return Im(e)}function $I(n,e){if(n==="input"||n==="change")return Im(e)}function eD(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Cr=typeof Object.is=="function"?Object.is:eD;function tf(n,e){if(Cr(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!uv.call(e,r)||!Cr(n[r],e[r]))return!1}return!0}function DM(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function kM(n,e){var t=DM(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=DM(t)}}function _A(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?_A(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function wA(){for(var n=window,e=Vp();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Vp(n.document)}return e}function Nx(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function tD(n){var e=wA(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&_A(t.ownerDocument.documentElement,t)){if(i!==null&&Nx(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=kM(t,s);var o=kM(t,i);r&&o&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var nD=bs&&"documentMode"in document&&11>=document.documentMode,zl=null,Cv=null,Rc=null,Pv=!1;function NM(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Pv||zl==null||zl!==Vp(i)||(i=zl,"selectionStart"in i&&Nx(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Rc&&tf(Rc,i)||(Rc=i,i=Yp(Cv,"onSelect"),0<i.length&&(e=new Ix("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=zl)))}function yd(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Ol={animationend:yd("Animation","AnimationEnd"),animationiteration:yd("Animation","AnimationIteration"),animationstart:yd("Animation","AnimationStart"),transitionend:yd("Transition","TransitionEnd")},V0={},SA={};bs&&(SA=document.createElement("div").style,"AnimationEvent"in window||(delete Ol.animationend.animation,delete Ol.animationiteration.animation,delete Ol.animationstart.animation),"TransitionEvent"in window||delete Ol.transitionend.transition);function Dm(n){if(V0[n])return V0[n];if(!Ol[n])return n;var e=Ol[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in SA)return V0[n]=e[t];return n}var MA=Dm("animationend"),EA=Dm("animationiteration"),TA=Dm("animationstart"),AA=Dm("transitionend"),bA=new Map,zM="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Do(n,e){bA.set(n,e),Va(e,[n])}for(var H0=0;H0<zM.length;H0++){var G0=zM[H0],iD=G0.toLowerCase(),rD=G0[0].toUpperCase()+G0.slice(1);Do(iD,"on"+rD)}Do(MA,"onAnimationEnd");Do(EA,"onAnimationIteration");Do(TA,"onAnimationStart");Do("dblclick","onDoubleClick");Do("focusin","onFocus");Do("focusout","onBlur");Do(AA,"onTransitionEnd");au("onMouseEnter",["mouseout","mouseover"]);au("onMouseLeave",["mouseout","mouseover"]);au("onPointerEnter",["pointerout","pointerover"]);au("onPointerLeave",["pointerout","pointerover"]);Va("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Va("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Va("onBeforeInput",["compositionend","keypress","textInput","paste"]);Va("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Va("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Va("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ec="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sD=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ec));function OM(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,iI(i,e,void 0,n),n.currentTarget=null}function CA(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],u=a.instance,f=a.currentTarget;if(a=a.listener,u!==s&&r.isPropagationStopped())break e;OM(r,a,f),s=u}else for(o=0;o<i.length;o++){if(a=i[o],u=a.instance,f=a.currentTarget,a=a.listener,u!==s&&r.isPropagationStopped())break e;OM(r,a,f),s=u}}}if(Gp)throw n=Ev,Gp=!1,Ev=null,n}function Ft(n,e){var t=e[kv];t===void 0&&(t=e[kv]=new Set);var i=n+"__bubble";t.has(i)||(PA(e,n,2,!1),t.add(i))}function W0(n,e,t){var i=0;e&&(i|=4),PA(t,n,i,e)}var vd="_reactListening"+Math.random().toString(36).slice(2);function nf(n){if(!n[vd]){n[vd]=!0,zT.forEach(function(t){t!=="selectionchange"&&(sD.has(t)||W0(t,!1,n),W0(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[vd]||(e[vd]=!0,W0("selectionchange",!1,e))}}function PA(n,e,t,i){switch(hA(e)){case 1:var r=xI;break;case 4:r=_I;break;default:r=Lx}t=r.bind(null,e,t,n),r=void 0,!Mv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function j0(n,e,t,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===r||u.nodeType===8&&u.parentNode===r))return;o=o.return}for(;a!==null;){if(o=da(a),o===null)return;if(u=o.tag,u===5||u===6){i=s=o;continue e}a=a.parentNode}}i=i.return}KT(function(){var f=s,h=Ax(t),d=[];e:{var p=bA.get(n);if(p!==void 0){var g=Ix,y=n;switch(n){case"keypress":if(Mp(t)===0)break e;case"keydown":case"keyup":g=NI;break;case"focusin":y="focus",g=F0;break;case"focusout":y="blur",g=F0;break;case"beforeblur":case"afterblur":g=F0;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=TM;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=MI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=FI;break;case MA:case EA:case TA:g=AI;break;case AA:g=UI;break;case"scroll":g=wI;break;case"wheel":g=HI;break;case"copy":case"cut":case"paste":g=CI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=bM}var v=(e&4)!==0,w=!v&&n==="scroll",M=v?p!==null?p+"Capture":null:p;v=[];for(var _=f,S;_!==null;){S=_;var T=S.stateNode;if(S.tag===5&&T!==null&&(S=T,M!==null&&(T=Jc(_,M),T!=null&&v.push(rf(_,T,S)))),w)break;_=_.return}0<v.length&&(p=new g(p,y,null,t,h),d.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",g=n==="mouseout"||n==="pointerout",p&&t!==wv&&(y=t.relatedTarget||t.fromElement)&&(da(y)||y[Cs]))break e;if((g||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,g?(y=t.relatedTarget||t.toElement,g=f,y=y?da(y):null,y!==null&&(w=Ha(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=f),g!==y)){if(v=TM,T="onMouseLeave",M="onMouseEnter",_="mouse",(n==="pointerout"||n==="pointerover")&&(v=bM,T="onPointerLeave",M="onPointerEnter",_="pointer"),w=g==null?p:Fl(g),S=y==null?p:Fl(y),p=new v(T,_+"leave",g,t,h),p.target=w,p.relatedTarget=S,T=null,da(h)===f&&(v=new v(M,_+"enter",y,t,h),v.target=S,v.relatedTarget=w,T=v),w=T,g&&y)t:{for(v=g,M=y,_=0,S=v;S;S=cl(S))_++;for(S=0,T=M;T;T=cl(T))S++;for(;0<_-S;)v=cl(v),_--;for(;0<S-_;)M=cl(M),S--;for(;_--;){if(v===M||M!==null&&v===M.alternate)break t;v=cl(v),M=cl(M)}v=null}else v=null;g!==null&&FM(d,p,g,v,!1),y!==null&&w!==null&&FM(d,w,y,v,!0)}}e:{if(p=f?Fl(f):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var C=qI;else if(LM(p))if(vA)C=$I;else{C=ZI;var P=JI}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(C=KI);if(C&&(C=C(n,f))){yA(d,C,t,h);break e}P&&P(n,p,f),n==="focusout"&&(P=p._wrapperState)&&P.controlled&&p.type==="number"&&gv(p,"number",p.value)}switch(P=f?Fl(f):window,n){case"focusin":(LM(P)||P.contentEditable==="true")&&(zl=P,Cv=f,Rc=null);break;case"focusout":Rc=Cv=zl=null;break;case"mousedown":Pv=!0;break;case"contextmenu":case"mouseup":case"dragend":Pv=!1,NM(d,t,h);break;case"selectionchange":if(nD)break;case"keydown":case"keyup":NM(d,t,h)}var R;if(kx)e:{switch(n){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Nl?mA(n,t)&&(b="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(b="onCompositionStart");b&&(pA&&t.locale!=="ko"&&(Nl||b!=="onCompositionStart"?b==="onCompositionEnd"&&Nl&&(R=dA()):(lo=h,Rx="value"in lo?lo.value:lo.textContent,Nl=!0)),P=Yp(f,b),0<P.length&&(b=new AM(b,n,null,t,h),d.push({event:b,listeners:P}),R?b.data=R:(R=gA(t),R!==null&&(b.data=R)))),(R=WI?jI(n,t):XI(n,t))&&(f=Yp(f,"onBeforeInput"),0<f.length&&(h=new AM("onBeforeInput","beforeinput",null,t,h),d.push({event:h,listeners:f}),h.data=R))}CA(d,e)})}function rf(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Yp(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Jc(n,t),s!=null&&i.unshift(rf(n,s,r)),s=Jc(n,e),s!=null&&i.push(rf(n,s,r))),n=n.return}return i}function cl(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function FM(n,e,t,i,r){for(var s=e._reactName,o=[];t!==null&&t!==i;){var a=t,u=a.alternate,f=a.stateNode;if(u!==null&&u===i)break;a.tag===5&&f!==null&&(a=f,r?(u=Jc(t,s),u!=null&&o.unshift(rf(t,u,a))):r||(u=Jc(t,s),u!=null&&o.push(rf(t,u,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var oD=/\r\n?/g,aD=/\u0000|\uFFFD/g;function BM(n){return(typeof n=="string"?n:""+n).replace(oD,`
`).replace(aD,"")}function xd(n,e,t){if(e=BM(e),BM(n)!==e&&t)throw Error(ve(425))}function qp(){}var Lv=null,Rv=null;function Iv(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Dv=typeof setTimeout=="function"?setTimeout:void 0,lD=typeof clearTimeout=="function"?clearTimeout:void 0,UM=typeof Promise=="function"?Promise:void 0,uD=typeof queueMicrotask=="function"?queueMicrotask:typeof UM<"u"?function(n){return UM.resolve(null).then(n).catch(cD)}:Dv;function cD(n){setTimeout(function(){throw n})}function X0(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),$c(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);$c(e)}function yo(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function VM(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Su=Math.random().toString(36).slice(2),jr="__reactFiber$"+Su,sf="__reactProps$"+Su,Cs="__reactContainer$"+Su,kv="__reactEvents$"+Su,fD="__reactListeners$"+Su,hD="__reactHandles$"+Su;function da(n){var e=n[jr];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Cs]||t[jr]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=VM(n);n!==null;){if(t=n[jr])return t;n=VM(n)}return e}n=t,t=n.parentNode}return null}function Uf(n){return n=n[jr]||n[Cs],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Fl(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(ve(33))}function km(n){return n[sf]||null}var Nv=[],Bl=-1;function ko(n){return{current:n}}function Ut(n){0>Bl||(n.current=Nv[Bl],Nv[Bl]=null,Bl--)}function Ot(n,e){Bl++,Nv[Bl]=n.current,n.current=e}var Ao={},$n=ko(Ao),wi=ko(!1),Ra=Ao;function lu(n,e){var t=n.type.contextTypes;if(!t)return Ao;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function Si(n){return n=n.childContextTypes,n!=null}function Jp(){Ut(wi),Ut($n)}function HM(n,e,t){if($n.current!==Ao)throw Error(ve(168));Ot($n,e),Ot(wi,t)}function LA(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(ve(108,J4(n)||"Unknown",r));return Zt({},t,i)}function Zp(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Ao,Ra=$n.current,Ot($n,n),Ot(wi,wi.current),!0}function GM(n,e,t){var i=n.stateNode;if(!i)throw Error(ve(169));t?(n=LA(n,e,Ra),i.__reactInternalMemoizedMergedChildContext=n,Ut(wi),Ut($n),Ot($n,n)):Ut(wi),Ot(wi,t)}var ps=null,Nm=!1,Q0=!1;function RA(n){ps===null?ps=[n]:ps.push(n)}function dD(n){Nm=!0,RA(n)}function No(){if(!Q0&&ps!==null){Q0=!0;var n=0,e=Lt;try{var t=ps;for(Lt=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}ps=null,Nm=!1}catch(r){throw ps!==null&&(ps=ps.slice(n+1)),nA(bx,No),r}finally{Lt=e,Q0=!1}}return null}var Ul=[],Vl=0,Kp=null,$p=0,nr=[],ir=0,Ia=null,ys=1,vs="";function oa(n,e){Ul[Vl++]=$p,Ul[Vl++]=Kp,Kp=n,$p=e}function IA(n,e,t){nr[ir++]=ys,nr[ir++]=vs,nr[ir++]=Ia,Ia=n;var i=ys;n=vs;var r=32-Tr(i)-1;i&=~(1<<r),t+=1;var s=32-Tr(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,ys=1<<32-Tr(e)+r|t<<r|i,vs=s+n}else ys=1<<s|t<<r|i,vs=n}function zx(n){n.return!==null&&(oa(n,1),IA(n,1,0))}function Ox(n){for(;n===Kp;)Kp=Ul[--Vl],Ul[Vl]=null,$p=Ul[--Vl],Ul[Vl]=null;for(;n===Ia;)Ia=nr[--ir],nr[ir]=null,vs=nr[--ir],nr[ir]=null,ys=nr[--ir],nr[ir]=null}var zi=null,Ni=null,jt=!1,Mr=null;function DA(n,e){var t=sr(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function WM(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,zi=n,Ni=yo(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,zi=n,Ni=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Ia!==null?{id:ys,overflow:vs}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=sr(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,zi=n,Ni=null,!0):!1;default:return!1}}function zv(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Ov(n){if(jt){var e=Ni;if(e){var t=e;if(!WM(n,e)){if(zv(n))throw Error(ve(418));e=yo(t.nextSibling);var i=zi;e&&WM(n,e)?DA(i,t):(n.flags=n.flags&-4097|2,jt=!1,zi=n)}}else{if(zv(n))throw Error(ve(418));n.flags=n.flags&-4097|2,jt=!1,zi=n}}}function jM(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;zi=n}function _d(n){if(n!==zi)return!1;if(!jt)return jM(n),jt=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!Iv(n.type,n.memoizedProps)),e&&(e=Ni)){if(zv(n))throw kA(),Error(ve(418));for(;e;)DA(n,e),e=yo(e.nextSibling)}if(jM(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(ve(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Ni=yo(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Ni=null}}else Ni=zi?yo(n.stateNode.nextSibling):null;return!0}function kA(){for(var n=Ni;n;)n=yo(n.nextSibling)}function uu(){Ni=zi=null,jt=!1}function Fx(n){Mr===null?Mr=[n]:Mr.push(n)}var pD=zs.ReactCurrentBatchConfig;function _r(n,e){if(n&&n.defaultProps){e=Zt({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var em=ko(null),tm=null,Hl=null,Bx=null;function Ux(){Bx=Hl=tm=null}function Vx(n){var e=em.current;Ut(em),n._currentValue=e}function Fv(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function nu(n,e){tm=n,Bx=Hl=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(_i=!0),n.firstContext=null)}function ur(n){var e=n._currentValue;if(Bx!==n)if(n={context:n,memoizedValue:e,next:null},Hl===null){if(tm===null)throw Error(ve(308));Hl=n,tm.dependencies={lanes:0,firstContext:n}}else Hl=Hl.next=n;return e}var pa=null;function Hx(n){pa===null?pa=[n]:pa.push(n)}function NA(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,Hx(e)):(t.next=r.next,r.next=t),e.interleaved=t,Ps(n,i)}function Ps(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var io=!1;function Gx(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zA(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Ms(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function vo(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,wt&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Ps(n,t)}return r=i.interleaved,r===null?(e.next=e,Hx(i)):(e.next=r.next,r.next=e),i.interleaved=e,Ps(n,t)}function Ep(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,Cx(n,t)}}function XM(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function nm(n,e,t,i){var r=n.updateQueue;io=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var u=a,f=u.next;u.next=null,o===null?s=f:o.next=f,o=u;var h=n.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=f:a.next=f,h.lastBaseUpdate=u))}if(s!==null){var d=r.baseState;o=0,h=f=u=null,a=s;do{var p=a.lane,g=a.eventTime;if((i&p)===p){h!==null&&(h=h.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=n,v=a;switch(p=e,g=t,v.tag){case 1:if(y=v.payload,typeof y=="function"){d=y.call(g,d,p);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,p=typeof y=="function"?y.call(g,d,p):y,p==null)break e;d=Zt({},d,p);break e;case 2:io=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=r.effects,p===null?r.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(f=h=g,u=d):h=h.next=g,o|=p;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;p=a,a=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(1);if(h===null&&(u=d),r.baseState=u,r.firstBaseUpdate=f,r.lastBaseUpdate=h,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);ka|=o,n.lanes=o,n.memoizedState=d}}function QM(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(ve(191,r));r.call(i)}}}var OA=new NT.Component().refs;function Bv(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:Zt({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var zm={isMounted:function(n){return(n=n._reactInternals)?Ha(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=li(),r=_o(n),s=Ms(i,r);s.payload=e,t!=null&&(s.callback=t),e=vo(n,s,r),e!==null&&(Ar(e,n,r,i),Ep(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=li(),r=_o(n),s=Ms(i,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=vo(n,s,r),e!==null&&(Ar(e,n,r,i),Ep(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=li(),i=_o(n),r=Ms(t,i);r.tag=2,e!=null&&(r.callback=e),e=vo(n,r,i),e!==null&&(Ar(e,n,i,t),Ep(e,n,i))}};function YM(n,e,t,i,r,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!tf(t,i)||!tf(r,s):!0}function FA(n,e,t){var i=!1,r=Ao,s=e.contextType;return typeof s=="object"&&s!==null?s=ur(s):(r=Si(e)?Ra:$n.current,i=e.contextTypes,s=(i=i!=null)?lu(n,r):Ao),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=zm,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),e}function qM(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&zm.enqueueReplaceState(e,e.state,null)}function Uv(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs=OA,Gx(n);var s=e.contextType;typeof s=="object"&&s!==null?r.context=ur(s):(s=Si(e)?Ra:$n.current,r.context=lu(n,s)),r.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Bv(n,e,s,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&zm.enqueueReplaceState(r,r.state,null),nm(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function ec(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(ve(309));var i=t.stateNode}if(!i)throw Error(ve(147,n));var r=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;a===OA&&(a=r.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(ve(284));if(!t._owner)throw Error(ve(290,n))}return n}function wd(n,e){throw n=Object.prototype.toString.call(e),Error(ve(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function JM(n){var e=n._init;return e(n._payload)}function BA(n){function e(M,_){if(n){var S=M.deletions;S===null?(M.deletions=[_],M.flags|=16):S.push(_)}}function t(M,_){if(!n)return null;for(;_!==null;)e(M,_),_=_.sibling;return null}function i(M,_){for(M=new Map;_!==null;)_.key!==null?M.set(_.key,_):M.set(_.index,_),_=_.sibling;return M}function r(M,_){return M=wo(M,_),M.index=0,M.sibling=null,M}function s(M,_,S){return M.index=S,n?(S=M.alternate,S!==null?(S=S.index,S<_?(M.flags|=2,_):S):(M.flags|=2,_)):(M.flags|=1048576,_)}function o(M){return n&&M.alternate===null&&(M.flags|=2),M}function a(M,_,S,T){return _===null||_.tag!==6?(_=ey(S,M.mode,T),_.return=M,_):(_=r(_,S),_.return=M,_)}function u(M,_,S,T){var C=S.type;return C===kl?h(M,_,S.props.children,T,S.key):_!==null&&(_.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===no&&JM(C)===_.type)?(T=r(_,S.props),T.ref=ec(M,_,S),T.return=M,T):(T=Lp(S.type,S.key,S.props,null,M.mode,T),T.ref=ec(M,_,S),T.return=M,T)}function f(M,_,S,T){return _===null||_.tag!==4||_.stateNode.containerInfo!==S.containerInfo||_.stateNode.implementation!==S.implementation?(_=ty(S,M.mode,T),_.return=M,_):(_=r(_,S.children||[]),_.return=M,_)}function h(M,_,S,T,C){return _===null||_.tag!==7?(_=Ea(S,M.mode,T,C),_.return=M,_):(_=r(_,S),_.return=M,_)}function d(M,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return _=ey(""+_,M.mode,S),_.return=M,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case cd:return S=Lp(_.type,_.key,_.props,null,M.mode,S),S.ref=ec(M,null,_),S.return=M,S;case Dl:return _=ty(_,M.mode,S),_.return=M,_;case no:var T=_._init;return d(M,T(_._payload),S)}if(Sc(_)||qu(_))return _=Ea(_,M.mode,S,null),_.return=M,_;wd(M,_)}return null}function p(M,_,S,T){var C=_!==null?_.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return C!==null?null:a(M,_,""+S,T);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case cd:return S.key===C?u(M,_,S,T):null;case Dl:return S.key===C?f(M,_,S,T):null;case no:return C=S._init,p(M,_,C(S._payload),T)}if(Sc(S)||qu(S))return C!==null?null:h(M,_,S,T,null);wd(M,S)}return null}function g(M,_,S,T,C){if(typeof T=="string"&&T!==""||typeof T=="number")return M=M.get(S)||null,a(_,M,""+T,C);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case cd:return M=M.get(T.key===null?S:T.key)||null,u(_,M,T,C);case Dl:return M=M.get(T.key===null?S:T.key)||null,f(_,M,T,C);case no:var P=T._init;return g(M,_,S,P(T._payload),C)}if(Sc(T)||qu(T))return M=M.get(S)||null,h(_,M,T,C,null);wd(_,T)}return null}function y(M,_,S,T){for(var C=null,P=null,R=_,b=_=0,L=null;R!==null&&b<S.length;b++){R.index>b?(L=R,R=null):L=R.sibling;var D=p(M,R,S[b],T);if(D===null){R===null&&(R=L);break}n&&R&&D.alternate===null&&e(M,R),_=s(D,_,b),P===null?C=D:P.sibling=D,P=D,R=L}if(b===S.length)return t(M,R),jt&&oa(M,b),C;if(R===null){for(;b<S.length;b++)R=d(M,S[b],T),R!==null&&(_=s(R,_,b),P===null?C=R:P.sibling=R,P=R);return jt&&oa(M,b),C}for(R=i(M,R);b<S.length;b++)L=g(R,M,b,S[b],T),L!==null&&(n&&L.alternate!==null&&R.delete(L.key===null?b:L.key),_=s(L,_,b),P===null?C=L:P.sibling=L,P=L);return n&&R.forEach(function(V){return e(M,V)}),jt&&oa(M,b),C}function v(M,_,S,T){var C=qu(S);if(typeof C!="function")throw Error(ve(150));if(S=C.call(S),S==null)throw Error(ve(151));for(var P=C=null,R=_,b=_=0,L=null,D=S.next();R!==null&&!D.done;b++,D=S.next()){R.index>b?(L=R,R=null):L=R.sibling;var V=p(M,R,D.value,T);if(V===null){R===null&&(R=L);break}n&&R&&V.alternate===null&&e(M,R),_=s(V,_,b),P===null?C=V:P.sibling=V,P=V,R=L}if(D.done)return t(M,R),jt&&oa(M,b),C;if(R===null){for(;!D.done;b++,D=S.next())D=d(M,D.value,T),D!==null&&(_=s(D,_,b),P===null?C=D:P.sibling=D,P=D);return jt&&oa(M,b),C}for(R=i(M,R);!D.done;b++,D=S.next())D=g(R,M,b,D.value,T),D!==null&&(n&&D.alternate!==null&&R.delete(D.key===null?b:D.key),_=s(D,_,b),P===null?C=D:P.sibling=D,P=D);return n&&R.forEach(function(K){return e(M,K)}),jt&&oa(M,b),C}function w(M,_,S,T){if(typeof S=="object"&&S!==null&&S.type===kl&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case cd:e:{for(var C=S.key,P=_;P!==null;){if(P.key===C){if(C=S.type,C===kl){if(P.tag===7){t(M,P.sibling),_=r(P,S.props.children),_.return=M,M=_;break e}}else if(P.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===no&&JM(C)===P.type){t(M,P.sibling),_=r(P,S.props),_.ref=ec(M,P,S),_.return=M,M=_;break e}t(M,P);break}else e(M,P);P=P.sibling}S.type===kl?(_=Ea(S.props.children,M.mode,T,S.key),_.return=M,M=_):(T=Lp(S.type,S.key,S.props,null,M.mode,T),T.ref=ec(M,_,S),T.return=M,M=T)}return o(M);case Dl:e:{for(P=S.key;_!==null;){if(_.key===P)if(_.tag===4&&_.stateNode.containerInfo===S.containerInfo&&_.stateNode.implementation===S.implementation){t(M,_.sibling),_=r(_,S.children||[]),_.return=M,M=_;break e}else{t(M,_);break}else e(M,_);_=_.sibling}_=ty(S,M.mode,T),_.return=M,M=_}return o(M);case no:return P=S._init,w(M,_,P(S._payload),T)}if(Sc(S))return y(M,_,S,T);if(qu(S))return v(M,_,S,T);wd(M,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,_!==null&&_.tag===6?(t(M,_.sibling),_=r(_,S),_.return=M,M=_):(t(M,_),_=ey(S,M.mode,T),_.return=M,M=_),o(M)):t(M,_)}return w}var cu=BA(!0),UA=BA(!1),Vf={},Qr=ko(Vf),of=ko(Vf),af=ko(Vf);function ma(n){if(n===Vf)throw Error(ve(174));return n}function Wx(n,e){switch(Ot(af,e),Ot(of,n),Ot(Qr,Vf),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:vv(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=vv(e,n)}Ut(Qr),Ot(Qr,e)}function fu(){Ut(Qr),Ut(of),Ut(af)}function VA(n){ma(af.current);var e=ma(Qr.current),t=vv(e,n.type);e!==t&&(Ot(of,n),Ot(Qr,t))}function jx(n){of.current===n&&(Ut(Qr),Ut(of))}var Qt=ko(0);function im(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Y0=[];function Xx(){for(var n=0;n<Y0.length;n++)Y0[n]._workInProgressVersionPrimary=null;Y0.length=0}var Tp=zs.ReactCurrentDispatcher,q0=zs.ReactCurrentBatchConfig,Da=0,Jt=null,Sn=null,Ln=null,rm=!1,Ic=!1,lf=0,mD=0;function Xn(){throw Error(ve(321))}function Qx(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Cr(n[t],e[t]))return!1;return!0}function Yx(n,e,t,i,r,s){if(Da=s,Jt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Tp.current=n===null||n.memoizedState===null?xD:_D,n=t(i,r),Ic){s=0;do{if(Ic=!1,lf=0,25<=s)throw Error(ve(301));s+=1,Ln=Sn=null,e.updateQueue=null,Tp.current=wD,n=t(i,r)}while(Ic)}if(Tp.current=sm,e=Sn!==null&&Sn.next!==null,Da=0,Ln=Sn=Jt=null,rm=!1,e)throw Error(ve(300));return n}function qx(){var n=lf!==0;return lf=0,n}function Gr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ln===null?Jt.memoizedState=Ln=n:Ln=Ln.next=n,Ln}function cr(){if(Sn===null){var n=Jt.alternate;n=n!==null?n.memoizedState:null}else n=Sn.next;var e=Ln===null?Jt.memoizedState:Ln.next;if(e!==null)Ln=e,Sn=n;else{if(n===null)throw Error(ve(310));Sn=n,n={memoizedState:Sn.memoizedState,baseState:Sn.baseState,baseQueue:Sn.baseQueue,queue:Sn.queue,next:null},Ln===null?Jt.memoizedState=Ln=n:Ln=Ln.next=n}return Ln}function uf(n,e){return typeof e=="function"?e(n):e}function J0(n){var e=cr(),t=e.queue;if(t===null)throw Error(ve(311));t.lastRenderedReducer=n;var i=Sn,r=i.baseQueue,s=t.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,u=null,f=s;do{var h=f.lane;if((Da&h)===h)u!==null&&(u=u.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),i=f.hasEagerState?f.eagerState:n(i,f.action);else{var d={lane:h,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};u===null?(a=u=d,o=i):u=u.next=d,Jt.lanes|=h,ka|=h}f=f.next}while(f!==null&&f!==s);u===null?o=i:u.next=a,Cr(i,e.memoizedState)||(_i=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=u,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do s=r.lane,Jt.lanes|=s,ka|=s,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function Z0(n){var e=cr(),t=e.queue;if(t===null)throw Error(ve(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var o=r=r.next;do s=n(s,o.action),o=o.next;while(o!==r);Cr(s,e.memoizedState)||(_i=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,i]}function HA(){}function GA(n,e){var t=Jt,i=cr(),r=e(),s=!Cr(i.memoizedState,r);if(s&&(i.memoizedState=r,_i=!0),i=i.queue,Jx(XA.bind(null,t,i,n),[n]),i.getSnapshot!==e||s||Ln!==null&&Ln.memoizedState.tag&1){if(t.flags|=2048,cf(9,jA.bind(null,t,i,r,e),void 0,null),In===null)throw Error(ve(349));Da&30||WA(t,e,r)}return r}function WA(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Jt.updateQueue,e===null?(e={lastEffect:null,stores:null},Jt.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function jA(n,e,t,i){e.value=t,e.getSnapshot=i,QA(e)&&YA(n)}function XA(n,e,t){return t(function(){QA(e)&&YA(n)})}function QA(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Cr(n,t)}catch{return!0}}function YA(n){var e=Ps(n,1);e!==null&&Ar(e,n,1,-1)}function ZM(n){var e=Gr();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uf,lastRenderedState:n},e.queue=n,n=n.dispatch=vD.bind(null,Jt,n),[e.memoizedState,n]}function cf(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=Jt.updateQueue,e===null?(e={lastEffect:null,stores:null},Jt.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function qA(){return cr().memoizedState}function Ap(n,e,t,i){var r=Gr();Jt.flags|=n,r.memoizedState=cf(1|e,t,void 0,i===void 0?null:i)}function Om(n,e,t,i){var r=cr();i=i===void 0?null:i;var s=void 0;if(Sn!==null){var o=Sn.memoizedState;if(s=o.destroy,i!==null&&Qx(i,o.deps)){r.memoizedState=cf(e,t,s,i);return}}Jt.flags|=n,r.memoizedState=cf(1|e,t,s,i)}function KM(n,e){return Ap(8390656,8,n,e)}function Jx(n,e){return Om(2048,8,n,e)}function JA(n,e){return Om(4,2,n,e)}function ZA(n,e){return Om(4,4,n,e)}function KA(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function $A(n,e,t){return t=t!=null?t.concat([n]):null,Om(4,4,KA.bind(null,e,n),t)}function Zx(){}function eb(n,e){var t=cr();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&Qx(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function tb(n,e){var t=cr();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&Qx(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function nb(n,e,t){return Da&21?(Cr(t,e)||(t=sA(),Jt.lanes|=t,ka|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,_i=!0),n.memoizedState=t)}function gD(n,e){var t=Lt;Lt=t!==0&&4>t?t:4,n(!0);var i=q0.transition;q0.transition={};try{n(!1),e()}finally{Lt=t,q0.transition=i}}function ib(){return cr().memoizedState}function yD(n,e,t){var i=_o(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},rb(n))sb(e,t);else if(t=NA(n,e,t,i),t!==null){var r=li();Ar(t,n,i,r),ob(t,e,i)}}function vD(n,e,t){var i=_o(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(rb(n))sb(e,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(r.hasEagerState=!0,r.eagerState=a,Cr(a,o)){var u=e.interleaved;u===null?(r.next=r,Hx(e)):(r.next=u.next,u.next=r),e.interleaved=r;return}}catch{}finally{}t=NA(n,e,r,i),t!==null&&(r=li(),Ar(t,n,i,r),ob(t,e,i))}}function rb(n){var e=n.alternate;return n===Jt||e!==null&&e===Jt}function sb(n,e){Ic=rm=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function ob(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,Cx(n,t)}}var sm={readContext:ur,useCallback:Xn,useContext:Xn,useEffect:Xn,useImperativeHandle:Xn,useInsertionEffect:Xn,useLayoutEffect:Xn,useMemo:Xn,useReducer:Xn,useRef:Xn,useState:Xn,useDebugValue:Xn,useDeferredValue:Xn,useTransition:Xn,useMutableSource:Xn,useSyncExternalStore:Xn,useId:Xn,unstable_isNewReconciler:!1},xD={readContext:ur,useCallback:function(n,e){return Gr().memoizedState=[n,e===void 0?null:e],n},useContext:ur,useEffect:KM,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Ap(4194308,4,KA.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Ap(4194308,4,n,e)},useInsertionEffect:function(n,e){return Ap(4,2,n,e)},useMemo:function(n,e){var t=Gr();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=Gr();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=yD.bind(null,Jt,n),[i.memoizedState,n]},useRef:function(n){var e=Gr();return n={current:n},e.memoizedState=n},useState:ZM,useDebugValue:Zx,useDeferredValue:function(n){return Gr().memoizedState=n},useTransition:function(){var n=ZM(!1),e=n[0];return n=gD.bind(null,n[1]),Gr().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=Jt,r=Gr();if(jt){if(t===void 0)throw Error(ve(407));t=t()}else{if(t=e(),In===null)throw Error(ve(349));Da&30||WA(i,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,KM(XA.bind(null,i,s,n),[n]),i.flags|=2048,cf(9,jA.bind(null,i,s,t,e),void 0,null),t},useId:function(){var n=Gr(),e=In.identifierPrefix;if(jt){var t=vs,i=ys;t=(i&~(1<<32-Tr(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=lf++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=mD++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},_D={readContext:ur,useCallback:eb,useContext:ur,useEffect:Jx,useImperativeHandle:$A,useInsertionEffect:JA,useLayoutEffect:ZA,useMemo:tb,useReducer:J0,useRef:qA,useState:function(){return J0(uf)},useDebugValue:Zx,useDeferredValue:function(n){var e=cr();return nb(e,Sn.memoizedState,n)},useTransition:function(){var n=J0(uf)[0],e=cr().memoizedState;return[n,e]},useMutableSource:HA,useSyncExternalStore:GA,useId:ib,unstable_isNewReconciler:!1},wD={readContext:ur,useCallback:eb,useContext:ur,useEffect:Jx,useImperativeHandle:$A,useInsertionEffect:JA,useLayoutEffect:ZA,useMemo:tb,useReducer:Z0,useRef:qA,useState:function(){return Z0(uf)},useDebugValue:Zx,useDeferredValue:function(n){var e=cr();return Sn===null?e.memoizedState=n:nb(e,Sn.memoizedState,n)},useTransition:function(){var n=Z0(uf)[0],e=cr().memoizedState;return[n,e]},useMutableSource:HA,useSyncExternalStore:GA,useId:ib,unstable_isNewReconciler:!1};function hu(n,e){try{var t="",i=e;do t+=q4(i),i=i.return;while(i);var r=t}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:r,digest:null}}function K0(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function Vv(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var SD=typeof WeakMap=="function"?WeakMap:Map;function ab(n,e,t){t=Ms(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){am||(am=!0,Zv=i),Vv(n,e)},t}function lb(n,e,t){t=Ms(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){Vv(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){Vv(n,e),typeof i!="function"&&(xo===null?xo=new Set([this]):xo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function $M(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new SD;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=zD.bind(null,n,e,t),e.then(n,n))}function e2(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function t2(n,e,t,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Ms(-1,1),e.tag=2,vo(t,e,1))),t.lanes|=1),n)}var MD=zs.ReactCurrentOwner,_i=!1;function ai(n,e,t,i){e.child=n===null?UA(e,null,t,i):cu(e,n.child,t,i)}function n2(n,e,t,i,r){t=t.render;var s=e.ref;return nu(e,r),i=Yx(n,e,t,i,s,r),t=qx(),n!==null&&!_i?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Ls(n,e,r)):(jt&&t&&zx(e),e.flags|=1,ai(n,e,i,r),e.child)}function i2(n,e,t,i,r){if(n===null){var s=t.type;return typeof s=="function"&&!s_(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,ub(n,e,s,i,r)):(n=Lp(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&r)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:tf,t(o,i)&&n.ref===e.ref)return Ls(n,e,r)}return e.flags|=1,n=wo(s,i),n.ref=e.ref,n.return=e,e.child=n}function ub(n,e,t,i,r){if(n!==null){var s=n.memoizedProps;if(tf(s,i)&&n.ref===e.ref)if(_i=!1,e.pendingProps=i=s,(n.lanes&r)!==0)n.flags&131072&&(_i=!0);else return e.lanes=n.lanes,Ls(n,e,r)}return Hv(n,e,t,i,r)}function cb(n,e,t){var i=e.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ot(Wl,ki),ki|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Ot(Wl,ki),ki|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:t,Ot(Wl,ki),ki|=i}else s!==null?(i=s.baseLanes|t,e.memoizedState=null):i=t,Ot(Wl,ki),ki|=i;return ai(n,e,r,t),e.child}function fb(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function Hv(n,e,t,i,r){var s=Si(t)?Ra:$n.current;return s=lu(e,s),nu(e,r),t=Yx(n,e,t,i,s,r),i=qx(),n!==null&&!_i?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Ls(n,e,r)):(jt&&i&&zx(e),e.flags|=1,ai(n,e,t,r),e.child)}function r2(n,e,t,i,r){if(Si(t)){var s=!0;Zp(e)}else s=!1;if(nu(e,r),e.stateNode===null)bp(n,e),FA(e,t,i),Uv(e,t,i,r),i=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,f=t.contextType;typeof f=="object"&&f!==null?f=ur(f):(f=Si(t)?Ra:$n.current,f=lu(e,f));var h=t.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||u!==f)&&qM(e,o,i,f),io=!1;var p=e.memoizedState;o.state=p,nm(e,i,o,r),u=e.memoizedState,a!==i||p!==u||wi.current||io?(typeof h=="function"&&(Bv(e,t,h,i),u=e.memoizedState),(a=io||YM(e,t,a,i,p,u,f))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=u),o.props=i,o.state=u,o.context=f,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,zA(n,e),a=e.memoizedProps,f=e.type===e.elementType?a:_r(e.type,a),o.props=f,d=e.pendingProps,p=o.context,u=t.contextType,typeof u=="object"&&u!==null?u=ur(u):(u=Si(t)?Ra:$n.current,u=lu(e,u));var g=t.getDerivedStateFromProps;(h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||p!==u)&&qM(e,o,i,u),io=!1,p=e.memoizedState,o.state=p,nm(e,i,o,r);var y=e.memoizedState;a!==d||p!==y||wi.current||io?(typeof g=="function"&&(Bv(e,t,g,i),y=e.memoizedState),(f=io||YM(e,t,f,i,p,y,u)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,y,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,y,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=y),o.props=i,o.state=y,o.context=u,i=f):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),i=!1)}return Gv(n,e,t,i,s,r)}function Gv(n,e,t,i,r,s){fb(n,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&GM(e,t,!1),Ls(n,e,s);i=e.stateNode,MD.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&o?(e.child=cu(e,n.child,null,s),e.child=cu(e,null,a,s)):ai(n,e,a,s),e.memoizedState=i.state,r&&GM(e,t,!0),e.child}function hb(n){var e=n.stateNode;e.pendingContext?HM(n,e.pendingContext,e.pendingContext!==e.context):e.context&&HM(n,e.context,!1),Wx(n,e.containerInfo)}function s2(n,e,t,i,r){return uu(),Fx(r),e.flags|=256,ai(n,e,t,i),e.child}var Wv={dehydrated:null,treeContext:null,retryLane:0};function jv(n){return{baseLanes:n,cachePool:null,transitions:null}}function db(n,e,t){var i=e.pendingProps,r=Qt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),Ot(Qt,r&1),n===null)return Ov(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,n=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Um(o,i,0,null),n=Ea(n,i,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=jv(t),e.memoizedState=Wv,n):Kx(e,o));if(r=n.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return ED(n,e,o,i,a,r,t);if(s){s=i.fallback,o=e.mode,r=n.child,a=r.sibling;var u={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=u,e.deletions=null):(i=wo(r,u),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=wo(a,s):(s=Ea(s,o,t,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=n.child.memoizedState,o=o===null?jv(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=Wv,i}return s=n.child,n=s.sibling,i=wo(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function Kx(n,e){return e=Um({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Sd(n,e,t,i){return i!==null&&Fx(i),cu(e,n.child,null,t),n=Kx(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function ED(n,e,t,i,r,s,o){if(t)return e.flags&256?(e.flags&=-257,i=K0(Error(ve(422))),Sd(n,e,o,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=Um({mode:"visible",children:i.children},r,0,null),s=Ea(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&cu(e,n.child,null,o),e.child.memoizedState=jv(o),e.memoizedState=Wv,s);if(!(e.mode&1))return Sd(n,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(ve(419)),i=K0(s,i,void 0),Sd(n,e,o,i)}if(a=(o&n.childLanes)!==0,_i||a){if(i=In,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Ps(n,r),Ar(i,n,r,-1))}return r_(),i=K0(Error(ve(421))),Sd(n,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=OD.bind(null,n),r._reactRetry=e,null):(n=s.treeContext,Ni=yo(r.nextSibling),zi=e,jt=!0,Mr=null,n!==null&&(nr[ir++]=ys,nr[ir++]=vs,nr[ir++]=Ia,ys=n.id,vs=n.overflow,Ia=e),e=Kx(e,i.children),e.flags|=4096,e)}function o2(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),Fv(n.return,e,t)}function $0(n,e,t,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=t,s.tailMode=r)}function pb(n,e,t){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(ai(n,e,i.children,t),i=Qt.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&o2(n,t,e);else if(n.tag===19)o2(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(Ot(Qt,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&im(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),$0(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&im(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}$0(e,!0,t,null,s);break;case"together":$0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function bp(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Ls(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),ka|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(ve(153));if(e.child!==null){for(n=e.child,t=wo(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=wo(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function TD(n,e,t){switch(e.tag){case 3:hb(e),uu();break;case 5:VA(e);break;case 1:Si(e.type)&&Zp(e);break;case 4:Wx(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Ot(em,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Ot(Qt,Qt.current&1),e.flags|=128,null):t&e.child.childLanes?db(n,e,t):(Ot(Qt,Qt.current&1),n=Ls(n,e,t),n!==null?n.sibling:null);Ot(Qt,Qt.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return pb(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ot(Qt,Qt.current),i)break;return null;case 22:case 23:return e.lanes=0,cb(n,e,t)}return Ls(n,e,t)}var mb,Xv,gb,yb;mb=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};Xv=function(){};gb=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,ma(Qr.current);var s=null;switch(t){case"input":r=pv(n,r),i=pv(n,i),s=[];break;case"select":r=Zt({},r,{value:void 0}),i=Zt({},i,{value:void 0}),s=[];break;case"textarea":r=yv(n,r),i=yv(n,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=qp)}xv(t,i);var o;t=null;for(f in r)if(!i.hasOwnProperty(f)&&r.hasOwnProperty(f)&&r[f]!=null)if(f==="style"){var a=r[f];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Yc.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in i){var u=i[f];if(a=r!=null?r[f]:void 0,i.hasOwnProperty(f)&&u!==a&&(u!=null||a!=null))if(f==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(t||(t={}),t[o]=u[o])}else t||(s||(s=[]),s.push(f,t)),t=u;else f==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(f,u)):f==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(f,""+u):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(Yc.hasOwnProperty(f)?(u!=null&&f==="onScroll"&&Ft("scroll",n),s||a===u||(s=[])):(s=s||[]).push(f,u))}t&&(s=s||[]).push("style",t);var f=s;(e.updateQueue=f)&&(e.flags|=4)}};yb=function(n,e,t,i){t!==i&&(e.flags|=4)};function tc(n,e){if(!jt)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function Qn(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function AD(n,e,t){var i=e.pendingProps;switch(Ox(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qn(e),null;case 1:return Si(e.type)&&Jp(),Qn(e),null;case 3:return i=e.stateNode,fu(),Ut(wi),Ut($n),Xx(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(_d(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Mr!==null&&(e1(Mr),Mr=null))),Xv(n,e),Qn(e),null;case 5:jx(e);var r=ma(af.current);if(t=e.type,n!==null&&e.stateNode!=null)gb(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(ve(166));return Qn(e),null}if(n=ma(Qr.current),_d(e)){i=e.stateNode,t=e.type;var s=e.memoizedProps;switch(i[jr]=e,i[sf]=s,n=(e.mode&1)!==0,t){case"dialog":Ft("cancel",i),Ft("close",i);break;case"iframe":case"object":case"embed":Ft("load",i);break;case"video":case"audio":for(r=0;r<Ec.length;r++)Ft(Ec[r],i);break;case"source":Ft("error",i);break;case"img":case"image":case"link":Ft("error",i),Ft("load",i);break;case"details":Ft("toggle",i);break;case"input":mM(i,s),Ft("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Ft("invalid",i);break;case"textarea":yM(i,s),Ft("invalid",i)}xv(t,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&xd(i.textContent,a,n),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&xd(i.textContent,a,n),r=["children",""+a]):Yc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ft("scroll",i)}switch(t){case"input":fd(i),gM(i,s,!0);break;case"textarea":fd(i),vM(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=qp)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=WT(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=o.createElement(t,{is:i.is}):(n=o.createElement(t),t==="select"&&(o=n,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):n=o.createElementNS(n,t),n[jr]=e,n[sf]=i,mb(n,e,!1,!1),e.stateNode=n;e:{switch(o=_v(t,i),t){case"dialog":Ft("cancel",n),Ft("close",n),r=i;break;case"iframe":case"object":case"embed":Ft("load",n),r=i;break;case"video":case"audio":for(r=0;r<Ec.length;r++)Ft(Ec[r],n);r=i;break;case"source":Ft("error",n),r=i;break;case"img":case"image":case"link":Ft("error",n),Ft("load",n),r=i;break;case"details":Ft("toggle",n),r=i;break;case"input":mM(n,i),r=pv(n,i),Ft("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=Zt({},i,{value:void 0}),Ft("invalid",n);break;case"textarea":yM(n,i),r=yv(n,i),Ft("invalid",n);break;default:r=i}xv(t,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?QT(n,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&jT(n,u)):s==="children"?typeof u=="string"?(t!=="textarea"||u!=="")&&qc(n,u):typeof u=="number"&&qc(n,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Yc.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Ft("scroll",n):u!=null&&Sx(n,s,u,o))}switch(t){case"input":fd(n),gM(n,i,!1);break;case"textarea":fd(n),vM(n);break;case"option":i.value!=null&&n.setAttribute("value",""+To(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?Kl(n,!!i.multiple,s,!1):i.defaultValue!=null&&Kl(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=qp)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Qn(e),null;case 6:if(n&&e.stateNode!=null)yb(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(ve(166));if(t=ma(af.current),ma(Qr.current),_d(e)){if(i=e.stateNode,t=e.memoizedProps,i[jr]=e,(s=i.nodeValue!==t)&&(n=zi,n!==null))switch(n.tag){case 3:xd(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&xd(i.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[jr]=e,e.stateNode=i}return Qn(e),null;case 13:if(Ut(Qt),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(jt&&Ni!==null&&e.mode&1&&!(e.flags&128))kA(),uu(),e.flags|=98560,s=!1;else if(s=_d(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(ve(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ve(317));s[jr]=e}else uu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Qn(e),s=!1}else Mr!==null&&(e1(Mr),Mr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||Qt.current&1?Mn===0&&(Mn=3):r_())),e.updateQueue!==null&&(e.flags|=4),Qn(e),null);case 4:return fu(),Xv(n,e),n===null&&nf(e.stateNode.containerInfo),Qn(e),null;case 10:return Vx(e.type._context),Qn(e),null;case 17:return Si(e.type)&&Jp(),Qn(e),null;case 19:if(Ut(Qt),s=e.memoizedState,s===null)return Qn(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)tc(s,!1);else{if(Mn!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=im(n),o!==null){for(e.flags|=128,tc(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)s=t,n=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Ot(Qt,Qt.current&1|2),e.child}n=n.sibling}s.tail!==null&&fn()>du&&(e.flags|=128,i=!0,tc(s,!1),e.lanes=4194304)}else{if(!i)if(n=im(o),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),tc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!jt)return Qn(e),null}else 2*fn()-s.renderingStartTime>du&&t!==1073741824&&(e.flags|=128,i=!0,tc(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=fn(),e.sibling=null,t=Qt.current,Ot(Qt,i?t&1|2:t&1),e):(Qn(e),null);case 22:case 23:return i_(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?ki&1073741824&&(Qn(e),e.subtreeFlags&6&&(e.flags|=8192)):Qn(e),null;case 24:return null;case 25:return null}throw Error(ve(156,e.tag))}function bD(n,e){switch(Ox(e),e.tag){case 1:return Si(e.type)&&Jp(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return fu(),Ut(wi),Ut($n),Xx(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return jx(e),null;case 13:if(Ut(Qt),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(ve(340));uu()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Ut(Qt),null;case 4:return fu(),null;case 10:return Vx(e.type._context),null;case 22:case 23:return i_(),null;case 24:return null;default:return null}}var Md=!1,Zn=!1,CD=typeof WeakSet=="function"?WeakSet:Set,De=null;function Gl(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){sn(n,e,i)}else t.current=null}function Qv(n,e,t){try{t()}catch(i){sn(n,e,i)}}var a2=!1;function PD(n,e){if(Lv=Xp,n=wA(),Nx(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,u=-1,f=0,h=0,d=n,p=null;t:for(;;){for(var g;d!==t||r!==0&&d.nodeType!==3||(a=o+r),d!==s||i!==0&&d.nodeType!==3||(u=o+i),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)p=d,d=g;for(;;){if(d===n)break t;if(p===t&&++f===r&&(a=o),p===s&&++h===i&&(u=o),(g=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=g}t=a===-1||u===-1?null:{start:a,end:u}}else t=null}t=t||{start:0,end:0}}else t=null;for(Rv={focusedElem:n,selectionRange:t},Xp=!1,De=e;De!==null;)if(e=De,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,De=n;else for(;De!==null;){e=De;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,w=y.memoizedState,M=e.stateNode,_=M.getSnapshotBeforeUpdate(e.elementType===e.type?v:_r(e.type,v),w);M.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ve(163))}}catch(T){sn(e,e.return,T)}if(n=e.sibling,n!==null){n.return=e.return,De=n;break}De=e.return}return y=a2,a2=!1,y}function Dc(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var s=r.destroy;r.destroy=void 0,s!==void 0&&Qv(e,t,s)}r=r.next}while(r!==i)}}function Fm(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function Yv(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function vb(n){var e=n.alternate;e!==null&&(n.alternate=null,vb(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[jr],delete e[sf],delete e[kv],delete e[fD],delete e[hD])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function xb(n){return n.tag===5||n.tag===3||n.tag===4}function l2(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||xb(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function qv(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=qp));else if(i!==4&&(n=n.child,n!==null))for(qv(n,e,t),n=n.sibling;n!==null;)qv(n,e,t),n=n.sibling}function Jv(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(Jv(n,e,t),n=n.sibling;n!==null;)Jv(n,e,t),n=n.sibling}var Nn=null,wr=!1;function Qs(n,e,t){for(t=t.child;t!==null;)_b(n,e,t),t=t.sibling}function _b(n,e,t){if(Xr&&typeof Xr.onCommitFiberUnmount=="function")try{Xr.onCommitFiberUnmount(Lm,t)}catch{}switch(t.tag){case 5:Zn||Gl(t,e);case 6:var i=Nn,r=wr;Nn=null,Qs(n,e,t),Nn=i,wr=r,Nn!==null&&(wr?(n=Nn,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Nn.removeChild(t.stateNode));break;case 18:Nn!==null&&(wr?(n=Nn,t=t.stateNode,n.nodeType===8?X0(n.parentNode,t):n.nodeType===1&&X0(n,t),$c(n)):X0(Nn,t.stateNode));break;case 4:i=Nn,r=wr,Nn=t.stateNode.containerInfo,wr=!0,Qs(n,e,t),Nn=i,wr=r;break;case 0:case 11:case 14:case 15:if(!Zn&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Qv(t,e,o),r=r.next}while(r!==i)}Qs(n,e,t);break;case 1:if(!Zn&&(Gl(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(a){sn(t,e,a)}Qs(n,e,t);break;case 21:Qs(n,e,t);break;case 22:t.mode&1?(Zn=(i=Zn)||t.memoizedState!==null,Qs(n,e,t),Zn=i):Qs(n,e,t);break;default:Qs(n,e,t)}}function u2(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new CD),e.forEach(function(i){var r=FD.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function gr(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Nn=a.stateNode,wr=!1;break e;case 3:Nn=a.stateNode.containerInfo,wr=!0;break e;case 4:Nn=a.stateNode.containerInfo,wr=!0;break e}a=a.return}if(Nn===null)throw Error(ve(160));_b(s,o,r),Nn=null,wr=!1;var u=r.alternate;u!==null&&(u.return=null),r.return=null}catch(f){sn(r,e,f)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)wb(e,n),e=e.sibling}function wb(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(gr(e,n),Vr(n),i&4){try{Dc(3,n,n.return),Fm(3,n)}catch(v){sn(n,n.return,v)}try{Dc(5,n,n.return)}catch(v){sn(n,n.return,v)}}break;case 1:gr(e,n),Vr(n),i&512&&t!==null&&Gl(t,t.return);break;case 5:if(gr(e,n),Vr(n),i&512&&t!==null&&Gl(t,t.return),n.flags&32){var r=n.stateNode;try{qc(r,"")}catch(v){sn(n,n.return,v)}}if(i&4&&(r=n.stateNode,r!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,u=n.updateQueue;if(n.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&HT(r,s),_v(a,o);var f=_v(a,s);for(o=0;o<u.length;o+=2){var h=u[o],d=u[o+1];h==="style"?QT(r,d):h==="dangerouslySetInnerHTML"?jT(r,d):h==="children"?qc(r,d):Sx(r,h,d,f)}switch(a){case"input":mv(r,s);break;case"textarea":GT(r,s);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Kl(r,!!s.multiple,g,!1):p!==!!s.multiple&&(s.defaultValue!=null?Kl(r,!!s.multiple,s.defaultValue,!0):Kl(r,!!s.multiple,s.multiple?[]:"",!1))}r[sf]=s}catch(v){sn(n,n.return,v)}}break;case 6:if(gr(e,n),Vr(n),i&4){if(n.stateNode===null)throw Error(ve(162));r=n.stateNode,s=n.memoizedProps;try{r.nodeValue=s}catch(v){sn(n,n.return,v)}}break;case 3:if(gr(e,n),Vr(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{$c(e.containerInfo)}catch(v){sn(n,n.return,v)}break;case 4:gr(e,n),Vr(n);break;case 13:gr(e,n),Vr(n),r=n.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(t_=fn())),i&4&&u2(n);break;case 22:if(h=t!==null&&t.memoizedState!==null,n.mode&1?(Zn=(f=Zn)||h,gr(e,n),Zn=f):gr(e,n),Vr(n),i&8192){if(f=n.memoizedState!==null,(n.stateNode.isHidden=f)&&!h&&n.mode&1)for(De=n,h=n.child;h!==null;){for(d=De=h;De!==null;){switch(p=De,g=p.child,p.tag){case 0:case 11:case 14:case 15:Dc(4,p,p.return);break;case 1:Gl(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){i=p,t=p.return;try{e=i,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(v){sn(i,t,v)}}break;case 5:Gl(p,p.return);break;case 22:if(p.memoizedState!==null){f2(d);continue}}g!==null?(g.return=p,De=g):f2(d)}h=h.sibling}e:for(h=null,d=n;;){if(d.tag===5){if(h===null){h=d;try{r=d.stateNode,f?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,u=d.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=XT("display",o))}catch(v){sn(n,n.return,v)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=f?"":d.memoizedProps}catch(v){sn(n,n.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gr(e,n),Vr(n),i&4&&u2(n);break;case 21:break;default:gr(e,n),Vr(n)}}function Vr(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(xb(t)){var i=t;break e}t=t.return}throw Error(ve(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(qc(r,""),i.flags&=-33);var s=l2(n);Jv(n,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=l2(n);qv(n,a,o);break;default:throw Error(ve(161))}}catch(u){sn(n,n.return,u)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function LD(n,e,t){De=n,Sb(n)}function Sb(n,e,t){for(var i=(n.mode&1)!==0;De!==null;){var r=De,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||Md;if(!o){var a=r.alternate,u=a!==null&&a.memoizedState!==null||Zn;a=Md;var f=Zn;if(Md=o,(Zn=u)&&!f)for(De=r;De!==null;)o=De,u=o.child,o.tag===22&&o.memoizedState!==null?h2(r):u!==null?(u.return=o,De=u):h2(r);for(;s!==null;)De=s,Sb(s),s=s.sibling;De=r,Md=a,Zn=f}c2(n)}else r.subtreeFlags&8772&&s!==null?(s.return=r,De=s):c2(n)}}function c2(n){for(;De!==null;){var e=De;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Zn||Fm(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Zn)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:_r(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&QM(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}QM(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&t.focus();break;case"img":u.src&&(t.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var f=e.alternate;if(f!==null){var h=f.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&$c(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ve(163))}Zn||e.flags&512&&Yv(e)}catch(p){sn(e,e.return,p)}}if(e===n){De=null;break}if(t=e.sibling,t!==null){t.return=e.return,De=t;break}De=e.return}}function f2(n){for(;De!==null;){var e=De;if(e===n){De=null;break}var t=e.sibling;if(t!==null){t.return=e.return,De=t;break}De=e.return}}function h2(n){for(;De!==null;){var e=De;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{Fm(4,e)}catch(u){sn(e,t,u)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(u){sn(e,r,u)}}var s=e.return;try{Yv(e)}catch(u){sn(e,s,u)}break;case 5:var o=e.return;try{Yv(e)}catch(u){sn(e,o,u)}}}catch(u){sn(e,e.return,u)}if(e===n){De=null;break}var a=e.sibling;if(a!==null){a.return=e.return,De=a;break}De=e.return}}var RD=Math.ceil,om=zs.ReactCurrentDispatcher,$x=zs.ReactCurrentOwner,or=zs.ReactCurrentBatchConfig,wt=0,In=null,_n=null,Fn=0,ki=0,Wl=ko(0),Mn=0,ff=null,ka=0,Bm=0,e_=0,kc=null,vi=null,t_=0,du=1/0,ds=null,am=!1,Zv=null,xo=null,Ed=!1,uo=null,lm=0,Nc=0,Kv=null,Cp=-1,Pp=0;function li(){return wt&6?fn():Cp!==-1?Cp:Cp=fn()}function _o(n){return n.mode&1?wt&2&&Fn!==0?Fn&-Fn:pD.transition!==null?(Pp===0&&(Pp=sA()),Pp):(n=Lt,n!==0||(n=window.event,n=n===void 0?16:hA(n.type)),n):1}function Ar(n,e,t,i){if(50<Nc)throw Nc=0,Kv=null,Error(ve(185));Ff(n,t,i),(!(wt&2)||n!==In)&&(n===In&&(!(wt&2)&&(Bm|=t),Mn===4&&ao(n,Fn)),Mi(n,i),t===1&&wt===0&&!(e.mode&1)&&(du=fn()+500,Nm&&No()))}function Mi(n,e){var t=n.callbackNode;pI(n,e);var i=jp(n,n===In?Fn:0);if(i===0)t!==null&&wM(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&wM(t),e===1)n.tag===0?dD(d2.bind(null,n)):RA(d2.bind(null,n)),uD(function(){!(wt&6)&&No()}),t=null;else{switch(oA(i)){case 1:t=bx;break;case 4:t=iA;break;case 16:t=Wp;break;case 536870912:t=rA;break;default:t=Wp}t=Lb(t,Mb.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function Mb(n,e){if(Cp=-1,Pp=0,wt&6)throw Error(ve(327));var t=n.callbackNode;if(iu()&&n.callbackNode!==t)return null;var i=jp(n,n===In?Fn:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=um(n,i);else{e=i;var r=wt;wt|=2;var s=Tb();(In!==n||Fn!==e)&&(ds=null,du=fn()+500,Ma(n,e));do try{kD();break}catch(a){Eb(n,a)}while(1);Ux(),om.current=s,wt=r,_n!==null?e=0:(In=null,Fn=0,e=Mn)}if(e!==0){if(e===2&&(r=Tv(n),r!==0&&(i=r,e=$v(n,r))),e===1)throw t=ff,Ma(n,0),ao(n,i),Mi(n,fn()),t;if(e===6)ao(n,i);else{if(r=n.current.alternate,!(i&30)&&!ID(r)&&(e=um(n,i),e===2&&(s=Tv(n),s!==0&&(i=s,e=$v(n,s))),e===1))throw t=ff,Ma(n,0),ao(n,i),Mi(n,fn()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(ve(345));case 2:aa(n,vi,ds);break;case 3:if(ao(n,i),(i&130023424)===i&&(e=t_+500-fn(),10<e)){if(jp(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){li(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=Dv(aa.bind(null,n,vi,ds),e);break}aa(n,vi,ds);break;case 4:if(ao(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var o=31-Tr(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=fn()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*RD(i/1960))-i,10<i){n.timeoutHandle=Dv(aa.bind(null,n,vi,ds),i);break}aa(n,vi,ds);break;case 5:aa(n,vi,ds);break;default:throw Error(ve(329))}}}return Mi(n,fn()),n.callbackNode===t?Mb.bind(null,n):null}function $v(n,e){var t=kc;return n.current.memoizedState.isDehydrated&&(Ma(n,e).flags|=256),n=um(n,e),n!==2&&(e=vi,vi=t,e!==null&&e1(e)),n}function e1(n){vi===null?vi=n:vi.push.apply(vi,n)}function ID(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],s=r.getSnapshot;r=r.value;try{if(!Cr(s(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ao(n,e){for(e&=~e_,e&=~Bm,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Tr(e),i=1<<t;n[t]=-1,e&=~i}}function d2(n){if(wt&6)throw Error(ve(327));iu();var e=jp(n,0);if(!(e&1))return Mi(n,fn()),null;var t=um(n,e);if(n.tag!==0&&t===2){var i=Tv(n);i!==0&&(e=i,t=$v(n,i))}if(t===1)throw t=ff,Ma(n,0),ao(n,e),Mi(n,fn()),t;if(t===6)throw Error(ve(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,aa(n,vi,ds),Mi(n,fn()),null}function n_(n,e){var t=wt;wt|=1;try{return n(e)}finally{wt=t,wt===0&&(du=fn()+500,Nm&&No())}}function Na(n){uo!==null&&uo.tag===0&&!(wt&6)&&iu();var e=wt;wt|=1;var t=or.transition,i=Lt;try{if(or.transition=null,Lt=1,n)return n()}finally{Lt=i,or.transition=t,wt=e,!(wt&6)&&No()}}function i_(){ki=Wl.current,Ut(Wl)}function Ma(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,lD(t)),_n!==null)for(t=_n.return;t!==null;){var i=t;switch(Ox(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Jp();break;case 3:fu(),Ut(wi),Ut($n),Xx();break;case 5:jx(i);break;case 4:fu();break;case 13:Ut(Qt);break;case 19:Ut(Qt);break;case 10:Vx(i.type._context);break;case 22:case 23:i_()}t=t.return}if(In=n,_n=n=wo(n.current,null),Fn=ki=e,Mn=0,ff=null,e_=Bm=ka=0,vi=kc=null,pa!==null){for(e=0;e<pa.length;e++)if(t=pa[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,s=t.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}t.pending=i}pa=null}return n}function Eb(n,e){do{var t=_n;try{if(Ux(),Tp.current=sm,rm){for(var i=Jt.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}rm=!1}if(Da=0,Ln=Sn=Jt=null,Ic=!1,lf=0,$x.current=null,t===null||t.return===null){Mn=1,ff=e,_n=null;break}e:{var s=n,o=t.return,a=t,u=e;if(e=Fn,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var f=u,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=e2(o);if(g!==null){g.flags&=-257,t2(g,o,a,s,e),g.mode&1&&$M(s,f,e),e=g,u=f;var y=e.updateQueue;if(y===null){var v=new Set;v.add(u),e.updateQueue=v}else y.add(u);break e}else{if(!(e&1)){$M(s,f,e),r_();break e}u=Error(ve(426))}}else if(jt&&a.mode&1){var w=e2(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),t2(w,o,a,s,e),Fx(hu(u,a));break e}}s=u=hu(u,a),Mn!==4&&(Mn=2),kc===null?kc=[s]:kc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var M=ab(s,u,e);XM(s,M);break e;case 1:a=u;var _=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(xo===null||!xo.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var T=lb(s,a,e);XM(s,T);break e}}s=s.return}while(s!==null)}bb(t)}catch(C){e=C,_n===t&&t!==null&&(_n=t=t.return);continue}break}while(1)}function Tb(){var n=om.current;return om.current=sm,n===null?sm:n}function r_(){(Mn===0||Mn===3||Mn===2)&&(Mn=4),In===null||!(ka&268435455)&&!(Bm&268435455)||ao(In,Fn)}function um(n,e){var t=wt;wt|=2;var i=Tb();(In!==n||Fn!==e)&&(ds=null,Ma(n,e));do try{DD();break}catch(r){Eb(n,r)}while(1);if(Ux(),wt=t,om.current=i,_n!==null)throw Error(ve(261));return In=null,Fn=0,Mn}function DD(){for(;_n!==null;)Ab(_n)}function kD(){for(;_n!==null&&!sI();)Ab(_n)}function Ab(n){var e=Pb(n.alternate,n,ki);n.memoizedProps=n.pendingProps,e===null?bb(n):_n=e,$x.current=null}function bb(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=bD(t,e),t!==null){t.flags&=32767,_n=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Mn=6,_n=null;return}}else if(t=AD(t,e,ki),t!==null){_n=t;return}if(e=e.sibling,e!==null){_n=e;return}_n=e=n}while(e!==null);Mn===0&&(Mn=5)}function aa(n,e,t){var i=Lt,r=or.transition;try{or.transition=null,Lt=1,ND(n,e,t,i)}finally{or.transition=r,Lt=i}return null}function ND(n,e,t,i){do iu();while(uo!==null);if(wt&6)throw Error(ve(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(ve(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(mI(n,s),n===In&&(_n=In=null,Fn=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Ed||(Ed=!0,Lb(Wp,function(){return iu(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=or.transition,or.transition=null;var o=Lt;Lt=1;var a=wt;wt|=4,$x.current=null,PD(n,t),wb(t,n),tD(Rv),Xp=!!Lv,Rv=Lv=null,n.current=t,LD(t),oI(),wt=a,Lt=o,or.transition=s}else n.current=t;if(Ed&&(Ed=!1,uo=n,lm=r),s=n.pendingLanes,s===0&&(xo=null),uI(t.stateNode),Mi(n,fn()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(am)throw am=!1,n=Zv,Zv=null,n;return lm&1&&n.tag!==0&&iu(),s=n.pendingLanes,s&1?n===Kv?Nc++:(Nc=0,Kv=n):Nc=0,No(),null}function iu(){if(uo!==null){var n=oA(lm),e=or.transition,t=Lt;try{if(or.transition=null,Lt=16>n?16:n,uo===null)var i=!1;else{if(n=uo,uo=null,lm=0,wt&6)throw Error(ve(331));var r=wt;for(wt|=4,De=n.current;De!==null;){var s=De,o=s.child;if(De.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var f=a[u];for(De=f;De!==null;){var h=De;switch(h.tag){case 0:case 11:case 15:Dc(8,h,s)}var d=h.child;if(d!==null)d.return=h,De=d;else for(;De!==null;){h=De;var p=h.sibling,g=h.return;if(vb(h),h===f){De=null;break}if(p!==null){p.return=g,De=p;break}De=g}}}var y=s.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}De=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,De=o;else e:for(;De!==null;){if(s=De,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Dc(9,s,s.return)}var M=s.sibling;if(M!==null){M.return=s.return,De=M;break e}De=s.return}}var _=n.current;for(De=_;De!==null;){o=De;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,De=S;else e:for(o=_;De!==null;){if(a=De,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Fm(9,a)}}catch(C){sn(a,a.return,C)}if(a===o){De=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,De=T;break e}De=a.return}}if(wt=r,No(),Xr&&typeof Xr.onPostCommitFiberRoot=="function")try{Xr.onPostCommitFiberRoot(Lm,n)}catch{}i=!0}return i}finally{Lt=t,or.transition=e}}return!1}function p2(n,e,t){e=hu(t,e),e=ab(n,e,1),n=vo(n,e,1),e=li(),n!==null&&(Ff(n,1,e),Mi(n,e))}function sn(n,e,t){if(n.tag===3)p2(n,n,t);else for(;e!==null;){if(e.tag===3){p2(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(xo===null||!xo.has(i))){n=hu(t,n),n=lb(e,n,1),e=vo(e,n,1),n=li(),e!==null&&(Ff(e,1,n),Mi(e,n));break}}e=e.return}}function zD(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=li(),n.pingedLanes|=n.suspendedLanes&t,In===n&&(Fn&t)===t&&(Mn===4||Mn===3&&(Fn&130023424)===Fn&&500>fn()-t_?Ma(n,0):e_|=t),Mi(n,e)}function Cb(n,e){e===0&&(n.mode&1?(e=pd,pd<<=1,!(pd&130023424)&&(pd=4194304)):e=1);var t=li();n=Ps(n,e),n!==null&&(Ff(n,e,t),Mi(n,t))}function OD(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),Cb(n,t)}function FD(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(ve(314))}i!==null&&i.delete(e),Cb(n,t)}var Pb;Pb=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||wi.current)_i=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return _i=!1,TD(n,e,t);_i=!!(n.flags&131072)}else _i=!1,jt&&e.flags&1048576&&IA(e,$p,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;bp(n,e),n=e.pendingProps;var r=lu(e,$n.current);nu(e,t),r=Yx(null,e,i,n,r,t);var s=qx();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Si(i)?(s=!0,Zp(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Gx(e),r.updater=zm,e.stateNode=r,r._reactInternals=e,Uv(e,i,n,t),e=Gv(null,e,i,!0,s,t)):(e.tag=0,jt&&s&&zx(e),ai(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch(bp(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=UD(i),n=_r(i,n),r){case 0:e=Hv(null,e,i,n,t);break e;case 1:e=r2(null,e,i,n,t);break e;case 11:e=n2(null,e,i,n,t);break e;case 14:e=i2(null,e,i,_r(i.type,n),t);break e}throw Error(ve(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:_r(i,r),Hv(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:_r(i,r),r2(n,e,i,r,t);case 3:e:{if(hb(e),n===null)throw Error(ve(387));i=e.pendingProps,s=e.memoizedState,r=s.element,zA(n,e),nm(e,i,null,t);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=hu(Error(ve(423)),e),e=s2(n,e,i,t,r);break e}else if(i!==r){r=hu(Error(ve(424)),e),e=s2(n,e,i,t,r);break e}else for(Ni=yo(e.stateNode.containerInfo.firstChild),zi=e,jt=!0,Mr=null,t=UA(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(uu(),i===r){e=Ls(n,e,t);break e}ai(n,e,i,t)}e=e.child}return e;case 5:return VA(e),n===null&&Ov(e),i=e.type,r=e.pendingProps,s=n!==null?n.memoizedProps:null,o=r.children,Iv(i,r)?o=null:s!==null&&Iv(i,s)&&(e.flags|=32),fb(n,e),ai(n,e,o,t),e.child;case 6:return n===null&&Ov(e),null;case 13:return db(n,e,t);case 4:return Wx(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=cu(e,null,i,t):ai(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:_r(i,r),n2(n,e,i,r,t);case 7:return ai(n,e,e.pendingProps,t),e.child;case 8:return ai(n,e,e.pendingProps.children,t),e.child;case 12:return ai(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,Ot(em,i._currentValue),i._currentValue=o,s!==null)if(Cr(s.value,o)){if(s.children===r.children&&!wi.current){e=Ls(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===i){if(s.tag===1){u=Ms(-1,t&-t),u.tag=2;var f=s.updateQueue;if(f!==null){f=f.shared;var h=f.pending;h===null?u.next=u:(u.next=h.next,h.next=u),f.pending=u}}s.lanes|=t,u=s.alternate,u!==null&&(u.lanes|=t),Fv(s.return,t,e),a.lanes|=t;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ve(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),Fv(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ai(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,nu(e,t),r=ur(r),i=i(r),e.flags|=1,ai(n,e,i,t),e.child;case 14:return i=e.type,r=_r(i,e.pendingProps),r=_r(i.type,r),i2(n,e,i,r,t);case 15:return ub(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:_r(i,r),bp(n,e),e.tag=1,Si(i)?(n=!0,Zp(e)):n=!1,nu(e,t),FA(e,i,r),Uv(e,i,r,t),Gv(null,e,i,!0,n,t);case 19:return pb(n,e,t);case 22:return cb(n,e,t)}throw Error(ve(156,e.tag))};function Lb(n,e){return nA(n,e)}function BD(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sr(n,e,t,i){return new BD(n,e,t,i)}function s_(n){return n=n.prototype,!(!n||!n.isReactComponent)}function UD(n){if(typeof n=="function")return s_(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Ex)return 11;if(n===Tx)return 14}return 2}function wo(n,e){var t=n.alternate;return t===null?(t=sr(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Lp(n,e,t,i,r,s){var o=2;if(i=n,typeof n=="function")s_(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case kl:return Ea(t.children,r,s,e);case Mx:o=8,r|=8;break;case cv:return n=sr(12,t,e,r|2),n.elementType=cv,n.lanes=s,n;case fv:return n=sr(13,t,e,r),n.elementType=fv,n.lanes=s,n;case hv:return n=sr(19,t,e,r),n.elementType=hv,n.lanes=s,n;case BT:return Um(t,r,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case OT:o=10;break e;case FT:o=9;break e;case Ex:o=11;break e;case Tx:o=14;break e;case no:o=16,i=null;break e}throw Error(ve(130,n==null?n:typeof n,""))}return e=sr(o,t,e,r),e.elementType=n,e.type=i,e.lanes=s,e}function Ea(n,e,t,i){return n=sr(7,n,i,e),n.lanes=t,n}function Um(n,e,t,i){return n=sr(22,n,i,e),n.elementType=BT,n.lanes=t,n.stateNode={isHidden:!1},n}function ey(n,e,t){return n=sr(6,n,null,e),n.lanes=t,n}function ty(n,e,t){return e=sr(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function VD(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=N0(0),this.expirationTimes=N0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=N0(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function o_(n,e,t,i,r,s,o,a,u){return n=new VD(n,e,t,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=sr(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gx(s),n}function HD(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Dl,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function Rb(n){if(!n)return Ao;n=n._reactInternals;e:{if(Ha(n)!==n||n.tag!==1)throw Error(ve(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Si(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ve(171))}if(n.tag===1){var t=n.type;if(Si(t))return LA(n,t,e)}return e}function Ib(n,e,t,i,r,s,o,a,u){return n=o_(t,i,!0,n,r,s,o,a,u),n.context=Rb(null),t=n.current,i=li(),r=_o(t),s=Ms(i,r),s.callback=e??null,vo(t,s,r),n.current.lanes=r,Ff(n,r,i),Mi(n,i),n}function Vm(n,e,t,i){var r=e.current,s=li(),o=_o(r);return t=Rb(t),e.context===null?e.context=t:e.pendingContext=t,e=Ms(s,o),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=vo(r,e,o),n!==null&&(Ar(n,r,o,s),Ep(n,r,o)),o}function cm(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function m2(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function a_(n,e){m2(n,e),(n=n.alternate)&&m2(n,e)}function GD(){return null}var Db=typeof reportError=="function"?reportError:function(n){console.error(n)};function l_(n){this._internalRoot=n}Hm.prototype.render=l_.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(ve(409));Vm(n,e,null,null)};Hm.prototype.unmount=l_.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Na(function(){Vm(null,n,null,null)}),e[Cs]=null}};function Hm(n){this._internalRoot=n}Hm.prototype.unstable_scheduleHydration=function(n){if(n){var e=uA();n={blockedOn:null,target:n,priority:e};for(var t=0;t<oo.length&&e!==0&&e<oo[t].priority;t++);oo.splice(t,0,n),t===0&&fA(n)}};function u_(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Gm(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function g2(){}function WD(n,e,t,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var f=cm(o);s.call(f)}}var o=Ib(e,i,n,0,null,!1,!1,"",g2);return n._reactRootContainer=o,n[Cs]=o.current,nf(n.nodeType===8?n.parentNode:n),Na(),o}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var f=cm(u);a.call(f)}}var u=o_(n,0,!1,null,null,!1,!1,"",g2);return n._reactRootContainer=u,n[Cs]=u.current,nf(n.nodeType===8?n.parentNode:n),Na(function(){Vm(e,u,t,i)}),u}function Wm(n,e,t,i,r){var s=t._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var u=cm(o);a.call(u)}}Vm(e,o,n,r)}else o=WD(t,e,n,r,i);return cm(o)}aA=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Mc(e.pendingLanes);t!==0&&(Cx(e,t|1),Mi(e,fn()),!(wt&6)&&(du=fn()+500,No()))}break;case 13:Na(function(){var i=Ps(n,1);if(i!==null){var r=li();Ar(i,n,1,r)}}),a_(n,1)}};Px=function(n){if(n.tag===13){var e=Ps(n,134217728);if(e!==null){var t=li();Ar(e,n,134217728,t)}a_(n,134217728)}};lA=function(n){if(n.tag===13){var e=_o(n),t=Ps(n,e);if(t!==null){var i=li();Ar(t,n,e,i)}a_(n,e)}};uA=function(){return Lt};cA=function(n,e){var t=Lt;try{return Lt=n,e()}finally{Lt=t}};Sv=function(n,e,t){switch(e){case"input":if(mv(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=km(i);if(!r)throw Error(ve(90));VT(i),mv(i,r)}}}break;case"textarea":GT(n,t);break;case"select":e=t.value,e!=null&&Kl(n,!!t.multiple,e,!1)}};JT=n_;ZT=Na;var jD={usingClientEntryPoint:!1,Events:[Uf,Fl,km,YT,qT,n_]},nc={findFiberByHostInstance:da,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},XD={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zs.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=eA(n),n===null?null:n.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||GD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Td=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Td.isDisabled&&Td.supportsFiber)try{Lm=Td.inject(XD),Xr=Td}catch{}}Ui.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jD;Ui.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u_(e))throw Error(ve(200));return HD(n,e,null,t)};Ui.createRoot=function(n,e){if(!u_(n))throw Error(ve(299));var t=!1,i="",r=Db;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=o_(n,1,!1,null,null,t,!1,i,r),n[Cs]=e.current,nf(n.nodeType===8?n.parentNode:n),new l_(e)};Ui.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(ve(188)):(n=Object.keys(n).join(","),Error(ve(268,n)));return n=eA(e),n=n===null?null:n.stateNode,n};Ui.flushSync=function(n){return Na(n)};Ui.hydrate=function(n,e,t){if(!Gm(e))throw Error(ve(200));return Wm(null,n,e,!0,t)};Ui.hydrateRoot=function(n,e,t){if(!u_(n))throw Error(ve(405));var i=t!=null&&t.hydratedSources||null,r=!1,s="",o=Db;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=Ib(e,null,n,1,t??null,r,!1,s,o),n[Cs]=e.current,nf(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new Hm(e)};Ui.render=function(n,e,t){if(!Gm(e))throw Error(ve(200));return Wm(null,n,e,!1,t)};Ui.unmountComponentAtNode=function(n){if(!Gm(n))throw Error(ve(40));return n._reactRootContainer?(Na(function(){Wm(null,null,n,!1,function(){n._reactRootContainer=null,n[Cs]=null})}),!0):!1};Ui.unstable_batchedUpdates=n_;Ui.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!Gm(t))throw Error(ve(200));if(n==null||n._reactInternals===void 0)throw Error(ve(38));return Wm(n,e,t,!1,i)};Ui.version="18.2.0-next-9e3b772b8-20220608";(function(n){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}e(),n.exports=Ui})(G4);var QD,y2=av;QD=ov.createRoot=y2.createRoot,ov.hydrateRoot=y2.hydrateRoot;/**
 * @remix-run/router v1.3.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hf(){return hf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},hf.apply(this,arguments)}var ga;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(ga||(ga={}));const v2="popstate";function YD(n){n===void 0&&(n={});function e(i,r){let{pathname:s,search:o,hash:a}=i.location;return t1("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:fm(r)}return JD(e,t,null,n)}function So(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function qD(){return Math.random().toString(36).substr(2,8)}function x2(n,e){return{usr:n.state,key:n.key,idx:e}}function t1(n,e,t,i){return t===void 0&&(t=null),hf({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?jm(e):e,{state:t,key:e&&e.key||i||qD()})}function fm(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function jm(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function JD(n,e,t,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=ga.Pop,u=null,f=h();f==null&&(f=0,o.replaceState(hf({},o.state,{idx:f}),""));function h(){return(o.state||{idx:null}).idx}function d(){a=ga.Pop;let w=h(),M=w==null?null:w-f;f=w,u&&u({action:a,location:v.location,delta:M})}function p(w,M){a=ga.Push;let _=t1(v.location,w,M);t&&t(_,w),f=h()+1;let S=x2(_,f),T=v.createHref(_);try{o.pushState(S,"",T)}catch{r.location.assign(T)}s&&u&&u({action:a,location:v.location,delta:1})}function g(w,M){a=ga.Replace;let _=t1(v.location,w,M);t&&t(_,w),f=h();let S=x2(_,f),T=v.createHref(_);o.replaceState(S,"",T),s&&u&&u({action:a,location:v.location,delta:0})}function y(w){let M=r.location.origin!=="null"?r.location.origin:r.location.href,_=typeof w=="string"?w:fm(w);return So(M,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,M)}let v={get action(){return a},get location(){return n(r,o)},listen(w){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(v2,d),u=w,()=>{r.removeEventListener(v2,d),u=null}},createHref(w){return e(r,w)},createURL:y,encodeLocation(w){let M=y(w);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:p,replace:g,go(w){return o.go(w)}};return v}var _2;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(_2||(_2={}));function kb(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function ZD(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?jm(n):n;return{pathname:t?t.startsWith("/")?t:KD(t,e):e,search:$D(i),hash:e5(r)}}function KD(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function ny(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Nb(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function zb(n,e,t,i){i===void 0&&(i=!1);let r;typeof n=="string"?r=jm(n):(r=hf({},n),So(!r.pathname||!r.pathname.includes("?"),ny("?","pathname","search",r)),So(!r.pathname||!r.pathname.includes("#"),ny("#","pathname","hash",r)),So(!r.search||!r.search.includes("#"),ny("#","search","hash",r)));let s=n===""||r.pathname==="",o=s?"/":r.pathname,a;if(i||o==null)a=t;else{let d=e.length-1;if(o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),d-=1;r.pathname=p.join("/")}a=d>=0?e[d]:"/"}let u=ZD(r,a),f=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(f||h)&&(u.pathname+="/"),u}const Ob=n=>n.join("/").replace(/\/\/+/g,"/"),$D=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,e5=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,t5=["post","put","patch","delete"];[...t5];/**
 * React Router v6.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function n5(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}const i5=typeof Object.is=="function"?Object.is:n5,{useState:r5,useEffect:s5,useLayoutEffect:o5,useDebugValue:a5}=sv;function l5(n,e,t){const i=e(),[{inst:r},s]=r5({inst:{value:i,getSnapshot:e}});return o5(()=>{r.value=i,r.getSnapshot=e,iy(r)&&s({inst:r})},[n,i,e]),s5(()=>(iy(r)&&s({inst:r}),n(()=>{iy(r)&&s({inst:r})})),[n]),a5(i),i}function iy(n){const e=n.getSnapshot,t=n.value;try{const i=e();return!i5(t,i)}catch{return!0}}function u5(n,e,t){return e()}const c5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",f5=!c5,h5=f5?u5:l5;"useSyncExternalStore"in sv&&(n=>n.useSyncExternalStore)(sv);const Xm=G.createContext(null),c_=G.createContext(null),Fb=G.createContext({outlet:null,matches:[]});function d5(n,e){let{relative:t}=e===void 0?{}:e;Qm()||So(!1);let{basename:i,navigator:r}=G.useContext(Xm),{hash:s,pathname:o,search:a}=Bb(n,{relative:t}),u=o;return i!=="/"&&(u=o==="/"?i:Ob([i,o])),r.createHref({pathname:u,search:a,hash:s})}function Qm(){return G.useContext(c_)!=null}function f_(){return Qm()||So(!1),G.useContext(c_).location}function p5(){Qm()||So(!1);let{basename:n,navigator:e}=G.useContext(Xm),{matches:t}=G.useContext(Fb),{pathname:i}=f_(),r=JSON.stringify(Nb(t).map(a=>a.pathnameBase)),s=G.useRef(!1);return G.useEffect(()=>{s.current=!0}),G.useCallback(function(a,u){if(u===void 0&&(u={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let f=zb(a,JSON.parse(r),i,u.relative==="path");n!=="/"&&(f.pathname=f.pathname==="/"?n:Ob([n,f.pathname])),(u.replace?e.replace:e.push)(f,u.state,u)},[n,e,r,i])}function Bb(n,e){let{relative:t}=e===void 0?{}:e,{matches:i}=G.useContext(Fb),{pathname:r}=f_(),s=JSON.stringify(Nb(i).map(o=>o.pathnameBase));return G.useMemo(()=>zb(n,JSON.parse(s),r,t==="path"),[n,s,r,t])}var w2;(function(n){n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator"})(w2||(w2={}));var S2;(function(n){n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator"})(S2||(S2={}));function m5(n){let{basename:e="/",children:t=null,location:i,navigationType:r=ga.Pop,navigator:s,static:o=!1}=n;Qm()&&So(!1);let a=e.replace(/^\/*/,"/"),u=G.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof i=="string"&&(i=jm(i));let{pathname:f="/",search:h="",hash:d="",state:p=null,key:g="default"}=i,y=G.useMemo(()=>{let v=kb(f,a);return v==null?null:{pathname:v,search:h,hash:d,state:p,key:g}},[a,f,h,d,p,g]);return y==null?null:G.createElement(Xm.Provider,{value:u},G.createElement(c_.Provider,{children:t,value:{location:y,navigationType:r}}))}var M2;(function(n){n[n.pending=0]="pending",n[n.success=1]="success",n[n.error=2]="error"})(M2||(M2={}));new Promise(()=>{});/**
 * React Router DOM v6.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function n1(){return n1=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},n1.apply(this,arguments)}function g5(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function y5(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function v5(n,e){return n.button===0&&(!e||e==="_self")&&!y5(n)}const x5=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function _5(n){let{basename:e,children:t,window:i}=n,r=G.useRef();r.current==null&&(r.current=YD({window:i,v5Compat:!0}));let s=r.current,[o,a]=G.useState({action:s.action,location:s.location});return G.useLayoutEffect(()=>s.listen(a),[s]),G.createElement(m5,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:s})}const w5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",S5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,M5=G.forwardRef(function(e,t){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:u,to:f,preventScrollReset:h}=e,d=g5(e,x5),{basename:p}=G.useContext(Xm),g,y=!1;if(typeof f=="string"&&S5.test(f)&&(g=f,w5)){let _=new URL(window.location.href),S=f.startsWith("//")?new URL(_.protocol+f):new URL(f),T=kb(S.pathname,p);S.origin===_.origin&&T!=null?f=T+S.search+S.hash:y=!0}let v=d5(f,{relative:r}),w=E5(f,{replace:o,state:a,target:u,preventScrollReset:h,relative:r});function M(_){i&&i(_),_.defaultPrevented||w(_)}return G.createElement("a",n1({},d,{href:g||v,onClick:y||s?i:M,ref:t,target:u}))});var E2;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmitImpl="useSubmitImpl",n.UseFetcher="useFetcher"})(E2||(E2={}));var T2;(function(n){n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(T2||(T2={}));function E5(n,e){let{target:t,replace:i,state:r,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=p5(),u=f_(),f=Bb(n,{relative:o});return G.useCallback(h=>{if(v5(h,t)){h.preventDefault();let d=i!==void 0?i:fm(u)===fm(f);a(n,{replace:d,state:r,preventScrollReset:s,relative:o})}},[u,a,f,i,r,t,n,s,o])}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Ym="150",T5={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},A5={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Ub=0,i1=1,Vb=2,b5=3,Hb=0,qm=1,zc=2,ya=3,Rs=0,Ei=1,xs=2,C5=2,Es=0,Ta=1,r1=2,s1=3,o1=4,Gb=5,fa=100,Wb=101,jb=102,a1=103,l1=104,Xb=200,Qb=201,Yb=202,qb=203,h_=204,d_=205,Jb=206,Zb=207,Kb=208,$b=209,eC=210,tC=0,nC=1,iC=2,hm=3,rC=4,sC=5,oC=6,aC=7,Hf=0,lC=1,uC=2,br=0,cC=1,fC=2,hC=3,p_=4,dC=5,Jm=300,bo=301,Co=302,df=303,pf=304,Mu=306,mf=1e3,Kn=1001,gf=1002,cn=1003,dm=1004,P5=1004,Oc=1005,L5=1005,hn=1006,m_=1007,R5=1007,Po=1008,I5=1008,Is=1009,pC=1010,mC=1011,g_=1012,gC=1013,co=1014,_s=1015,pu=1016,yC=1017,vC=1018,Aa=1020,xC=1021,xi=1023,_C=1024,wC=1025,Mo=1026,za=1027,SC=1028,MC=1029,EC=1030,TC=1031,AC=1033,Rp=33776,Ip=33777,Dp=33778,kp=33779,u1=35840,c1=35841,f1=35842,h1=35843,bC=36196,d1=37492,p1=37496,m1=37808,g1=37809,y1=37810,v1=37811,x1=37812,_1=37813,w1=37814,S1=37815,M1=37816,E1=37817,T1=37818,A1=37819,b1=37820,C1=37821,Np=36492,CC=36283,P1=36284,L1=36285,R1=36286,PC=2200,LC=2201,RC=2202,yf=2300,vf=2301,zp=2302,va=2400,xa=2401,xf=2402,Zm=2500,y_=2501,D5=0,k5=1,N5=2,Ds=3e3,It=3001,IC=3200,DC=3201,zo=0,kC=1,z5="",Sr="srgb",mu="srgb-linear",v_="display-p3",O5=0,Op=7680,F5=7681,B5=7682,U5=7683,V5=34055,H5=34056,G5=5386,W5=512,j5=513,X5=514,Q5=515,Y5=516,q5=517,J5=518,NC=519,_f=35044,ba=35048,Z5=35040,K5=35045,$5=35049,ek=35041,tk=35046,nk=35050,ik=35042,rk="100",I1="300 es",pm=1035;class Os{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}const Yn=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let A2=1234567;const Ca=Math.PI/180,wf=180/Math.PI;function Oi(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Yn[n&255]+Yn[n>>8&255]+Yn[n>>16&255]+Yn[n>>24&255]+"-"+Yn[e&255]+Yn[e>>8&255]+"-"+Yn[e>>16&15|64]+Yn[e>>24&255]+"-"+Yn[t&63|128]+Yn[t>>8&255]+"-"+Yn[t>>16&255]+Yn[t>>24&255]+Yn[i&255]+Yn[i>>8&255]+Yn[i>>16&255]+Yn[i>>24&255]).toLowerCase()}function dn(n,e,t){return Math.max(e,Math.min(t,n))}function x_(n,e){return(n%e+e)%e}function sk(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function ok(n,e,t){return n!==e?(t-n)/(e-n):0}function Fc(n,e,t){return(1-t)*n+t*e}function ak(n,e,t,i){return Fc(n,e,1-Math.exp(-t*i))}function lk(n,e=1){return e-Math.abs(x_(n,e*2)-e)}function uk(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function ck(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function fk(n,e){return n+Math.floor(Math.random()*(e-n+1))}function hk(n,e){return n+Math.random()*(e-n)}function dk(n){return n*(.5-Math.random())}function pk(n){n!==void 0&&(A2=n);let e=A2+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function mk(n){return n*Ca}function gk(n){return n*wf}function D1(n){return(n&n-1)===0&&n!==0}function zC(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function OC(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function yk(n,e,t,i,r){const s=Math.cos,o=Math.sin,a=s(t/2),u=o(t/2),f=s((e+i)/2),h=o((e+i)/2),d=s((e-i)/2),p=o((e-i)/2),g=s((i-e)/2),y=o((i-e)/2);switch(r){case"XYX":n.set(a*h,u*d,u*p,a*f);break;case"YZY":n.set(u*p,a*h,u*d,a*f);break;case"ZXZ":n.set(u*d,u*p,a*h,a*f);break;case"XZX":n.set(a*h,u*y,u*g,a*f);break;case"YXY":n.set(u*g,a*h,u*y,a*f);break;case"ZYZ":n.set(u*y,u*g,a*h,a*f);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function ws(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function kt(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const vk={DEG2RAD:Ca,RAD2DEG:wf,generateUUID:Oi,clamp:dn,euclideanModulo:x_,mapLinear:sk,inverseLerp:ok,lerp:Fc,damp:ak,pingpong:lk,smoothstep:uk,smootherstep:ck,randInt:fk,randFloat:hk,randFloatSpread:dk,seededRandom:pk,degToRad:mk,radToDeg:gk,isPowerOfTwo:D1,ceilPowerOfTwo:zC,floorPowerOfTwo:OC,setQuaternionFromProperEuler:yk,normalize:kt,denormalize:ws};class ge{constructor(e=0,t=0){ge.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class zn{constructor(){zn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,i,r,s,o,a,u,f){const h=this.elements;return h[0]=e,h[1]=r,h[2]=a,h[3]=t,h[4]=s,h[5]=u,h[6]=i,h[7]=o,h[8]=f,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[3],u=i[6],f=i[1],h=i[4],d=i[7],p=i[2],g=i[5],y=i[8],v=r[0],w=r[3],M=r[6],_=r[1],S=r[4],T=r[7],C=r[2],P=r[5],R=r[8];return s[0]=o*v+a*_+u*C,s[3]=o*w+a*S+u*P,s[6]=o*M+a*T+u*R,s[1]=f*v+h*_+d*C,s[4]=f*w+h*S+d*P,s[7]=f*M+h*T+d*R,s[2]=p*v+g*_+y*C,s[5]=p*w+g*S+y*P,s[8]=p*M+g*T+y*R,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],u=e[6],f=e[7],h=e[8];return t*o*h-t*a*f-i*s*h+i*a*u+r*s*f-r*o*u}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],u=e[6],f=e[7],h=e[8],d=h*o-a*f,p=a*u-h*s,g=f*s-o*u,y=t*d+i*p+r*g;if(y===0)return this.set(0,0,0,0,0,0,0,0,0);const v=1/y;return e[0]=d*v,e[1]=(r*f-h*i)*v,e[2]=(a*i-r*o)*v,e[3]=p*v,e[4]=(h*t-r*u)*v,e[5]=(r*s-a*t)*v,e[6]=g*v,e[7]=(i*u-f*t)*v,e[8]=(o*t-i*s)*v,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,o,a){const u=Math.cos(s),f=Math.sin(s);return this.set(i*u,i*f,-i*(u*o+f*a)+o+e,-r*f,r*u,-r*(-f*o+u*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(ry.makeScale(e,t)),this}rotate(e){return this.premultiply(ry.makeRotation(-e)),this}translate(e,t){return this.premultiply(ry.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const ry=new zn;function FC(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const xk={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function jl(n,e){return new xk[n](e)}function Sf(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}class Ti{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,o,a){let u=i[r+0],f=i[r+1],h=i[r+2],d=i[r+3];const p=s[o+0],g=s[o+1],y=s[o+2],v=s[o+3];if(a===0){e[t+0]=u,e[t+1]=f,e[t+2]=h,e[t+3]=d;return}if(a===1){e[t+0]=p,e[t+1]=g,e[t+2]=y,e[t+3]=v;return}if(d!==v||u!==p||f!==g||h!==y){let w=1-a;const M=u*p+f*g+h*y+d*v,_=M>=0?1:-1,S=1-M*M;if(S>Number.EPSILON){const C=Math.sqrt(S),P=Math.atan2(C,M*_);w=Math.sin(w*P)/C,a=Math.sin(a*P)/C}const T=a*_;if(u=u*w+p*T,f=f*w+g*T,h=h*w+y*T,d=d*w+v*T,w===1-a){const C=1/Math.sqrt(u*u+f*f+h*h+d*d);u*=C,f*=C,h*=C,d*=C}}e[t]=u,e[t+1]=f,e[t+2]=h,e[t+3]=d}static multiplyQuaternionsFlat(e,t,i,r,s,o){const a=i[r],u=i[r+1],f=i[r+2],h=i[r+3],d=s[o],p=s[o+1],g=s[o+2],y=s[o+3];return e[t]=a*y+h*d+u*g-f*p,e[t+1]=u*y+h*p+f*d-a*g,e[t+2]=f*y+h*g+a*p-u*d,e[t+3]=h*y-a*d-u*p-f*g,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,u=Math.sin,f=a(i/2),h=a(r/2),d=a(s/2),p=u(i/2),g=u(r/2),y=u(s/2);switch(o){case"XYZ":this._x=p*h*d+f*g*y,this._y=f*g*d-p*h*y,this._z=f*h*y+p*g*d,this._w=f*h*d-p*g*y;break;case"YXZ":this._x=p*h*d+f*g*y,this._y=f*g*d-p*h*y,this._z=f*h*y-p*g*d,this._w=f*h*d+p*g*y;break;case"ZXY":this._x=p*h*d-f*g*y,this._y=f*g*d+p*h*y,this._z=f*h*y+p*g*d,this._w=f*h*d-p*g*y;break;case"ZYX":this._x=p*h*d-f*g*y,this._y=f*g*d+p*h*y,this._z=f*h*y-p*g*d,this._w=f*h*d+p*g*y;break;case"YZX":this._x=p*h*d+f*g*y,this._y=f*g*d+p*h*y,this._z=f*h*y-p*g*d,this._w=f*h*d-p*g*y;break;case"XZY":this._x=p*h*d-f*g*y,this._y=f*g*d-p*h*y,this._z=f*h*y+p*g*d,this._w=f*h*d+p*g*y;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],o=t[1],a=t[5],u=t[9],f=t[2],h=t[6],d=t[10],p=i+a+d;if(p>0){const g=.5/Math.sqrt(p+1);this._w=.25/g,this._x=(h-u)*g,this._y=(s-f)*g,this._z=(o-r)*g}else if(i>a&&i>d){const g=2*Math.sqrt(1+i-a-d);this._w=(h-u)/g,this._x=.25*g,this._y=(r+o)/g,this._z=(s+f)/g}else if(a>d){const g=2*Math.sqrt(1+a-i-d);this._w=(s-f)/g,this._x=(r+o)/g,this._y=.25*g,this._z=(u+h)/g}else{const g=2*Math.sqrt(1+d-i-a);this._w=(o-r)/g,this._x=(s+f)/g,this._y=(u+h)/g,this._z=.25*g}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(dn(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,o=e._w,a=t._x,u=t._y,f=t._z,h=t._w;return this._x=i*h+o*a+r*f-s*u,this._y=r*h+o*u+s*a-i*f,this._z=s*h+o*f+i*u-r*a,this._w=o*h-i*a-r*u-s*f,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const u=1-a*a;if(u<=Number.EPSILON){const g=1-t;return this._w=g*o+t*this._w,this._x=g*i+t*this._x,this._y=g*r+t*this._y,this._z=g*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const f=Math.sqrt(u),h=Math.atan2(f,a),d=Math.sin((1-t)*h)/f,p=Math.sin(t*h)/f;return this._w=o*d+this._w*p,this._x=i*d+this._x*p,this._y=r*d+this._y*p,this._z=s*d+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=Math.random(),t=Math.sqrt(1-e),i=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(r),i*Math.sin(s),i*Math.cos(s),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class z{constructor(e=0,t=0,i=0){z.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(b2.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(b2.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,u=e.w,f=u*t+o*r-a*i,h=u*i+a*t-s*r,d=u*r+s*i-o*t,p=-s*t-o*i-a*r;return this.x=f*u+p*-s+h*-a-d*-o,this.y=h*u+p*-o+d*-s-f*-a,this.z=d*u+p*-a+f*-o-h*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,o=t.x,a=t.y,u=t.z;return this.x=r*u-s*a,this.y=s*o-i*u,this.z=i*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return sy.copy(this).projectOnVector(e),this.sub(sy)}reflect(e){return this.sub(sy.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(dn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(t),this.y=i*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const sy=new z,b2=new Ti;function ru(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function oy(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const _k=new zn().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),wk=new zn().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]),fo=new z;function Sk(n){return n.convertSRGBToLinear(),fo.set(n.r,n.g,n.b).applyMatrix3(wk),n.setRGB(fo.x,fo.y,fo.z)}function Mk(n){return fo.set(n.r,n.g,n.b).applyMatrix3(_k),n.setRGB(fo.x,fo.y,fo.z).convertLinearToSRGB()}const Ek={[mu]:n=>n,[Sr]:n=>n.convertSRGBToLinear(),[v_]:Sk},Tk={[mu]:n=>n,[Sr]:n=>n.convertLinearToSRGB(),[v_]:Mk},Jn={enabled:!1,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(n){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!n},get workingColorSpace(){return mu},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.enabled===!1||e===t||!e||!t)return n;const i=Ek[e],r=Tk[t];if(i===void 0||r===void 0)throw new Error(`Unsupported color space conversion, "${e}" to "${t}".`);return r(i(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}};let fl;class __{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{fl===void 0&&(fl=Sf("canvas")),fl.width=e.width,fl.height=e.height;const i=fl.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=fl}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Sf("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=ru(s[o]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(ru(t[i]/255)*255):t[i]=ru(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class _a{constructor(e=null){this.isSource=!0,this.uuid=Oi(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?s.push(ay(r[o].image)):s.push(ay(r[o]))}else s=ay(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function ay(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?__.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Ak=0;class on extends Os{constructor(e=on.DEFAULT_IMAGE,t=on.DEFAULT_MAPPING,i=Kn,r=Kn,s=hn,o=Po,a=xi,u=Is,f=on.DEFAULT_ANISOTROPY,h=Ds){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Ak++}),this.uuid=Oi(),this.name="",this.source=new _a(e),this.mipmaps=[],this.mapping=t,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=f,this.format=a,this.internalFormat=null,this.type=u,this.offset=new ge(0,0),this.repeat=new ge(1,1),this.center=new ge(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new zn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=h,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Jm)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case mf:e.x=e.x-Math.floor(e.x);break;case Kn:e.x=e.x<0?0:1;break;case gf:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case mf:e.y=e.y-Math.floor(e.y);break;case Kn:e.y=e.y<0?0:1;break;case gf:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}on.DEFAULT_IMAGE=null;on.DEFAULT_MAPPING=Jm;on.DEFAULT_ANISOTROPY=1;class Pt{constructor(e=0,t=0,i=0,r=1){Pt.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const u=e.elements,f=u[0],h=u[4],d=u[8],p=u[1],g=u[5],y=u[9],v=u[2],w=u[6],M=u[10];if(Math.abs(h-p)<.01&&Math.abs(d-v)<.01&&Math.abs(y-w)<.01){if(Math.abs(h+p)<.1&&Math.abs(d+v)<.1&&Math.abs(y+w)<.1&&Math.abs(f+g+M-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const S=(f+1)/2,T=(g+1)/2,C=(M+1)/2,P=(h+p)/4,R=(d+v)/4,b=(y+w)/4;return S>T&&S>C?S<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(S),r=P/i,s=R/i):T>C?T<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(T),i=P/r,s=b/r):C<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(C),i=R/s,r=b/s),this.set(i,r,s,t),this}let _=Math.sqrt((w-y)*(w-y)+(d-v)*(d-v)+(p-h)*(p-h));return Math.abs(_)<.001&&(_=1),this.x=(w-y)/_,this.y=(d-v)/_,this.z=(p-h)/_,this.w=Math.acos((f+g+M-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Pr extends Os{constructor(e=1,t=1,i={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Pt(0,0,e,t),this.scissorTest=!1,this.viewport=new Pt(0,0,e,t);const r={width:e,height:t,depth:1};this.texture=new on(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=i.generateMipmaps!==void 0?i.generateMipmaps:!1,this.texture.internalFormat=i.internalFormat!==void 0?i.internalFormat:null,this.texture.minFilter=i.minFilter!==void 0?i.minFilter:hn,this.depthBuffer=i.depthBuffer!==void 0?i.depthBuffer:!0,this.stencilBuffer=i.stencilBuffer!==void 0?i.stencilBuffer:!1,this.depthTexture=i.depthTexture!==void 0?i.depthTexture:null,this.samples=i.samples!==void 0?i.samples:0}setSize(e,t,i=1){(this.width!==e||this.height!==t||this.depth!==i)&&(this.width=e,this.height=t,this.depth=i,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new _a(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Km extends on{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=cn,this.minFilter=cn,this.wrapR=Kn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class bk extends Pr{constructor(e=1,t=1,i=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new Km(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class w_ extends on{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=cn,this.minFilter=cn,this.wrapR=Kn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Ck extends Pr{constructor(e=1,t=1,i=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new w_(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class Pk extends Pr{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<i;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,s=this.texture.length;r<s;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=i;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,i=e.texture.length;t<i;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class Ga{constructor(e=new z(1/0,1/0,1/0),t=new z(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,i=1/0,r=1/0,s=-1/0,o=-1/0,a=-1/0;for(let u=0,f=e.length;u<f;u+=3){const h=e[u],d=e[u+1],p=e[u+2];h<t&&(t=h),d<i&&(i=d),p<r&&(r=p),h>s&&(s=h),d>o&&(o=d),p>a&&(a=p)}return this.min.set(t,i,r),this.max.set(s,o,a),this}setFromBufferAttribute(e){let t=1/0,i=1/0,r=1/0,s=-1/0,o=-1/0,a=-1/0;for(let u=0,f=e.count;u<f;u++){const h=e.getX(u),d=e.getY(u),p=e.getZ(u);h<t&&(t=h),d<i&&(i=d),p<r&&(r=p),h>s&&(s=h),d>o&&(o=d),p>a&&(a=p)}return this.min.set(t,i,r),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=Jo.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0)if(t&&i.attributes!=null&&i.attributes.position!==void 0){const s=i.attributes.position;for(let o=0,a=s.count;o<a;o++)Jo.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(Jo)}else i.boundingBox===null&&i.computeBoundingBox(),ly.copy(i.boundingBox),ly.applyMatrix4(e.matrixWorld),this.union(ly);const r=e.children;for(let s=0,o=r.length;s<o;s++)this.expandByObject(r[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Jo),Jo.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(ic),Ad.subVectors(this.max,ic),hl.subVectors(e.a,ic),dl.subVectors(e.b,ic),pl.subVectors(e.c,ic),Ys.subVectors(dl,hl),qs.subVectors(pl,dl),Zo.subVectors(hl,pl);let t=[0,-Ys.z,Ys.y,0,-qs.z,qs.y,0,-Zo.z,Zo.y,Ys.z,0,-Ys.x,qs.z,0,-qs.x,Zo.z,0,-Zo.x,-Ys.y,Ys.x,0,-qs.y,qs.x,0,-Zo.y,Zo.x,0];return!uy(t,hl,dl,pl,Ad)||(t=[1,0,0,0,1,0,0,0,1],!uy(t,hl,dl,pl,Ad))?!1:(bd.crossVectors(Ys,qs),t=[bd.x,bd.y,bd.z],uy(t,hl,dl,pl,Ad))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Jo).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Jo).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(as[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),as[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),as[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),as[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),as[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),as[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),as[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),as[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(as),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const as=[new z,new z,new z,new z,new z,new z,new z,new z],Jo=new z,ly=new Ga,hl=new z,dl=new z,pl=new z,Ys=new z,qs=new z,Zo=new z,ic=new z,Ad=new z,bd=new z,Ko=new z;function uy(n,e,t,i,r){for(let s=0,o=n.length-3;s<=o;s+=3){Ko.fromArray(n,s);const a=r.x*Math.abs(Ko.x)+r.y*Math.abs(Ko.y)+r.z*Math.abs(Ko.z),u=e.dot(Ko),f=t.dot(Ko),h=i.dot(Ko);if(Math.max(-Math.max(u,f,h),Math.min(u,f,h))>a)return!1}return!0}const Lk=new Ga,rc=new z,cy=new z;class Wa{constructor(e=new z,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):Lk.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;rc.subVectors(e,this.center);const t=rc.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(rc,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(cy.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(rc.copy(e.center).add(cy)),this.expandByPoint(rc.copy(e.center).sub(cy))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const ls=new z,fy=new z,Cd=new z,Js=new z,hy=new z,Pd=new z,dy=new z;class Gf{constructor(e=new z,t=new z(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,ls)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=ls.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(ls.copy(this.origin).addScaledVector(this.direction,t),ls.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){fy.copy(e).add(t).multiplyScalar(.5),Cd.copy(t).sub(e).normalize(),Js.copy(this.origin).sub(fy);const s=e.distanceTo(t)*.5,o=-this.direction.dot(Cd),a=Js.dot(this.direction),u=-Js.dot(Cd),f=Js.lengthSq(),h=Math.abs(1-o*o);let d,p,g,y;if(h>0)if(d=o*u-a,p=o*a-u,y=s*h,d>=0)if(p>=-y)if(p<=y){const v=1/h;d*=v,p*=v,g=d*(d+o*p+2*a)+p*(o*d+p+2*u)+f}else p=s,d=Math.max(0,-(o*p+a)),g=-d*d+p*(p+2*u)+f;else p=-s,d=Math.max(0,-(o*p+a)),g=-d*d+p*(p+2*u)+f;else p<=-y?(d=Math.max(0,-(-o*s+a)),p=d>0?-s:Math.min(Math.max(-s,-u),s),g=-d*d+p*(p+2*u)+f):p<=y?(d=0,p=Math.min(Math.max(-s,-u),s),g=p*(p+2*u)+f):(d=Math.max(0,-(o*s+a)),p=d>0?s:Math.min(Math.max(-s,-u),s),g=-d*d+p*(p+2*u)+f);else p=o>0?-s:s,d=Math.max(0,-(o*p+a)),g=-d*d+p*(p+2*u)+f;return i&&i.copy(this.origin).addScaledVector(this.direction,d),r&&r.copy(fy).addScaledVector(Cd,p),g}intersectSphere(e,t){ls.subVectors(e.center,this.origin);const i=ls.dot(this.direction),r=ls.dot(ls)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,u=i+o;return u<0?null:a<0?this.at(u,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,o,a,u;const f=1/this.direction.x,h=1/this.direction.y,d=1/this.direction.z,p=this.origin;return f>=0?(i=(e.min.x-p.x)*f,r=(e.max.x-p.x)*f):(i=(e.max.x-p.x)*f,r=(e.min.x-p.x)*f),h>=0?(s=(e.min.y-p.y)*h,o=(e.max.y-p.y)*h):(s=(e.max.y-p.y)*h,o=(e.min.y-p.y)*h),i>o||s>r||((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),d>=0?(a=(e.min.z-p.z)*d,u=(e.max.z-p.z)*d):(a=(e.max.z-p.z)*d,u=(e.min.z-p.z)*d),i>u||a>r)||((a>i||i!==i)&&(i=a),(u<r||r!==r)&&(r=u),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,ls)!==null}intersectTriangle(e,t,i,r,s){hy.subVectors(t,e),Pd.subVectors(i,e),dy.crossVectors(hy,Pd);let o=this.direction.dot(dy),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;Js.subVectors(this.origin,e);const u=a*this.direction.dot(Pd.crossVectors(Js,Pd));if(u<0)return null;const f=a*this.direction.dot(hy.cross(Js));if(f<0||u+f>o)return null;const h=-a*Js.dot(dy);return h<0?null:this.at(h/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class st{constructor(){st.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,i,r,s,o,a,u,f,h,d,p,g,y,v,w){const M=this.elements;return M[0]=e,M[4]=t,M[8]=i,M[12]=r,M[1]=s,M[5]=o,M[9]=a,M[13]=u,M[2]=f,M[6]=h,M[10]=d,M[14]=p,M[3]=g,M[7]=y,M[11]=v,M[15]=w,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new st().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/ml.setFromMatrixColumn(e,0).length(),s=1/ml.setFromMatrixColumn(e,1).length(),o=1/ml.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),u=Math.cos(r),f=Math.sin(r),h=Math.cos(s),d=Math.sin(s);if(e.order==="XYZ"){const p=o*h,g=o*d,y=a*h,v=a*d;t[0]=u*h,t[4]=-u*d,t[8]=f,t[1]=g+y*f,t[5]=p-v*f,t[9]=-a*u,t[2]=v-p*f,t[6]=y+g*f,t[10]=o*u}else if(e.order==="YXZ"){const p=u*h,g=u*d,y=f*h,v=f*d;t[0]=p+v*a,t[4]=y*a-g,t[8]=o*f,t[1]=o*d,t[5]=o*h,t[9]=-a,t[2]=g*a-y,t[6]=v+p*a,t[10]=o*u}else if(e.order==="ZXY"){const p=u*h,g=u*d,y=f*h,v=f*d;t[0]=p-v*a,t[4]=-o*d,t[8]=y+g*a,t[1]=g+y*a,t[5]=o*h,t[9]=v-p*a,t[2]=-o*f,t[6]=a,t[10]=o*u}else if(e.order==="ZYX"){const p=o*h,g=o*d,y=a*h,v=a*d;t[0]=u*h,t[4]=y*f-g,t[8]=p*f+v,t[1]=u*d,t[5]=v*f+p,t[9]=g*f-y,t[2]=-f,t[6]=a*u,t[10]=o*u}else if(e.order==="YZX"){const p=o*u,g=o*f,y=a*u,v=a*f;t[0]=u*h,t[4]=v-p*d,t[8]=y*d+g,t[1]=d,t[5]=o*h,t[9]=-a*h,t[2]=-f*h,t[6]=g*d+y,t[10]=p-v*d}else if(e.order==="XZY"){const p=o*u,g=o*f,y=a*u,v=a*f;t[0]=u*h,t[4]=-d,t[8]=f*h,t[1]=p*d+v,t[5]=o*h,t[9]=g*d-y,t[2]=y*d-g,t[6]=a*h,t[10]=v*d+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Rk,e,Ik)}lookAt(e,t,i){const r=this.elements;return Ii.subVectors(e,t),Ii.lengthSq()===0&&(Ii.z=1),Ii.normalize(),Zs.crossVectors(i,Ii),Zs.lengthSq()===0&&(Math.abs(i.z)===1?Ii.x+=1e-4:Ii.z+=1e-4,Ii.normalize(),Zs.crossVectors(i,Ii)),Zs.normalize(),Ld.crossVectors(Ii,Zs),r[0]=Zs.x,r[4]=Ld.x,r[8]=Ii.x,r[1]=Zs.y,r[5]=Ld.y,r[9]=Ii.y,r[2]=Zs.z,r[6]=Ld.z,r[10]=Ii.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[4],u=i[8],f=i[12],h=i[1],d=i[5],p=i[9],g=i[13],y=i[2],v=i[6],w=i[10],M=i[14],_=i[3],S=i[7],T=i[11],C=i[15],P=r[0],R=r[4],b=r[8],L=r[12],D=r[1],V=r[5],K=r[9],Y=r[13],W=r[2],J=r[6],ne=r[10],fe=r[14],I=r[3],B=r[7],U=r[11],te=r[15];return s[0]=o*P+a*D+u*W+f*I,s[4]=o*R+a*V+u*J+f*B,s[8]=o*b+a*K+u*ne+f*U,s[12]=o*L+a*Y+u*fe+f*te,s[1]=h*P+d*D+p*W+g*I,s[5]=h*R+d*V+p*J+g*B,s[9]=h*b+d*K+p*ne+g*U,s[13]=h*L+d*Y+p*fe+g*te,s[2]=y*P+v*D+w*W+M*I,s[6]=y*R+v*V+w*J+M*B,s[10]=y*b+v*K+w*ne+M*U,s[14]=y*L+v*Y+w*fe+M*te,s[3]=_*P+S*D+T*W+C*I,s[7]=_*R+S*V+T*J+C*B,s[11]=_*b+S*K+T*ne+C*U,s[15]=_*L+S*Y+T*fe+C*te,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],u=e[9],f=e[13],h=e[2],d=e[6],p=e[10],g=e[14],y=e[3],v=e[7],w=e[11],M=e[15];return y*(+s*u*d-r*f*d-s*a*p+i*f*p+r*a*g-i*u*g)+v*(+t*u*g-t*f*p+s*o*p-r*o*g+r*f*h-s*u*h)+w*(+t*f*d-t*a*g-s*o*d+i*o*g+s*a*h-i*f*h)+M*(-r*a*h-t*u*d+t*a*p+r*o*d-i*o*p+i*u*h)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],u=e[6],f=e[7],h=e[8],d=e[9],p=e[10],g=e[11],y=e[12],v=e[13],w=e[14],M=e[15],_=d*w*f-v*p*f+v*u*g-a*w*g-d*u*M+a*p*M,S=y*p*f-h*w*f-y*u*g+o*w*g+h*u*M-o*p*M,T=h*v*f-y*d*f+y*a*g-o*v*g-h*a*M+o*d*M,C=y*d*u-h*v*u-y*a*p+o*v*p+h*a*w-o*d*w,P=t*_+i*S+r*T+s*C;if(P===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const R=1/P;return e[0]=_*R,e[1]=(v*p*s-d*w*s-v*r*g+i*w*g+d*r*M-i*p*M)*R,e[2]=(a*w*s-v*u*s+v*r*f-i*w*f-a*r*M+i*u*M)*R,e[3]=(d*u*s-a*p*s-d*r*f+i*p*f+a*r*g-i*u*g)*R,e[4]=S*R,e[5]=(h*w*s-y*p*s+y*r*g-t*w*g-h*r*M+t*p*M)*R,e[6]=(y*u*s-o*w*s-y*r*f+t*w*f+o*r*M-t*u*M)*R,e[7]=(o*p*s-h*u*s+h*r*f-t*p*f-o*r*g+t*u*g)*R,e[8]=T*R,e[9]=(y*d*s-h*v*s-y*i*g+t*v*g+h*i*M-t*d*M)*R,e[10]=(o*v*s-y*a*s+y*i*f-t*v*f-o*i*M+t*a*M)*R,e[11]=(h*a*s-o*d*s-h*i*f+t*d*f+o*i*g-t*a*g)*R,e[12]=C*R,e[13]=(h*v*r-y*d*r+y*i*p-t*v*p-h*i*w+t*d*w)*R,e[14]=(y*a*r-o*v*r-y*i*u+t*v*u+o*i*w-t*a*w)*R,e[15]=(o*d*r-h*a*r+h*i*u-t*d*u-o*i*p+t*a*p)*R,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,o=e.x,a=e.y,u=e.z,f=s*o,h=s*a;return this.set(f*o+i,f*a-r*u,f*u+r*a,0,f*a+r*u,h*a+i,h*u-r*o,0,f*u-r*a,h*u+r*o,s*u*u+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,o=t._y,a=t._z,u=t._w,f=s+s,h=o+o,d=a+a,p=s*f,g=s*h,y=s*d,v=o*h,w=o*d,M=a*d,_=u*f,S=u*h,T=u*d,C=i.x,P=i.y,R=i.z;return r[0]=(1-(v+M))*C,r[1]=(g+T)*C,r[2]=(y-S)*C,r[3]=0,r[4]=(g-T)*P,r[5]=(1-(p+M))*P,r[6]=(w+_)*P,r[7]=0,r[8]=(y+S)*R,r[9]=(w-_)*R,r[10]=(1-(p+v))*R,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=ml.set(r[0],r[1],r[2]).length();const o=ml.set(r[4],r[5],r[6]).length(),a=ml.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],yr.copy(this);const f=1/s,h=1/o,d=1/a;return yr.elements[0]*=f,yr.elements[1]*=f,yr.elements[2]*=f,yr.elements[4]*=h,yr.elements[5]*=h,yr.elements[6]*=h,yr.elements[8]*=d,yr.elements[9]*=d,yr.elements[10]*=d,t.setFromRotationMatrix(yr),i.x=s,i.y=o,i.z=a,this}makePerspective(e,t,i,r,s,o){const a=this.elements,u=2*s/(t-e),f=2*s/(i-r),h=(t+e)/(t-e),d=(i+r)/(i-r),p=-(o+s)/(o-s),g=-2*o*s/(o-s);return a[0]=u,a[4]=0,a[8]=h,a[12]=0,a[1]=0,a[5]=f,a[9]=d,a[13]=0,a[2]=0,a[6]=0,a[10]=p,a[14]=g,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,i,r,s,o){const a=this.elements,u=1/(t-e),f=1/(i-r),h=1/(o-s),d=(t+e)*u,p=(i+r)*f,g=(o+s)*h;return a[0]=2*u,a[4]=0,a[8]=0,a[12]=-d,a[1]=0,a[5]=2*f,a[9]=0,a[13]=-p,a[2]=0,a[6]=0,a[10]=-2*h,a[14]=-g,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const ml=new z,yr=new st,Rk=new z(0,0,0),Ik=new z(1,1,1),Zs=new z,Ld=new z,Ii=new z,C2=new st,P2=new Ti;class Wf{constructor(e=0,t=0,i=0,r=Wf.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,s=r[0],o=r[4],a=r[8],u=r[1],f=r[5],h=r[9],d=r[2],p=r[6],g=r[10];switch(t){case"XYZ":this._y=Math.asin(dn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-h,g),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,f),this._z=0);break;case"YXZ":this._x=Math.asin(-dn(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(a,g),this._z=Math.atan2(u,f)):(this._y=Math.atan2(-d,s),this._z=0);break;case"ZXY":this._x=Math.asin(dn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-d,g),this._z=Math.atan2(-o,f)):(this._y=0,this._z=Math.atan2(u,s));break;case"ZYX":this._y=Math.asin(-dn(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(p,g),this._z=Math.atan2(u,s)):(this._x=0,this._z=Math.atan2(-o,f));break;case"YZX":this._z=Math.asin(dn(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-h,f),this._y=Math.atan2(-d,s)):(this._x=0,this._y=Math.atan2(a,g));break;case"XZY":this._z=Math.asin(-dn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,f),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-h,g),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return C2.makeRotationFromQuaternion(e),this.setFromRotationMatrix(C2,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return P2.setFromEuler(this),this.setFromQuaternion(P2,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Wf.DEFAULT_ORDER="XYZ";class Pa{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Dk=0;const L2=new z,gl=new Ti,us=new st,Rd=new z,sc=new z,kk=new z,Nk=new Ti,R2=new z(1,0,0),I2=new z(0,1,0),D2=new z(0,0,1),zk={type:"added"},k2={type:"removed"};class At extends Os{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Dk++}),this.uuid=Oi(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=At.DEFAULT_UP.clone();const e=new z,t=new Wf,i=new Ti,r=new z(1,1,1);function s(){i.setFromEuler(t,!1)}function o(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new st},normalMatrix:{value:new zn}}),this.matrix=new st,this.matrixWorld=new st,this.matrixAutoUpdate=At.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=At.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new Pa,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return gl.setFromAxisAngle(e,t),this.quaternion.multiply(gl),this}rotateOnWorldAxis(e,t){return gl.setFromAxisAngle(e,t),this.quaternion.premultiply(gl),this}rotateX(e){return this.rotateOnAxis(R2,e)}rotateY(e){return this.rotateOnAxis(I2,e)}rotateZ(e){return this.rotateOnAxis(D2,e)}translateOnAxis(e,t){return L2.copy(e).applyQuaternion(this.quaternion),this.position.add(L2.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(R2,e)}translateY(e){return this.translateOnAxis(I2,e)}translateZ(e){return this.translateOnAxis(D2,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(us.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?Rd.copy(e):Rd.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),sc.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?us.lookAt(sc,Rd,this.up):us.lookAt(Rd,sc,this.up),this.quaternion.setFromRotationMatrix(us),r&&(us.extractRotation(r.matrixWorld),gl.setFromRotationMatrix(us),this.quaternion.premultiply(gl.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(zk)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(k2)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(k2)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),us.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),us.multiply(e.parent.matrixWorld)),e.applyMatrix4(us),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t){let i=[];this[e]===t&&i.push(this);for(let r=0,s=this.children.length;r<s;r++){const o=this.children[r].getObjectsByProperty(e,t);o.length>0&&(i=i.concat(o))}return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(sc,e,kk),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(sc,Nk,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++){const s=t[i];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.matrixWorldAutoUpdate===!0&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++){const a=r[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function s(a,u){return a[u.uuid]===void 0&&(a[u.uuid]=u.toJSON(e)),u.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const u=a.shapes;if(Array.isArray(u))for(let f=0,h=u.length;f<h;f++){const d=u[f];s(e.shapes,d)}else s(e.shapes,u)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let u=0,f=this.material.length;u<f;u++)a.push(s(e.materials,this.material[u]));r.material=a}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const u=this.animations[a];r.animations.push(s(e.animations,u))}}if(t){const a=o(e.geometries),u=o(e.materials),f=o(e.textures),h=o(e.images),d=o(e.shapes),p=o(e.skeletons),g=o(e.animations),y=o(e.nodes);a.length>0&&(i.geometries=a),u.length>0&&(i.materials=u),f.length>0&&(i.textures=f),h.length>0&&(i.images=h),d.length>0&&(i.shapes=d),p.length>0&&(i.skeletons=p),g.length>0&&(i.animations=g),y.length>0&&(i.nodes=y)}return i.object=r,i;function o(a){const u=[];for(const f in a){const h=a[f];delete h.metadata,u.push(h)}return u}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}At.DEFAULT_UP=new z(0,1,0);At.DEFAULT_MATRIX_AUTO_UPDATE=!0;At.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const vr=new z,cs=new z,py=new z,fs=new z,yl=new z,vl=new z,N2=new z,my=new z,gy=new z,yy=new z;class rr{constructor(e=new z,t=new z,i=new z){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),vr.subVectors(e,t),r.cross(vr);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){vr.subVectors(r,t),cs.subVectors(i,t),py.subVectors(e,t);const o=vr.dot(vr),a=vr.dot(cs),u=vr.dot(py),f=cs.dot(cs),h=cs.dot(py),d=o*f-a*a;if(d===0)return s.set(-2,-1,-1);const p=1/d,g=(f*u-a*h)*p,y=(o*h-a*u)*p;return s.set(1-g-y,y,g)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,fs),fs.x>=0&&fs.y>=0&&fs.x+fs.y<=1}static getUV(e,t,i,r,s,o,a,u){return this.getBarycoord(e,t,i,r,fs),u.set(0,0),u.addScaledVector(s,fs.x),u.addScaledVector(o,fs.y),u.addScaledVector(a,fs.z),u}static isFrontFacing(e,t,i,r){return vr.subVectors(i,t),cs.subVectors(e,t),vr.cross(cs).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return vr.subVectors(this.c,this.b),cs.subVectors(this.a,this.b),vr.cross(cs).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return rr.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return rr.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,i,r,s){return rr.getUV(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return rr.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return rr.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let o,a;yl.subVectors(r,i),vl.subVectors(s,i),my.subVectors(e,i);const u=yl.dot(my),f=vl.dot(my);if(u<=0&&f<=0)return t.copy(i);gy.subVectors(e,r);const h=yl.dot(gy),d=vl.dot(gy);if(h>=0&&d<=h)return t.copy(r);const p=u*d-h*f;if(p<=0&&u>=0&&h<=0)return o=u/(u-h),t.copy(i).addScaledVector(yl,o);yy.subVectors(e,s);const g=yl.dot(yy),y=vl.dot(yy);if(y>=0&&g<=y)return t.copy(s);const v=g*f-u*y;if(v<=0&&f>=0&&y<=0)return a=f/(f-y),t.copy(i).addScaledVector(vl,a);const w=h*y-g*d;if(w<=0&&d-h>=0&&g-y>=0)return N2.subVectors(s,r),a=(d-h)/(d-h+(g-y)),t.copy(r).addScaledVector(N2,a);const M=1/(w+v+p);return o=v*M,a=p*M,t.copy(i).addScaledVector(yl,o).addScaledVector(vl,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let Ok=0;class Un extends Os{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Ok++}),this.uuid=Oi(),this.name="",this.type="Material",this.blending=Ta,this.side=Rs,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=h_,this.blendDst=d_,this.blendEquation=fa,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=hm,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=NC,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Op,this.stencilZFail=Op,this.stencilZPass=Op,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}const r=this[t];if(r===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Ta&&(i.blending=this.blending),this.side!==Rs&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(i.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(i.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=this.flatShading),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const o=[];for(const a in s){const u=s[a];delete u.metadata,o.push(u)}return o}if(t){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}const BC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},xr={h:0,s:0,l:0},Id={h:0,s:0,l:0};function vy(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class Ie{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&i===void 0?this.set(e):this.setRGB(e,t,i)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Sr){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Jn.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=Jn.workingColorSpace){return this.r=e,this.g=t,this.b=i,Jn.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=Jn.workingColorSpace){if(e=x_(e,1),t=dn(t,0,1),i=dn(i,0,1),t===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,o=2*i-s;this.r=vy(o,s,e+1/3),this.g=vy(o,s,e),this.b=vy(o,s,e-1/3)}return Jn.toWorkingColorSpace(this,r),this}setStyle(e,t=Sr){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=r[1],a=r[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,Jn.toWorkingColorSpace(this,t),i(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,Jn.toWorkingColorSpace(this,t),i(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const u=parseFloat(s[1])/360,f=parseFloat(s[2])/100,h=parseFloat(s[3])/100;return i(s[4]),this.setHSL(u,f,h,t)}break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,Jn.toWorkingColorSpace(this,t),this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,Jn.toWorkingColorSpace(this,t),this;console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Sr){const i=BC[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=ru(e.r),this.g=ru(e.g),this.b=ru(e.b),this}copyLinearToSRGB(e){return this.r=oy(e.r),this.g=oy(e.g),this.b=oy(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Sr){return Jn.fromWorkingColorSpace(qn.copy(this),e),dn(qn.r*255,0,255)<<16^dn(qn.g*255,0,255)<<8^dn(qn.b*255,0,255)<<0}getHexString(e=Sr){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Jn.workingColorSpace){Jn.fromWorkingColorSpace(qn.copy(this),t);const i=qn.r,r=qn.g,s=qn.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let u,f;const h=(a+o)/2;if(a===o)u=0,f=0;else{const d=o-a;switch(f=h<=.5?d/(o+a):d/(2-o-a),o){case i:u=(r-s)/d+(r<s?6:0);break;case r:u=(s-i)/d+2;break;case s:u=(i-r)/d+4;break}u/=6}return e.h=u,e.s=f,e.l=h,e}getRGB(e,t=Jn.workingColorSpace){return Jn.fromWorkingColorSpace(qn.copy(this),t),e.r=qn.r,e.g=qn.g,e.b=qn.b,e}getStyle(e=Sr){Jn.fromWorkingColorSpace(qn.copy(this),e);const t=qn.r,i=qn.g,r=qn.b;return e!==Sr?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${t*255|0},${i*255|0},${r*255|0})`}offsetHSL(e,t,i){return this.getHSL(xr),xr.h+=e,xr.s+=t,xr.l+=i,this.setHSL(xr.h,xr.s,xr.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(xr),e.getHSL(Id);const i=Fc(xr.h,Id.h,t),r=Fc(xr.s,Id.s,t),s=Fc(xr.l,Id.l,t);return this.setHSL(i,r,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const qn=new Ie;Ie.NAMES=BC;class Oo extends Un{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ie(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Hf,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const vn=new z,Dd=new ge;class Nt{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=_f,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)Dd.fromBufferAttribute(this,t),Dd.applyMatrix3(e),this.setXY(t,Dd.x,Dd.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)vn.fromBufferAttribute(this,t),vn.applyMatrix3(e),this.setXYZ(t,vn.x,vn.y,vn.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)vn.fromBufferAttribute(this,t),vn.applyMatrix4(e),this.setXYZ(t,vn.x,vn.y,vn.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)vn.fromBufferAttribute(this,t),vn.applyNormalMatrix(e),this.setXYZ(t,vn.x,vn.y,vn.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)vn.fromBufferAttribute(this,t),vn.transformDirection(e),this.setXYZ(t,vn.x,vn.y,vn.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=ws(t,this.array)),t}setX(e,t){return this.normalized&&(t=kt(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=ws(t,this.array)),t}setY(e,t){return this.normalized&&(t=kt(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=ws(t,this.array)),t}setZ(e,t){return this.normalized&&(t=kt(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=ws(t,this.array)),t}setW(e,t){return this.normalized&&(t=kt(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=kt(t,this.array),i=kt(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=kt(t,this.array),i=kt(i,this.array),r=kt(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=kt(t,this.array),i=kt(i,this.array),r=kt(r,this.array),s=kt(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==_f&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class Fk extends Nt{constructor(e,t,i){super(new Int8Array(e),t,i)}}class Bk extends Nt{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class Uk extends Nt{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class Vk extends Nt{constructor(e,t,i){super(new Int16Array(e),t,i)}}class S_ extends Nt{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class Hk extends Nt{constructor(e,t,i){super(new Int32Array(e),t,i)}}class M_ extends Nt{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class Gk extends Nt{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}}class Be extends Nt{constructor(e,t,i){super(new Float32Array(e),t,i)}}class Wk extends Nt{constructor(e,t,i){super(new Float64Array(e),t,i)}}let jk=0;const Ki=new st,xy=new At,xl=new z,Di=new Ga,oc=new Ga,Pn=new z;class ut extends Os{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:jk++}),this.uuid=Oi(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(FC(e)?M_:S_)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new zn().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Ki.makeRotationFromQuaternion(e),this.applyMatrix4(Ki),this}rotateX(e){return Ki.makeRotationX(e),this.applyMatrix4(Ki),this}rotateY(e){return Ki.makeRotationY(e),this.applyMatrix4(Ki),this}rotateZ(e){return Ki.makeRotationZ(e),this.applyMatrix4(Ki),this}translate(e,t,i){return Ki.makeTranslation(e,t,i),this.applyMatrix4(Ki),this}scale(e,t,i){return Ki.makeScale(e,t,i),this.applyMatrix4(Ki),this}lookAt(e){return xy.lookAt(e),xy.updateMatrix(),this.applyMatrix4(xy.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(xl).negate(),this.translate(xl.x,xl.y,xl.z),this}setFromPoints(e){const t=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Be(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ga);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new z(-1/0,-1/0,-1/0),new z(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const s=t[i];Di.setFromBufferAttribute(s),this.morphTargetsRelative?(Pn.addVectors(this.boundingBox.min,Di.min),this.boundingBox.expandByPoint(Pn),Pn.addVectors(this.boundingBox.max,Di.max),this.boundingBox.expandByPoint(Pn)):(this.boundingBox.expandByPoint(Di.min),this.boundingBox.expandByPoint(Di.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Wa);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new z,1/0);return}if(e){const i=this.boundingSphere.center;if(Di.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];oc.setFromBufferAttribute(a),this.morphTargetsRelative?(Pn.addVectors(Di.min,oc.min),Di.expandByPoint(Pn),Pn.addVectors(Di.max,oc.max),Di.expandByPoint(Pn)):(Di.expandByPoint(oc.min),Di.expandByPoint(oc.max))}Di.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)Pn.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(Pn));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],u=this.morphTargetsRelative;for(let f=0,h=a.count;f<h;f++)Pn.fromBufferAttribute(a,f),u&&(xl.fromBufferAttribute(e,f),Pn.add(xl)),r=Math.max(r,i.distanceToSquared(Pn))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.array,r=t.position.array,s=t.normal.array,o=t.uv.array,a=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Nt(new Float32Array(4*a),4));const u=this.getAttribute("tangent").array,f=[],h=[];for(let D=0;D<a;D++)f[D]=new z,h[D]=new z;const d=new z,p=new z,g=new z,y=new ge,v=new ge,w=new ge,M=new z,_=new z;function S(D,V,K){d.fromArray(r,D*3),p.fromArray(r,V*3),g.fromArray(r,K*3),y.fromArray(o,D*2),v.fromArray(o,V*2),w.fromArray(o,K*2),p.sub(d),g.sub(d),v.sub(y),w.sub(y);const Y=1/(v.x*w.y-w.x*v.y);isFinite(Y)&&(M.copy(p).multiplyScalar(w.y).addScaledVector(g,-v.y).multiplyScalar(Y),_.copy(g).multiplyScalar(v.x).addScaledVector(p,-w.x).multiplyScalar(Y),f[D].add(M),f[V].add(M),f[K].add(M),h[D].add(_),h[V].add(_),h[K].add(_))}let T=this.groups;T.length===0&&(T=[{start:0,count:i.length}]);for(let D=0,V=T.length;D<V;++D){const K=T[D],Y=K.start,W=K.count;for(let J=Y,ne=Y+W;J<ne;J+=3)S(i[J+0],i[J+1],i[J+2])}const C=new z,P=new z,R=new z,b=new z;function L(D){R.fromArray(s,D*3),b.copy(R);const V=f[D];C.copy(V),C.sub(R.multiplyScalar(R.dot(V))).normalize(),P.crossVectors(b,V);const Y=P.dot(h[D])<0?-1:1;u[D*4]=C.x,u[D*4+1]=C.y,u[D*4+2]=C.z,u[D*4+3]=Y}for(let D=0,V=T.length;D<V;++D){const K=T[D],Y=K.start,W=K.count;for(let J=Y,ne=Y+W;J<ne;J+=3)L(i[J+0]),L(i[J+1]),L(i[J+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Nt(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let p=0,g=i.count;p<g;p++)i.setXYZ(p,0,0,0);const r=new z,s=new z,o=new z,a=new z,u=new z,f=new z,h=new z,d=new z;if(e)for(let p=0,g=e.count;p<g;p+=3){const y=e.getX(p+0),v=e.getX(p+1),w=e.getX(p+2);r.fromBufferAttribute(t,y),s.fromBufferAttribute(t,v),o.fromBufferAttribute(t,w),h.subVectors(o,s),d.subVectors(r,s),h.cross(d),a.fromBufferAttribute(i,y),u.fromBufferAttribute(i,v),f.fromBufferAttribute(i,w),a.add(h),u.add(h),f.add(h),i.setXYZ(y,a.x,a.y,a.z),i.setXYZ(v,u.x,u.y,u.z),i.setXYZ(w,f.x,f.y,f.z)}else for(let p=0,g=t.count;p<g;p+=3)r.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),o.fromBufferAttribute(t,p+2),h.subVectors(o,s),d.subVectors(r,s),h.cross(d),i.setXYZ(p+0,h.x,h.y,h.z),i.setXYZ(p+1,h.x,h.y,h.z),i.setXYZ(p+2,h.x,h.y,h.z);this.normalizeNormals(),i.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)Pn.fromBufferAttribute(e,t),Pn.normalize(),e.setXYZ(t,Pn.x,Pn.y,Pn.z)}toNonIndexed(){function e(a,u){const f=a.array,h=a.itemSize,d=a.normalized,p=new f.constructor(u.length*h);let g=0,y=0;for(let v=0,w=u.length;v<w;v++){a.isInterleavedBufferAttribute?g=u[v]*a.data.stride+a.offset:g=u[v]*h;for(let M=0;M<h;M++)p[y++]=f[g++]}return new Nt(p,h,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new ut,i=this.index.array,r=this.attributes;for(const a in r){const u=r[a],f=e(u,i);t.setAttribute(a,f)}const s=this.morphAttributes;for(const a in s){const u=[],f=s[a];for(let h=0,d=f.length;h<d;h++){const p=f[h],g=e(p,i);u.push(g)}t.morphAttributes[a]=u}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,u=o.length;a<u;a++){const f=o[a];t.addGroup(f.start,f.count,f.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const u=this.parameters;for(const f in u)u[f]!==void 0&&(e[f]=u[f]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const u in i){const f=i[u];e.data.attributes[u]=f.toJSON(e.data)}const r={};let s=!1;for(const u in this.morphAttributes){const f=this.morphAttributes[u],h=[];for(let d=0,p=f.length;d<p;d++){const g=f[d];h.push(g.toJSON(e.data))}h.length>0&&(r[u]=h,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(t));const r=e.attributes;for(const f in r){const h=r[f];this.setAttribute(f,h.clone(t))}const s=e.morphAttributes;for(const f in s){const h=[],d=s[f];for(let p=0,g=d.length;p<g;p++)h.push(d[p].clone(t));this.morphAttributes[f]=h}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let f=0,h=o.length;f<h;f++){const d=o[f];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const u=e.boundingSphere;return u!==null&&(this.boundingSphere=u.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const z2=new st,Hr=new Gf,kd=new Wa,O2=new z,ac=new z,lc=new z,uc=new z,_y=new z,Nd=new z,zd=new ge,Od=new ge,Fd=new ge,wy=new z,Bd=new z;class On extends At{constructor(e=new ut,t=new Oo){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,o=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(s&&a){Nd.set(0,0,0);for(let u=0,f=s.length;u<f;u++){const h=a[u],d=s[u];h!==0&&(_y.fromBufferAttribute(d,e),o?Nd.addScaledVector(_y,h):Nd.addScaledVector(_y.sub(t),h))}t.add(Nd)}return this.isSkinnedMesh&&this.boneTransform(e,t),t}raycast(e,t){const i=this.geometry,r=this.material,s=this.matrixWorld;if(r===void 0||(i.boundingSphere===null&&i.computeBoundingSphere(),kd.copy(i.boundingSphere),kd.applyMatrix4(s),Hr.copy(e.ray).recast(e.near),kd.containsPoint(Hr.origin)===!1&&(Hr.intersectSphere(kd,O2)===null||Hr.origin.distanceToSquared(O2)>(e.far-e.near)**2))||(z2.copy(s).invert(),Hr.copy(e.ray).applyMatrix4(z2),i.boundingBox!==null&&Hr.intersectsBox(i.boundingBox)===!1))return;let o;const a=i.index,u=i.attributes.position,f=i.attributes.uv,h=i.attributes.uv2,d=i.groups,p=i.drawRange;if(a!==null)if(Array.isArray(r))for(let g=0,y=d.length;g<y;g++){const v=d[g],w=r[v.materialIndex],M=Math.max(v.start,p.start),_=Math.min(a.count,Math.min(v.start+v.count,p.start+p.count));for(let S=M,T=_;S<T;S+=3){const C=a.getX(S),P=a.getX(S+1),R=a.getX(S+2);o=Ud(this,w,e,Hr,f,h,C,P,R),o&&(o.faceIndex=Math.floor(S/3),o.face.materialIndex=v.materialIndex,t.push(o))}}else{const g=Math.max(0,p.start),y=Math.min(a.count,p.start+p.count);for(let v=g,w=y;v<w;v+=3){const M=a.getX(v),_=a.getX(v+1),S=a.getX(v+2);o=Ud(this,r,e,Hr,f,h,M,_,S),o&&(o.faceIndex=Math.floor(v/3),t.push(o))}}else if(u!==void 0)if(Array.isArray(r))for(let g=0,y=d.length;g<y;g++){const v=d[g],w=r[v.materialIndex],M=Math.max(v.start,p.start),_=Math.min(u.count,Math.min(v.start+v.count,p.start+p.count));for(let S=M,T=_;S<T;S+=3){const C=S,P=S+1,R=S+2;o=Ud(this,w,e,Hr,f,h,C,P,R),o&&(o.faceIndex=Math.floor(S/3),o.face.materialIndex=v.materialIndex,t.push(o))}}else{const g=Math.max(0,p.start),y=Math.min(u.count,p.start+p.count);for(let v=g,w=y;v<w;v+=3){const M=v,_=v+1,S=v+2;o=Ud(this,r,e,Hr,f,h,M,_,S),o&&(o.faceIndex=Math.floor(v/3),t.push(o))}}}}function Xk(n,e,t,i,r,s,o,a){let u;if(e.side===Ei?u=i.intersectTriangle(o,s,r,!0,a):u=i.intersectTriangle(r,s,o,e.side===Rs,a),u===null)return null;Bd.copy(a),Bd.applyMatrix4(n.matrixWorld);const f=t.ray.origin.distanceTo(Bd);return f<t.near||f>t.far?null:{distance:f,point:Bd.clone(),object:n}}function Ud(n,e,t,i,r,s,o,a,u){n.getVertexPosition(o,ac),n.getVertexPosition(a,lc),n.getVertexPosition(u,uc);const f=Xk(n,e,t,i,ac,lc,uc,wy);if(f){r&&(zd.fromBufferAttribute(r,o),Od.fromBufferAttribute(r,a),Fd.fromBufferAttribute(r,u),f.uv=rr.getUV(wy,ac,lc,uc,zd,Od,Fd,new ge)),s&&(zd.fromBufferAttribute(s,o),Od.fromBufferAttribute(s,a),Fd.fromBufferAttribute(s,u),f.uv2=rr.getUV(wy,ac,lc,uc,zd,Od,Fd,new ge));const h={a:o,b:a,c:u,normal:new z,materialIndex:0};rr.getNormal(ac,lc,uc,h.normal),f.face=h}return f}class Fo extends ut{constructor(e=1,t=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const u=[],f=[],h=[],d=[];let p=0,g=0;y("z","y","x",-1,-1,i,t,e,o,s,0),y("z","y","x",1,-1,i,t,-e,o,s,1),y("x","z","y",1,1,e,i,t,r,o,2),y("x","z","y",1,-1,e,i,-t,r,o,3),y("x","y","z",1,-1,e,t,i,r,s,4),y("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(u),this.setAttribute("position",new Be(f,3)),this.setAttribute("normal",new Be(h,3)),this.setAttribute("uv",new Be(d,2));function y(v,w,M,_,S,T,C,P,R,b,L){const D=T/R,V=C/b,K=T/2,Y=C/2,W=P/2,J=R+1,ne=b+1;let fe=0,I=0;const B=new z;for(let U=0;U<ne;U++){const te=U*V-Y;for(let H=0;H<J;H++){const ue=H*D-K;B[v]=ue*_,B[w]=te*S,B[M]=W,f.push(B.x,B.y,B.z),B[v]=0,B[w]=0,B[M]=P>0?1:-1,h.push(B.x,B.y,B.z),d.push(H/R),d.push(1-U/b),fe+=1}}for(let U=0;U<b;U++)for(let te=0;te<R;te++){const H=p+te+J*U,ue=p+te+J*(U+1),me=p+(te+1)+J*(U+1),q=p+(te+1)+J*U;u.push(H,ue,q),u.push(ue,me,q),I+=6}a.addGroup(g,I,L),g+=I,p+=fe}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Fo(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function gu(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function si(n){const e={};for(let t=0;t<n.length;t++){const i=gu(n[t]);for(const r in i)e[r]=i[r]}return e}function Qk(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function UC(n){return n.getRenderTarget()===null&&n.outputEncoding===It?Sr:mu}const VC={clone:gu,merge:si};var Yk=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,qk=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Jr extends Un{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Yk,this.fragmentShader=qk,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=gu(e.uniforms),this.uniformsGroups=Qk(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?t.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[r]={type:"m4",value:o.toArray()}:t.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class jf extends At{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new st,this.projectionMatrix=new st,this.projectionMatrixInverse=new st}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Rn extends jf{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=wf*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Ca*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return wf*2*Math.atan(Math.tan(Ca*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,i,r,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Ca*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const u=o.fullWidth,f=o.fullHeight;s+=o.offsetX*r/u,t-=o.offsetY*i/f,r*=o.width/u,i*=o.height/f}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const _l=-90,wl=1;class E_ extends At{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i;const r=new Rn(_l,wl,e,t);r.layers=this.layers,r.up.set(0,1,0),r.lookAt(1,0,0),this.add(r);const s=new Rn(_l,wl,e,t);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(-1,0,0),this.add(s);const o=new Rn(_l,wl,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(0,1,0),this.add(o);const a=new Rn(_l,wl,e,t);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(0,-1,0),this.add(a);const u=new Rn(_l,wl,e,t);u.layers=this.layers,u.up.set(0,1,0),u.lookAt(0,0,1),this.add(u);const f=new Rn(_l,wl,e,t);f.layers=this.layers,f.up.set(0,1,0),f.lookAt(0,0,-1),this.add(f)}update(e,t){this.parent===null&&this.updateMatrixWorld();const i=this.renderTarget,[r,s,o,a,u,f]=this.children,h=e.getRenderTarget(),d=e.toneMapping,p=e.xr.enabled;e.toneMapping=br,e.xr.enabled=!1;const g=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0),e.render(t,r),e.setRenderTarget(i,1),e.render(t,s),e.setRenderTarget(i,2),e.render(t,o),e.setRenderTarget(i,3),e.render(t,a),e.setRenderTarget(i,4),e.render(t,u),i.texture.generateMipmaps=g,e.setRenderTarget(i,5),e.render(t,f),e.setRenderTarget(h),e.toneMapping=d,e.xr.enabled=p,i.texture.needsPMREMUpdate=!0}}class Xf extends on{constructor(e,t,i,r,s,o,a,u,f,h){e=e!==void 0?e:[],t=t!==void 0?t:bo,super(e,t,i,r,s,o,a,u,f,h),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class T_ extends Pr{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new Xf(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:hn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new Fo(5,5,5),s=new Jr({name:"CubemapFromEquirect",uniforms:gu(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Ei,blending:Es});s.uniforms.tEquirect.value=t;const o=new On(r,s),a=t.minFilter;return t.minFilter===Po&&(t.minFilter=hn),new E_(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,i,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,r);e.setRenderTarget(s)}}const Sy=new z,Jk=new z,Zk=new zn;class ro{constructor(e=new z(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=Sy.subVectors(i,t).cross(Jk.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(Sy),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||Zk.getNormalMatrix(e),r=this.coplanarPoint(Sy).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Sl=new Wa,Vd=new z;class $m{constructor(e=new ro,t=new ro,i=new ro,r=new ro,s=new ro,o=new ro){this.planes=[e,t,i,r,s,o]}set(e,t,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e){const t=this.planes,i=e.elements,r=i[0],s=i[1],o=i[2],a=i[3],u=i[4],f=i[5],h=i[6],d=i[7],p=i[8],g=i[9],y=i[10],v=i[11],w=i[12],M=i[13],_=i[14],S=i[15];return t[0].setComponents(a-r,d-u,v-p,S-w).normalize(),t[1].setComponents(a+r,d+u,v+p,S+w).normalize(),t[2].setComponents(a+s,d+f,v+g,S+M).normalize(),t[3].setComponents(a-s,d-f,v-g,S-M).normalize(),t[4].setComponents(a-o,d-h,v-y,S-_).normalize(),t[5].setComponents(a+o,d+h,v+y,S+_).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),Sl.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Sl)}intersectsSprite(e){return Sl.center.set(0,0,0),Sl.radius=.7071067811865476,Sl.applyMatrix4(e.matrixWorld),this.intersectsSphere(Sl)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(Vd.x=r.normal.x>0?e.max.x:e.min.x,Vd.y=r.normal.y>0?e.max.y:e.min.y,Vd.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Vd)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function HC(){let n=null,e=!1,t=null,i=null;function r(s,o){t(s,o),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function Kk(n,e){const t=e.isWebGL2,i=new WeakMap;function r(f,h){const d=f.array,p=f.usage,g=n.createBuffer();n.bindBuffer(h,g),n.bufferData(h,d,p),f.onUploadCallback();let y;if(d instanceof Float32Array)y=5126;else if(d instanceof Uint16Array)if(f.isFloat16BufferAttribute)if(t)y=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else y=5123;else if(d instanceof Int16Array)y=5122;else if(d instanceof Uint32Array)y=5125;else if(d instanceof Int32Array)y=5124;else if(d instanceof Int8Array)y=5120;else if(d instanceof Uint8Array)y=5121;else if(d instanceof Uint8ClampedArray)y=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:g,type:y,bytesPerElement:d.BYTES_PER_ELEMENT,version:f.version}}function s(f,h,d){const p=h.array,g=h.updateRange;n.bindBuffer(d,f),g.count===-1?n.bufferSubData(d,0,p):(t?n.bufferSubData(d,g.offset*p.BYTES_PER_ELEMENT,p,g.offset,g.count):n.bufferSubData(d,g.offset*p.BYTES_PER_ELEMENT,p.subarray(g.offset,g.offset+g.count)),g.count=-1),h.onUploadCallback()}function o(f){return f.isInterleavedBufferAttribute&&(f=f.data),i.get(f)}function a(f){f.isInterleavedBufferAttribute&&(f=f.data);const h=i.get(f);h&&(n.deleteBuffer(h.buffer),i.delete(f))}function u(f,h){if(f.isGLBufferAttribute){const p=i.get(f);(!p||p.version<f.version)&&i.set(f,{buffer:f.buffer,type:f.type,bytesPerElement:f.elementSize,version:f.version});return}f.isInterleavedBufferAttribute&&(f=f.data);const d=i.get(f);d===void 0?i.set(f,r(f,h)):d.version<f.version&&(s(d.buffer,f,h),d.version=f.version)}return{get:o,remove:a,update:u}}class Eu extends ut{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,o=t/2,a=Math.floor(i),u=Math.floor(r),f=a+1,h=u+1,d=e/a,p=t/u,g=[],y=[],v=[],w=[];for(let M=0;M<h;M++){const _=M*p-o;for(let S=0;S<f;S++){const T=S*d-s;y.push(T,-_,0),v.push(0,0,1),w.push(S/a),w.push(1-M/u)}}for(let M=0;M<u;M++)for(let _=0;_<a;_++){const S=_+f*M,T=_+f*(M+1),C=_+1+f*(M+1),P=_+1+f*M;g.push(S,T,P),g.push(T,C,P)}this.setIndex(g),this.setAttribute("position",new Be(y,3)),this.setAttribute("normal",new Be(v,3)),this.setAttribute("uv",new Be(w,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Eu(e.width,e.height,e.widthSegments,e.heightSegments)}}var $k=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,eN=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,tN=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,nN=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,iN=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,rN=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,sN="vec3 transformed = vec3( position );",oN=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,aN=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,lN=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,uN=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,cN=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,fN=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,hN=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,dN=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,pN=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,mN=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,gN=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,yN=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,vN=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,xN=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,_N=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,wN=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,SN=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,MN=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,EN=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,TN="gl_FragColor = linearToOutputTexel( gl_FragColor );",AN=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,bN=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,CN=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,PN=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,LN=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,RN=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,IN=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,DN=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,kN=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,NN=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,zN=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,ON=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,FN=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,BN=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,UN=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,VN=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,HN=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,GN=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,WN=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,jN=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,XN=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,QN=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,YN=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,qN=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,JN=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,ZN=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,KN=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,$N=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,e6=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,t6=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,n6=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,i6=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,r6=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,s6=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,o6=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,a6=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,l6=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,u6=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,c6=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,f6=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,h6=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,d6=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,p6=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,m6=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,g6=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,y6=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,v6=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,x6=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,_6=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,w6=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,S6=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,M6=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,E6=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,T6=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,A6=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,b6=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,C6=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,P6=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,L6=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,R6=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,I6=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,D6=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,k6=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,N6=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,z6=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,O6=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,F6=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,B6=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,U6=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,V6=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,H6=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,G6=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, vec2 fullSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		
		vec2 lodFudge = pow( 1.95, lod ) / fullSize;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec2 fullSize = vec2( textureSize( sampler, 0 ) );
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), fullSize, floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), fullSize, ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,W6=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,j6=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,X6=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,Q6=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,Y6=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,q6=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,J6=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Z6=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,K6=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,$6=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,ez=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,tz=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,nz=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,iz=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,rz=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,sz=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,oz=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,az=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,lz=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,uz=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,cz=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,fz=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,hz=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,dz=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,pz=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,mz=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,gz=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,yz=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,vz=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,xz=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,_z=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,wz=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Sz=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Mz=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Ez=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Tz=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Az=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,bz=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Cz=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Pz=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Lz=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,lt={alphamap_fragment:$k,alphamap_pars_fragment:eN,alphatest_fragment:tN,alphatest_pars_fragment:nN,aomap_fragment:iN,aomap_pars_fragment:rN,begin_vertex:sN,beginnormal_vertex:oN,bsdfs:aN,iridescence_fragment:lN,bumpmap_pars_fragment:uN,clipping_planes_fragment:cN,clipping_planes_pars_fragment:fN,clipping_planes_pars_vertex:hN,clipping_planes_vertex:dN,color_fragment:pN,color_pars_fragment:mN,color_pars_vertex:gN,color_vertex:yN,common:vN,cube_uv_reflection_fragment:xN,defaultnormal_vertex:_N,displacementmap_pars_vertex:wN,displacementmap_vertex:SN,emissivemap_fragment:MN,emissivemap_pars_fragment:EN,encodings_fragment:TN,encodings_pars_fragment:AN,envmap_fragment:bN,envmap_common_pars_fragment:CN,envmap_pars_fragment:PN,envmap_pars_vertex:LN,envmap_physical_pars_fragment:HN,envmap_vertex:RN,fog_vertex:IN,fog_pars_vertex:DN,fog_fragment:kN,fog_pars_fragment:NN,gradientmap_pars_fragment:zN,lightmap_fragment:ON,lightmap_pars_fragment:FN,lights_lambert_fragment:BN,lights_lambert_pars_fragment:UN,lights_pars_begin:VN,lights_toon_fragment:GN,lights_toon_pars_fragment:WN,lights_phong_fragment:jN,lights_phong_pars_fragment:XN,lights_physical_fragment:QN,lights_physical_pars_fragment:YN,lights_fragment_begin:qN,lights_fragment_maps:JN,lights_fragment_end:ZN,logdepthbuf_fragment:KN,logdepthbuf_pars_fragment:$N,logdepthbuf_pars_vertex:e6,logdepthbuf_vertex:t6,map_fragment:n6,map_pars_fragment:i6,map_particle_fragment:r6,map_particle_pars_fragment:s6,metalnessmap_fragment:o6,metalnessmap_pars_fragment:a6,morphcolor_vertex:l6,morphnormal_vertex:u6,morphtarget_pars_vertex:c6,morphtarget_vertex:f6,normal_fragment_begin:h6,normal_fragment_maps:d6,normal_pars_fragment:p6,normal_pars_vertex:m6,normal_vertex:g6,normalmap_pars_fragment:y6,clearcoat_normal_fragment_begin:v6,clearcoat_normal_fragment_maps:x6,clearcoat_pars_fragment:_6,iridescence_pars_fragment:w6,output_fragment:S6,packing:M6,premultiplied_alpha_fragment:E6,project_vertex:T6,dithering_fragment:A6,dithering_pars_fragment:b6,roughnessmap_fragment:C6,roughnessmap_pars_fragment:P6,shadowmap_pars_fragment:L6,shadowmap_pars_vertex:R6,shadowmap_vertex:I6,shadowmask_pars_fragment:D6,skinbase_vertex:k6,skinning_pars_vertex:N6,skinning_vertex:z6,skinnormal_vertex:O6,specularmap_fragment:F6,specularmap_pars_fragment:B6,tonemapping_fragment:U6,tonemapping_pars_fragment:V6,transmission_fragment:H6,transmission_pars_fragment:G6,uv_pars_fragment:W6,uv_pars_vertex:j6,uv_vertex:X6,uv2_pars_fragment:Q6,uv2_pars_vertex:Y6,uv2_vertex:q6,worldpos_vertex:J6,background_vert:Z6,background_frag:K6,backgroundCube_vert:$6,backgroundCube_frag:ez,cube_vert:tz,cube_frag:nz,depth_vert:iz,depth_frag:rz,distanceRGBA_vert:sz,distanceRGBA_frag:oz,equirect_vert:az,equirect_frag:lz,linedashed_vert:uz,linedashed_frag:cz,meshbasic_vert:fz,meshbasic_frag:hz,meshlambert_vert:dz,meshlambert_frag:pz,meshmatcap_vert:mz,meshmatcap_frag:gz,meshnormal_vert:yz,meshnormal_frag:vz,meshphong_vert:xz,meshphong_frag:_z,meshphysical_vert:wz,meshphysical_frag:Sz,meshtoon_vert:Mz,meshtoon_frag:Ez,points_vert:Tz,points_frag:Az,shadow_vert:bz,shadow_frag:Cz,sprite_vert:Pz,sprite_frag:Lz},Te={common:{diffuse:{value:new Ie(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new zn},uv2Transform:{value:new zn},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new ge(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ie(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ie(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new zn}},sprite:{diffuse:{value:new Ie(16777215)},opacity:{value:1},center:{value:new ge(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new zn}}},Er={basic:{uniforms:si([Te.common,Te.specularmap,Te.envmap,Te.aomap,Te.lightmap,Te.fog]),vertexShader:lt.meshbasic_vert,fragmentShader:lt.meshbasic_frag},lambert:{uniforms:si([Te.common,Te.specularmap,Te.envmap,Te.aomap,Te.lightmap,Te.emissivemap,Te.bumpmap,Te.normalmap,Te.displacementmap,Te.fog,Te.lights,{emissive:{value:new Ie(0)}}]),vertexShader:lt.meshlambert_vert,fragmentShader:lt.meshlambert_frag},phong:{uniforms:si([Te.common,Te.specularmap,Te.envmap,Te.aomap,Te.lightmap,Te.emissivemap,Te.bumpmap,Te.normalmap,Te.displacementmap,Te.fog,Te.lights,{emissive:{value:new Ie(0)},specular:{value:new Ie(1118481)},shininess:{value:30}}]),vertexShader:lt.meshphong_vert,fragmentShader:lt.meshphong_frag},standard:{uniforms:si([Te.common,Te.envmap,Te.aomap,Te.lightmap,Te.emissivemap,Te.bumpmap,Te.normalmap,Te.displacementmap,Te.roughnessmap,Te.metalnessmap,Te.fog,Te.lights,{emissive:{value:new Ie(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:lt.meshphysical_vert,fragmentShader:lt.meshphysical_frag},toon:{uniforms:si([Te.common,Te.aomap,Te.lightmap,Te.emissivemap,Te.bumpmap,Te.normalmap,Te.displacementmap,Te.gradientmap,Te.fog,Te.lights,{emissive:{value:new Ie(0)}}]),vertexShader:lt.meshtoon_vert,fragmentShader:lt.meshtoon_frag},matcap:{uniforms:si([Te.common,Te.bumpmap,Te.normalmap,Te.displacementmap,Te.fog,{matcap:{value:null}}]),vertexShader:lt.meshmatcap_vert,fragmentShader:lt.meshmatcap_frag},points:{uniforms:si([Te.points,Te.fog]),vertexShader:lt.points_vert,fragmentShader:lt.points_frag},dashed:{uniforms:si([Te.common,Te.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:lt.linedashed_vert,fragmentShader:lt.linedashed_frag},depth:{uniforms:si([Te.common,Te.displacementmap]),vertexShader:lt.depth_vert,fragmentShader:lt.depth_frag},normal:{uniforms:si([Te.common,Te.bumpmap,Te.normalmap,Te.displacementmap,{opacity:{value:1}}]),vertexShader:lt.meshnormal_vert,fragmentShader:lt.meshnormal_frag},sprite:{uniforms:si([Te.sprite,Te.fog]),vertexShader:lt.sprite_vert,fragmentShader:lt.sprite_frag},background:{uniforms:{uvTransform:{value:new zn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:lt.background_vert,fragmentShader:lt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:lt.backgroundCube_vert,fragmentShader:lt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:lt.cube_vert,fragmentShader:lt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:lt.equirect_vert,fragmentShader:lt.equirect_frag},distanceRGBA:{uniforms:si([Te.common,Te.displacementmap,{referencePosition:{value:new z},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:lt.distanceRGBA_vert,fragmentShader:lt.distanceRGBA_frag},shadow:{uniforms:si([Te.lights,Te.fog,{color:{value:new Ie(0)},opacity:{value:1}}]),vertexShader:lt.shadow_vert,fragmentShader:lt.shadow_frag}};Er.physical={uniforms:si([Er.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new ge(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new Ie(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new ge},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Ie(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Ie(1,1,1)},specularColorMap:{value:null}}]),vertexShader:lt.meshphysical_vert,fragmentShader:lt.meshphysical_frag};const Hd={r:0,b:0,g:0};function Rz(n,e,t,i,r,s,o){const a=new Ie(0);let u=s===!0?0:1,f,h,d=null,p=0,g=null;function y(w,M){let _=!1,S=M.isScene===!0?M.background:null;S&&S.isTexture&&(S=(M.backgroundBlurriness>0?t:e).get(S));const T=n.xr,C=T.getSession&&T.getSession();C&&C.environmentBlendMode==="additive"&&(S=null),S===null?v(a,u):S&&S.isColor&&(v(S,1),_=!0),(n.autoClear||_)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),S&&(S.isCubeTexture||S.mapping===Mu)?(h===void 0&&(h=new On(new Fo(1,1,1),new Jr({name:"BackgroundCubeMaterial",uniforms:gu(Er.backgroundCube.uniforms),vertexShader:Er.backgroundCube.vertexShader,fragmentShader:Er.backgroundCube.fragmentShader,side:Ei,depthTest:!1,depthWrite:!1,fog:!1})),h.geometry.deleteAttribute("normal"),h.geometry.deleteAttribute("uv"),h.onBeforeRender=function(P,R,b){this.matrixWorld.copyPosition(b.matrixWorld)},Object.defineProperty(h.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(h)),h.material.uniforms.envMap.value=S,h.material.uniforms.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,h.material.uniforms.backgroundBlurriness.value=M.backgroundBlurriness,h.material.uniforms.backgroundIntensity.value=M.backgroundIntensity,h.material.toneMapped=S.encoding!==It,(d!==S||p!==S.version||g!==n.toneMapping)&&(h.material.needsUpdate=!0,d=S,p=S.version,g=n.toneMapping),h.layers.enableAll(),w.unshift(h,h.geometry,h.material,0,0,null)):S&&S.isTexture&&(f===void 0&&(f=new On(new Eu(2,2),new Jr({name:"BackgroundMaterial",uniforms:gu(Er.background.uniforms),vertexShader:Er.background.vertexShader,fragmentShader:Er.background.fragmentShader,side:Rs,depthTest:!1,depthWrite:!1,fog:!1})),f.geometry.deleteAttribute("normal"),Object.defineProperty(f.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(f)),f.material.uniforms.t2D.value=S,f.material.uniforms.backgroundIntensity.value=M.backgroundIntensity,f.material.toneMapped=S.encoding!==It,S.matrixAutoUpdate===!0&&S.updateMatrix(),f.material.uniforms.uvTransform.value.copy(S.matrix),(d!==S||p!==S.version||g!==n.toneMapping)&&(f.material.needsUpdate=!0,d=S,p=S.version,g=n.toneMapping),f.layers.enableAll(),w.unshift(f,f.geometry,f.material,0,0,null))}function v(w,M){w.getRGB(Hd,UC(n)),i.buffers.color.setClear(Hd.r,Hd.g,Hd.b,M,o)}return{getClearColor:function(){return a},setClearColor:function(w,M=1){a.set(w),u=M,v(a,u)},getClearAlpha:function(){return u},setClearAlpha:function(w){u=w,v(a,u)},render:y}}function Iz(n,e,t,i){const r=n.getParameter(34921),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),o=i.isWebGL2||s!==null,a={},u=w(null);let f=u,h=!1;function d(W,J,ne,fe,I){let B=!1;if(o){const U=v(fe,ne,J);f!==U&&(f=U,g(f.object)),B=M(W,fe,ne,I),B&&_(W,fe,ne,I)}else{const U=J.wireframe===!0;(f.geometry!==fe.id||f.program!==ne.id||f.wireframe!==U)&&(f.geometry=fe.id,f.program=ne.id,f.wireframe=U,B=!0)}I!==null&&t.update(I,34963),(B||h)&&(h=!1,b(W,J,ne,fe),I!==null&&n.bindBuffer(34963,t.get(I).buffer))}function p(){return i.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function g(W){return i.isWebGL2?n.bindVertexArray(W):s.bindVertexArrayOES(W)}function y(W){return i.isWebGL2?n.deleteVertexArray(W):s.deleteVertexArrayOES(W)}function v(W,J,ne){const fe=ne.wireframe===!0;let I=a[W.id];I===void 0&&(I={},a[W.id]=I);let B=I[J.id];B===void 0&&(B={},I[J.id]=B);let U=B[fe];return U===void 0&&(U=w(p()),B[fe]=U),U}function w(W){const J=[],ne=[],fe=[];for(let I=0;I<r;I++)J[I]=0,ne[I]=0,fe[I]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:J,enabledAttributes:ne,attributeDivisors:fe,object:W,attributes:{},index:null}}function M(W,J,ne,fe){const I=f.attributes,B=J.attributes;let U=0;const te=ne.getAttributes();for(const H in te)if(te[H].location>=0){const me=I[H];let q=B[H];if(q===void 0&&(H==="instanceMatrix"&&W.instanceMatrix&&(q=W.instanceMatrix),H==="instanceColor"&&W.instanceColor&&(q=W.instanceColor)),me===void 0||me.attribute!==q||q&&me.data!==q.data)return!0;U++}return f.attributesNum!==U||f.index!==fe}function _(W,J,ne,fe){const I={},B=J.attributes;let U=0;const te=ne.getAttributes();for(const H in te)if(te[H].location>=0){let me=B[H];me===void 0&&(H==="instanceMatrix"&&W.instanceMatrix&&(me=W.instanceMatrix),H==="instanceColor"&&W.instanceColor&&(me=W.instanceColor));const q={};q.attribute=me,me&&me.data&&(q.data=me.data),I[H]=q,U++}f.attributes=I,f.attributesNum=U,f.index=fe}function S(){const W=f.newAttributes;for(let J=0,ne=W.length;J<ne;J++)W[J]=0}function T(W){C(W,0)}function C(W,J){const ne=f.newAttributes,fe=f.enabledAttributes,I=f.attributeDivisors;ne[W]=1,fe[W]===0&&(n.enableVertexAttribArray(W),fe[W]=1),I[W]!==J&&((i.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](W,J),I[W]=J)}function P(){const W=f.newAttributes,J=f.enabledAttributes;for(let ne=0,fe=J.length;ne<fe;ne++)J[ne]!==W[ne]&&(n.disableVertexAttribArray(ne),J[ne]=0)}function R(W,J,ne,fe,I,B){i.isWebGL2===!0&&(ne===5124||ne===5125)?n.vertexAttribIPointer(W,J,ne,I,B):n.vertexAttribPointer(W,J,ne,fe,I,B)}function b(W,J,ne,fe){if(i.isWebGL2===!1&&(W.isInstancedMesh||fe.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;S();const I=fe.attributes,B=ne.getAttributes(),U=J.defaultAttributeValues;for(const te in B){const H=B[te];if(H.location>=0){let ue=I[te];if(ue===void 0&&(te==="instanceMatrix"&&W.instanceMatrix&&(ue=W.instanceMatrix),te==="instanceColor"&&W.instanceColor&&(ue=W.instanceColor)),ue!==void 0){const me=ue.normalized,q=ue.itemSize,xe=t.get(ue);if(xe===void 0)continue;const _e=xe.buffer,ke=xe.type,ze=xe.bytesPerElement;if(ue.isInterleavedBufferAttribute){const Oe=ue.data,Ve=Oe.stride,he=ue.offset;if(Oe.isInstancedInterleavedBuffer){for(let pe=0;pe<H.locationSize;pe++)C(H.location+pe,Oe.meshPerAttribute);W.isInstancedMesh!==!0&&fe._maxInstanceCount===void 0&&(fe._maxInstanceCount=Oe.meshPerAttribute*Oe.count)}else for(let pe=0;pe<H.locationSize;pe++)T(H.location+pe);n.bindBuffer(34962,_e);for(let pe=0;pe<H.locationSize;pe++)R(H.location+pe,q/H.locationSize,ke,me,Ve*ze,(he+q/H.locationSize*pe)*ze)}else{if(ue.isInstancedBufferAttribute){for(let Oe=0;Oe<H.locationSize;Oe++)C(H.location+Oe,ue.meshPerAttribute);W.isInstancedMesh!==!0&&fe._maxInstanceCount===void 0&&(fe._maxInstanceCount=ue.meshPerAttribute*ue.count)}else for(let Oe=0;Oe<H.locationSize;Oe++)T(H.location+Oe);n.bindBuffer(34962,_e);for(let Oe=0;Oe<H.locationSize;Oe++)R(H.location+Oe,q/H.locationSize,ke,me,q*ze,q/H.locationSize*Oe*ze)}}else if(U!==void 0){const me=U[te];if(me!==void 0)switch(me.length){case 2:n.vertexAttrib2fv(H.location,me);break;case 3:n.vertexAttrib3fv(H.location,me);break;case 4:n.vertexAttrib4fv(H.location,me);break;default:n.vertexAttrib1fv(H.location,me)}}}}P()}function L(){K();for(const W in a){const J=a[W];for(const ne in J){const fe=J[ne];for(const I in fe)y(fe[I].object),delete fe[I];delete J[ne]}delete a[W]}}function D(W){if(a[W.id]===void 0)return;const J=a[W.id];for(const ne in J){const fe=J[ne];for(const I in fe)y(fe[I].object),delete fe[I];delete J[ne]}delete a[W.id]}function V(W){for(const J in a){const ne=a[J];if(ne[W.id]===void 0)continue;const fe=ne[W.id];for(const I in fe)y(fe[I].object),delete fe[I];delete ne[W.id]}}function K(){Y(),h=!0,f!==u&&(f=u,g(f.object))}function Y(){u.geometry=null,u.program=null,u.wireframe=!1}return{setup:d,reset:K,resetDefaultState:Y,dispose:L,releaseStatesOfGeometry:D,releaseStatesOfProgram:V,initAttributes:S,enableAttribute:T,disableUnusedAttributes:P}}function Dz(n,e,t,i){const r=i.isWebGL2;let s;function o(f){s=f}function a(f,h){n.drawArrays(s,f,h),t.update(h,s,1)}function u(f,h,d){if(d===0)return;let p,g;if(r)p=n,g="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),g="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[g](s,f,h,d),t.update(h,s,d)}this.setMode=o,this.render=a,this.renderInstances=u}function kz(n,e,t){let i;function r(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const R=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(R.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(R){if(R==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";R="mediump"}return R==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext;let a=t.precision!==void 0?t.precision:"highp";const u=s(a);u!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",u,"instead."),a=u);const f=o||e.has("WEBGL_draw_buffers"),h=t.logarithmicDepthBuffer===!0,d=n.getParameter(34930),p=n.getParameter(35660),g=n.getParameter(3379),y=n.getParameter(34076),v=n.getParameter(34921),w=n.getParameter(36347),M=n.getParameter(36348),_=n.getParameter(36349),S=p>0,T=o||e.has("OES_texture_float"),C=S&&T,P=o?n.getParameter(36183):0;return{isWebGL2:o,drawBuffers:f,getMaxAnisotropy:r,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:h,maxTextures:d,maxVertexTextures:p,maxTextureSize:g,maxCubemapSize:y,maxAttributes:v,maxVertexUniforms:w,maxVaryings:M,maxFragmentUniforms:_,vertexTextures:S,floatFragmentTextures:T,floatVertexTextures:C,maxSamples:P}}function Nz(n){const e=this;let t=null,i=0,r=!1,s=!1;const o=new ro,a=new zn,u={value:null,needsUpdate:!1};this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(d,p){const g=d.length!==0||p||i!==0||r;return r=p,i=d.length,g},this.beginShadows=function(){s=!0,h(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(d,p){t=h(d,p,0)},this.setState=function(d,p,g){const y=d.clippingPlanes,v=d.clipIntersection,w=d.clipShadows,M=n.get(d);if(!r||y===null||y.length===0||s&&!w)s?h(null):f();else{const _=s?0:i,S=_*4;let T=M.clippingState||null;u.value=T,T=h(y,p,S,g);for(let C=0;C!==S;++C)T[C]=t[C];M.clippingState=T,this.numIntersection=v?this.numPlanes:0,this.numPlanes+=_}};function f(){u.value!==t&&(u.value=t,u.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function h(d,p,g,y){const v=d!==null?d.length:0;let w=null;if(v!==0){if(w=u.value,y!==!0||w===null){const M=g+v*4,_=p.matrixWorldInverse;a.getNormalMatrix(_),(w===null||w.length<M)&&(w=new Float32Array(M));for(let S=0,T=g;S!==v;++S,T+=4)o.copy(d[S]).applyMatrix4(_,a),o.normal.toArray(w,T),w[T+3]=o.constant}u.value=w,u.needsUpdate=!0}return e.numPlanes=v,e.numIntersection=0,w}}function zz(n){let e=new WeakMap;function t(o,a){return a===df?o.mapping=bo:a===pf&&(o.mapping=Co),o}function i(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===df||a===pf)if(e.has(o)){const u=e.get(o).texture;return t(u,o.mapping)}else{const u=o.image;if(u&&u.height>0){const f=new T_(u.height/2);return f.fromEquirectangularTexture(n,o),e.set(o,f),o.addEventListener("dispose",r),t(f.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const u=e.get(a);u!==void 0&&(e.delete(a),u.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}class Qf extends jf{constructor(e=-1,t=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+t,u=r-t;if(this.view!==null&&this.view.enabled){const f=(this.right-this.left)/this.view.fullWidth/this.zoom,h=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=f*this.view.offsetX,o=s+f*this.view.width,a-=h*this.view.offsetY,u=a-h*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,u,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const Xl=4,F2=[.125,.215,.35,.446,.526,.582],ha=20,My=new Qf,B2=new Ie;let Ey=null;const la=(1+Math.sqrt(5))/2,Ml=1/la,U2=[new z(1,1,1),new z(-1,1,1),new z(1,1,-1),new z(-1,1,-1),new z(0,la,Ml),new z(0,la,-Ml),new z(Ml,0,la),new z(-Ml,0,la),new z(la,Ml,0),new z(-la,Ml,0)];class k1{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){Ey=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=G2(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=H2(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Ey),e.scissorTest=!1,Gd(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===bo||e.mapping===Co?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Ey=this._renderer.getRenderTarget();const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:hn,minFilter:hn,generateMipmaps:!1,type:pu,format:xi,encoding:Ds,depthBuffer:!1},r=V2(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=V2(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Oz(s)),this._blurMaterial=Fz(s,e,t)}return r}_compileMaterial(e){const t=new On(this._lodPlanes[0],e);this._renderer.compile(t,My)}_sceneToCubeUV(e,t,i,r){const a=new Rn(90,1,t,i),u=[1,-1,1,1,1,1],f=[1,1,1,-1,-1,-1],h=this._renderer,d=h.autoClear,p=h.toneMapping;h.getClearColor(B2),h.toneMapping=br,h.autoClear=!1;const g=new Oo({name:"PMREM.Background",side:Ei,depthWrite:!1,depthTest:!1}),y=new On(new Fo,g);let v=!1;const w=e.background;w?w.isColor&&(g.color.copy(w),e.background=null,v=!0):(g.color.copy(B2),v=!0);for(let M=0;M<6;M++){const _=M%3;_===0?(a.up.set(0,u[M],0),a.lookAt(f[M],0,0)):_===1?(a.up.set(0,0,u[M]),a.lookAt(0,f[M],0)):(a.up.set(0,u[M],0),a.lookAt(0,0,f[M]));const S=this._cubeSize;Gd(r,_*S,M>2?S:0,S,S),h.setRenderTarget(r),v&&h.render(y,a),h.render(e,a)}y.geometry.dispose(),y.material.dispose(),h.toneMapping=p,h.autoClear=d,e.background=w}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===bo||e.mapping===Co;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=G2()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=H2());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new On(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const u=this._cubeSize;Gd(t,0,0,3*u,2*u),i.setRenderTarget(t),i.render(o,My)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),o=U2[(r-1)%U2.length];this._blur(e,r-1,r,s,o)}t.autoClear=i}_blur(e,t,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,o,a){const u=this._renderer,f=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const h=3,d=new On(this._lodPlanes[r],f),p=f.uniforms,g=this._sizeLods[i]-1,y=isFinite(s)?Math.PI/(2*g):2*Math.PI/(2*ha-1),v=s/y,w=isFinite(s)?1+Math.floor(h*v):ha;w>ha&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${w} samples when the maximum is set to ${ha}`);const M=[];let _=0;for(let R=0;R<ha;++R){const b=R/v,L=Math.exp(-b*b/2);M.push(L),R===0?_+=L:R<w&&(_+=2*L)}for(let R=0;R<M.length;R++)M[R]=M[R]/_;p.envMap.value=e.texture,p.samples.value=w,p.weights.value=M,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:S}=this;p.dTheta.value=y,p.mipInt.value=S-i;const T=this._sizeLods[r],C=3*T*(r>S-Xl?r-S+Xl:0),P=4*(this._cubeSize-T);Gd(t,C,P,3*T,2*T),u.setRenderTarget(t),u.render(d,My)}}function Oz(n){const e=[],t=[],i=[];let r=n;const s=n-Xl+1+F2.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);t.push(a);let u=1/a;o>n-Xl?u=F2[o-n+Xl-1]:o===0&&(u=0),i.push(u);const f=1/(a-2),h=-f,d=1+f,p=[h,h,d,h,d,d,h,h,d,d,h,d],g=6,y=6,v=3,w=2,M=1,_=new Float32Array(v*y*g),S=new Float32Array(w*y*g),T=new Float32Array(M*y*g);for(let P=0;P<g;P++){const R=P%3*2/3-1,b=P>2?0:-1,L=[R,b,0,R+2/3,b,0,R+2/3,b+1,0,R,b,0,R+2/3,b+1,0,R,b+1,0];_.set(L,v*y*P),S.set(p,w*y*P);const D=[P,P,P,P,P,P];T.set(D,M*y*P)}const C=new ut;C.setAttribute("position",new Nt(_,v)),C.setAttribute("uv",new Nt(S,w)),C.setAttribute("faceIndex",new Nt(T,M)),e.push(C),r>Xl&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function V2(n,e,t){const i=new Pr(n,e,t);return i.texture.mapping=Mu,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Gd(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function Fz(n,e,t){const i=new Float32Array(ha),r=new z(0,1,0);return new Jr({name:"SphericalGaussianBlur",defines:{n:ha,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:A_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Es,depthTest:!1,depthWrite:!1})}function H2(){return new Jr({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:A_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Es,depthTest:!1,depthWrite:!1})}function G2(){return new Jr({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:A_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Es,depthTest:!1,depthWrite:!1})}function A_(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Bz(n){let e=new WeakMap,t=null;function i(a){if(a&&a.isTexture){const u=a.mapping,f=u===df||u===pf,h=u===bo||u===Co;if(f||h)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let d=e.get(a);return t===null&&(t=new k1(n)),d=f?t.fromEquirectangular(a,d):t.fromCubemap(a,d),e.set(a,d),d.texture}else{if(e.has(a))return e.get(a).texture;{const d=a.image;if(f&&d&&d.height>0||h&&d&&r(d)){t===null&&(t=new k1(n));const p=f?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",s),p.texture}else return null}}}return a}function r(a){let u=0;const f=6;for(let h=0;h<f;h++)a[h]!==void 0&&u++;return u===f}function s(a){const u=a.target;u.removeEventListener("dispose",s);const f=e.get(u);f!==void 0&&(e.delete(u),f.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:o}}function Uz(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(i){i.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(i){const r=t(i);return r===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function Vz(n,e,t,i){const r={},s=new WeakMap;function o(d){const p=d.target;p.index!==null&&e.remove(p.index);for(const y in p.attributes)e.remove(p.attributes[y]);p.removeEventListener("dispose",o),delete r[p.id];const g=s.get(p);g&&(e.remove(g),s.delete(p)),i.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function a(d,p){return r[p.id]===!0||(p.addEventListener("dispose",o),r[p.id]=!0,t.memory.geometries++),p}function u(d){const p=d.attributes;for(const y in p)e.update(p[y],34962);const g=d.morphAttributes;for(const y in g){const v=g[y];for(let w=0,M=v.length;w<M;w++)e.update(v[w],34962)}}function f(d){const p=[],g=d.index,y=d.attributes.position;let v=0;if(g!==null){const _=g.array;v=g.version;for(let S=0,T=_.length;S<T;S+=3){const C=_[S+0],P=_[S+1],R=_[S+2];p.push(C,P,P,R,R,C)}}else{const _=y.array;v=y.version;for(let S=0,T=_.length/3-1;S<T;S+=3){const C=S+0,P=S+1,R=S+2;p.push(C,P,P,R,R,C)}}const w=new(FC(p)?M_:S_)(p,1);w.version=v;const M=s.get(d);M&&e.remove(M),s.set(d,w)}function h(d){const p=s.get(d);if(p){const g=d.index;g!==null&&p.version<g.version&&f(d)}else f(d);return s.get(d)}return{get:a,update:u,getWireframeAttribute:h}}function Hz(n,e,t,i){const r=i.isWebGL2;let s;function o(p){s=p}let a,u;function f(p){a=p.type,u=p.bytesPerElement}function h(p,g){n.drawElements(s,g,a,p*u),t.update(g,s,1)}function d(p,g,y){if(y===0)return;let v,w;if(r)v=n,w="drawElementsInstanced";else if(v=e.get("ANGLE_instanced_arrays"),w="drawElementsInstancedANGLE",v===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}v[w](s,g,a,p*u,y),t.update(g,s,y)}this.setMode=o,this.setIndex=f,this.render=h,this.renderInstances=d}function Gz(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,a){switch(t.calls++,o){case 4:t.triangles+=a*(s/3);break;case 1:t.lines+=a*(s/2);break;case 3:t.lines+=a*(s-1);break;case 2:t.lines+=a*s;break;case 0:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function Wz(n,e){return n[0]-e[0]}function jz(n,e){return Math.abs(e[1])-Math.abs(n[1])}function Xz(n,e,t){const i={},r=new Float32Array(8),s=new WeakMap,o=new Pt,a=[];for(let f=0;f<8;f++)a[f]=[f,0];function u(f,h,d){const p=f.morphTargetInfluences;if(e.isWebGL2===!0){const g=h.morphAttributes.position||h.morphAttributes.normal||h.morphAttributes.color,y=g!==void 0?g.length:0;let v=s.get(h);if(v===void 0||v.count!==y){let W=function(){K.dispose(),s.delete(h),h.removeEventListener("dispose",W)};v!==void 0&&v.texture.dispose();const _=h.morphAttributes.position!==void 0,S=h.morphAttributes.normal!==void 0,T=h.morphAttributes.color!==void 0,C=h.morphAttributes.position||[],P=h.morphAttributes.normal||[],R=h.morphAttributes.color||[];let b=0;_===!0&&(b=1),S===!0&&(b=2),T===!0&&(b=3);let L=h.attributes.position.count*b,D=1;L>e.maxTextureSize&&(D=Math.ceil(L/e.maxTextureSize),L=e.maxTextureSize);const V=new Float32Array(L*D*4*y),K=new Km(V,L,D,y);K.type=_s,K.needsUpdate=!0;const Y=b*4;for(let J=0;J<y;J++){const ne=C[J],fe=P[J],I=R[J],B=L*D*4*J;for(let U=0;U<ne.count;U++){const te=U*Y;_===!0&&(o.fromBufferAttribute(ne,U),V[B+te+0]=o.x,V[B+te+1]=o.y,V[B+te+2]=o.z,V[B+te+3]=0),S===!0&&(o.fromBufferAttribute(fe,U),V[B+te+4]=o.x,V[B+te+5]=o.y,V[B+te+6]=o.z,V[B+te+7]=0),T===!0&&(o.fromBufferAttribute(I,U),V[B+te+8]=o.x,V[B+te+9]=o.y,V[B+te+10]=o.z,V[B+te+11]=I.itemSize===4?o.w:1)}}v={count:y,texture:K,size:new ge(L,D)},s.set(h,v),h.addEventListener("dispose",W)}let w=0;for(let _=0;_<p.length;_++)w+=p[_];const M=h.morphTargetsRelative?1:1-w;d.getUniforms().setValue(n,"morphTargetBaseInfluence",M),d.getUniforms().setValue(n,"morphTargetInfluences",p),d.getUniforms().setValue(n,"morphTargetsTexture",v.texture,t),d.getUniforms().setValue(n,"morphTargetsTextureSize",v.size)}else{const g=p===void 0?0:p.length;let y=i[h.id];if(y===void 0||y.length!==g){y=[];for(let S=0;S<g;S++)y[S]=[S,0];i[h.id]=y}for(let S=0;S<g;S++){const T=y[S];T[0]=S,T[1]=p[S]}y.sort(jz);for(let S=0;S<8;S++)S<g&&y[S][1]?(a[S][0]=y[S][0],a[S][1]=y[S][1]):(a[S][0]=Number.MAX_SAFE_INTEGER,a[S][1]=0);a.sort(Wz);const v=h.morphAttributes.position,w=h.morphAttributes.normal;let M=0;for(let S=0;S<8;S++){const T=a[S],C=T[0],P=T[1];C!==Number.MAX_SAFE_INTEGER&&P?(v&&h.getAttribute("morphTarget"+S)!==v[C]&&h.setAttribute("morphTarget"+S,v[C]),w&&h.getAttribute("morphNormal"+S)!==w[C]&&h.setAttribute("morphNormal"+S,w[C]),r[S]=P,M+=P):(v&&h.hasAttribute("morphTarget"+S)===!0&&h.deleteAttribute("morphTarget"+S),w&&h.hasAttribute("morphNormal"+S)===!0&&h.deleteAttribute("morphNormal"+S),r[S]=0)}const _=h.morphTargetsRelative?1:1-M;d.getUniforms().setValue(n,"morphTargetBaseInfluence",_),d.getUniforms().setValue(n,"morphTargetInfluences",r)}}return{update:u}}function Qz(n,e,t,i){let r=new WeakMap;function s(u){const f=i.render.frame,h=u.geometry,d=e.get(u,h);return r.get(d)!==f&&(e.update(d),r.set(d,f)),u.isInstancedMesh&&(u.hasEventListener("dispose",a)===!1&&u.addEventListener("dispose",a),t.update(u.instanceMatrix,34962),u.instanceColor!==null&&t.update(u.instanceColor,34962)),d}function o(){r=new WeakMap}function a(u){const f=u.target;f.removeEventListener("dispose",a),t.remove(f.instanceMatrix),f.instanceColor!==null&&t.remove(f.instanceColor)}return{update:s,dispose:o}}const GC=new on,WC=new Km,jC=new w_,XC=new Xf,W2=[],j2=[],X2=new Float32Array(16),Q2=new Float32Array(9),Y2=new Float32Array(4);function Tu(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=W2[r];if(s===void 0&&(s=new Float32Array(r),W2[r]=s),e!==0){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function En(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function Tn(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function eg(n,e){let t=j2[e];t===void 0&&(t=new Int32Array(e),j2[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function Yz(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function qz(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(En(t,e))return;n.uniform2fv(this.addr,e),Tn(t,e)}}function Jz(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(En(t,e))return;n.uniform3fv(this.addr,e),Tn(t,e)}}function Zz(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(En(t,e))return;n.uniform4fv(this.addr,e),Tn(t,e)}}function Kz(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(En(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Tn(t,e)}else{if(En(t,i))return;Y2.set(i),n.uniformMatrix2fv(this.addr,!1,Y2),Tn(t,i)}}function $z(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(En(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Tn(t,e)}else{if(En(t,i))return;Q2.set(i),n.uniformMatrix3fv(this.addr,!1,Q2),Tn(t,i)}}function e8(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(En(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Tn(t,e)}else{if(En(t,i))return;X2.set(i),n.uniformMatrix4fv(this.addr,!1,X2),Tn(t,i)}}function t8(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function n8(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(En(t,e))return;n.uniform2iv(this.addr,e),Tn(t,e)}}function i8(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(En(t,e))return;n.uniform3iv(this.addr,e),Tn(t,e)}}function r8(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(En(t,e))return;n.uniform4iv(this.addr,e),Tn(t,e)}}function s8(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function o8(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(En(t,e))return;n.uniform2uiv(this.addr,e),Tn(t,e)}}function a8(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(En(t,e))return;n.uniform3uiv(this.addr,e),Tn(t,e)}}function l8(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(En(t,e))return;n.uniform4uiv(this.addr,e),Tn(t,e)}}function u8(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2D(e||GC,r)}function c8(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||jC,r)}function f8(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||XC,r)}function h8(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||WC,r)}function d8(n){switch(n){case 5126:return Yz;case 35664:return qz;case 35665:return Jz;case 35666:return Zz;case 35674:return Kz;case 35675:return $z;case 35676:return e8;case 5124:case 35670:return t8;case 35667:case 35671:return n8;case 35668:case 35672:return i8;case 35669:case 35673:return r8;case 5125:return s8;case 36294:return o8;case 36295:return a8;case 36296:return l8;case 35678:case 36198:case 36298:case 36306:case 35682:return u8;case 35679:case 36299:case 36307:return c8;case 35680:case 36300:case 36308:case 36293:return f8;case 36289:case 36303:case 36311:case 36292:return h8}}function p8(n,e){n.uniform1fv(this.addr,e)}function m8(n,e){const t=Tu(e,this.size,2);n.uniform2fv(this.addr,t)}function g8(n,e){const t=Tu(e,this.size,3);n.uniform3fv(this.addr,t)}function y8(n,e){const t=Tu(e,this.size,4);n.uniform4fv(this.addr,t)}function v8(n,e){const t=Tu(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function x8(n,e){const t=Tu(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function _8(n,e){const t=Tu(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function w8(n,e){n.uniform1iv(this.addr,e)}function S8(n,e){n.uniform2iv(this.addr,e)}function M8(n,e){n.uniform3iv(this.addr,e)}function E8(n,e){n.uniform4iv(this.addr,e)}function T8(n,e){n.uniform1uiv(this.addr,e)}function A8(n,e){n.uniform2uiv(this.addr,e)}function b8(n,e){n.uniform3uiv(this.addr,e)}function C8(n,e){n.uniform4uiv(this.addr,e)}function P8(n,e,t){const i=this.cache,r=e.length,s=eg(t,r);En(i,s)||(n.uniform1iv(this.addr,s),Tn(i,s));for(let o=0;o!==r;++o)t.setTexture2D(e[o]||GC,s[o])}function L8(n,e,t){const i=this.cache,r=e.length,s=eg(t,r);En(i,s)||(n.uniform1iv(this.addr,s),Tn(i,s));for(let o=0;o!==r;++o)t.setTexture3D(e[o]||jC,s[o])}function R8(n,e,t){const i=this.cache,r=e.length,s=eg(t,r);En(i,s)||(n.uniform1iv(this.addr,s),Tn(i,s));for(let o=0;o!==r;++o)t.setTextureCube(e[o]||XC,s[o])}function I8(n,e,t){const i=this.cache,r=e.length,s=eg(t,r);En(i,s)||(n.uniform1iv(this.addr,s),Tn(i,s));for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||WC,s[o])}function D8(n){switch(n){case 5126:return p8;case 35664:return m8;case 35665:return g8;case 35666:return y8;case 35674:return v8;case 35675:return x8;case 35676:return _8;case 5124:case 35670:return w8;case 35667:case 35671:return S8;case 35668:case 35672:return M8;case 35669:case 35673:return E8;case 5125:return T8;case 36294:return A8;case 36295:return b8;case 36296:return C8;case 35678:case 36198:case 36298:case 36306:case 35682:return P8;case 35679:case 36299:case 36307:return L8;case 35680:case 36300:case 36308:case 36293:return R8;case 36289:case 36303:case 36311:case 36292:return I8}}class k8{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.setValue=d8(t.type)}}class N8{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.size=t.size,this.setValue=D8(t.type)}}class z8{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,t[a.id],i)}}}const Ty=/(\w+)(\])?(\[|\.)?/g;function q2(n,e){n.seq.push(e),n.map[e.id]=e}function O8(n,e,t){const i=n.name,r=i.length;for(Ty.lastIndex=0;;){const s=Ty.exec(i),o=Ty.lastIndex;let a=s[1];const u=s[2]==="]",f=s[3];if(u&&(a=a|0),f===void 0||f==="["&&o+2===r){q2(t,f===void 0?new k8(a,n,e):new N8(a,n,e));break}else{let d=t.map[a];d===void 0&&(d=new z8(a),q2(t,d)),t=d}}}class Fp{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,35718);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r),o=e.getUniformLocation(t,s.name);O8(s,o,this)}}setValue(e,t,i,r){const s=this.map[t];s!==void 0&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,o=t.length;s!==o;++s){const a=t[s],u=i[a.id];u.needsUpdate!==!1&&a.setValue(e,u.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in t&&i.push(o)}return i}}function J2(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}let F8=0;function B8(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=r;o<s;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return i.join(`
`)}function U8(n){switch(n){case Ds:return["Linear","( value )"];case It:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function Z2(n,e,t){const i=n.getShaderParameter(e,35713),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+B8(n.getShaderSource(e),o)}else return r}function V8(n,e){const t=U8(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function H8(n,e){let t;switch(e){case cC:t="Linear";break;case fC:t="Reinhard";break;case hC:t="OptimizedCineon";break;case p_:t="ACESFilmic";break;case dC:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function G8(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Tc).join(`
`)}function W8(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function j8(n,e){const t={},i=n.getProgramParameter(e,35721);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function Tc(n){return n!==""}function K2(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function $2(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const X8=/^[ \t]*#include +<([\w\d./]+)>/gm;function N1(n){return n.replace(X8,Q8)}function Q8(n,e){const t=lt[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return N1(t)}const Y8=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function e3(n){return n.replace(Y8,q8)}function q8(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function t3(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function J8(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===qm?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===zc?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===ya&&(e="SHADOWMAP_TYPE_VSM"),e}function Z8(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case bo:case Co:e="ENVMAP_TYPE_CUBE";break;case Mu:e="ENVMAP_TYPE_CUBE_UV";break}return e}function K8(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Co:e="ENVMAP_MODE_REFRACTION";break}return e}function $8(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Hf:e="ENVMAP_BLENDING_MULTIPLY";break;case lC:e="ENVMAP_BLENDING_MIX";break;case uC:e="ENVMAP_BLENDING_ADD";break}return e}function eO(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function tO(n,e,t,i){const r=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const u=J8(t),f=Z8(t),h=K8(t),d=$8(t),p=eO(t),g=t.isWebGL2?"":G8(t),y=W8(s),v=r.createProgram();let w,M,_=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(w=[y].filter(Tc).join(`
`),w.length>0&&(w+=`
`),M=[g,y].filter(Tc).join(`
`),M.length>0&&(M+=`
`)):(w=[t3(t),"#define SHADER_NAME "+t.shaderName,y,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+h:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+u:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Tc).join(`
`),M=[g,t3(t),"#define SHADER_NAME "+t.shaderName,y,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+f:"",t.envMap?"#define "+h:"",t.envMap?"#define "+d:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+u:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==br?"#define TONE_MAPPING":"",t.toneMapping!==br?lt.tonemapping_pars_fragment:"",t.toneMapping!==br?H8("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",lt.encodings_pars_fragment,V8("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Tc).join(`
`)),o=N1(o),o=K2(o,t),o=$2(o,t),a=N1(a),a=K2(a,t),a=$2(a,t),o=e3(o),a=e3(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(_=`#version 300 es
`,w=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+w,M=["#define varying in",t.glslVersion===I1?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===I1?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+M);const S=_+w+o,T=_+M+a,C=J2(r,35633,S),P=J2(r,35632,T);if(r.attachShader(v,C),r.attachShader(v,P),t.index0AttributeName!==void 0?r.bindAttribLocation(v,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(v,0,"position"),r.linkProgram(v),n.debug.checkShaderErrors){const L=r.getProgramInfoLog(v).trim(),D=r.getShaderInfoLog(C).trim(),V=r.getShaderInfoLog(P).trim();let K=!0,Y=!0;if(r.getProgramParameter(v,35714)===!1){K=!1;const W=Z2(r,C,"vertex"),J=Z2(r,P,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(v,35715)+`

Program Info Log: `+L+`
`+W+`
`+J)}else L!==""?console.warn("THREE.WebGLProgram: Program Info Log:",L):(D===""||V==="")&&(Y=!1);Y&&(this.diagnostics={runnable:K,programLog:L,vertexShader:{log:D,prefix:w},fragmentShader:{log:V,prefix:M}})}r.deleteShader(C),r.deleteShader(P);let R;this.getUniforms=function(){return R===void 0&&(R=new Fp(r,v)),R};let b;return this.getAttributes=function(){return b===void 0&&(b=j8(r,v)),b},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(v),this.program=void 0},this.name=t.shaderName,this.id=F8++,this.cacheKey=e,this.usedTimes=1,this.program=v,this.vertexShader=C,this.fragmentShader=P,this}let nO=0;class iO{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new rO(e),t.set(e,i)),i}}class rO{constructor(e){this.id=nO++,this.code=e,this.usedTimes=0}}function sO(n,e,t,i,r,s,o){const a=new Pa,u=new iO,f=[],h=r.isWebGL2,d=r.logarithmicDepthBuffer,p=r.vertexTextures;let g=r.precision;const y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function v(b,L,D,V,K){const Y=V.fog,W=K.geometry,J=b.isMeshStandardMaterial?V.environment:null,ne=(b.isMeshStandardMaterial?t:e).get(b.envMap||J),fe=ne&&ne.mapping===Mu?ne.image.height:null,I=y[b.type];b.precision!==null&&(g=r.getMaxPrecision(b.precision),g!==b.precision&&console.warn("THREE.WebGLProgram.getParameters:",b.precision,"not supported, using",g,"instead."));const B=W.morphAttributes.position||W.morphAttributes.normal||W.morphAttributes.color,U=B!==void 0?B.length:0;let te=0;W.morphAttributes.position!==void 0&&(te=1),W.morphAttributes.normal!==void 0&&(te=2),W.morphAttributes.color!==void 0&&(te=3);let H,ue,me,q;if(I){const Ve=Er[I];H=Ve.vertexShader,ue=Ve.fragmentShader}else H=b.vertexShader,ue=b.fragmentShader,u.update(b),me=u.getVertexShaderID(b),q=u.getFragmentShaderID(b);const xe=n.getRenderTarget(),_e=b.alphaTest>0,ke=b.clearcoat>0,ze=b.iridescence>0;return{isWebGL2:h,shaderID:I,shaderName:b.type,vertexShader:H,fragmentShader:ue,defines:b.defines,customVertexShaderID:me,customFragmentShaderID:q,isRawShaderMaterial:b.isRawShaderMaterial===!0,glslVersion:b.glslVersion,precision:g,instancing:K.isInstancedMesh===!0,instancingColor:K.isInstancedMesh===!0&&K.instanceColor!==null,supportsVertexTextures:p,outputEncoding:xe===null?n.outputEncoding:xe.isXRRenderTarget===!0?xe.texture.encoding:Ds,map:!!b.map,matcap:!!b.matcap,envMap:!!ne,envMapMode:ne&&ne.mapping,envMapCubeUVHeight:fe,lightMap:!!b.lightMap,aoMap:!!b.aoMap,emissiveMap:!!b.emissiveMap,bumpMap:!!b.bumpMap,normalMap:!!b.normalMap,objectSpaceNormalMap:b.normalMapType===kC,tangentSpaceNormalMap:b.normalMapType===zo,decodeVideoTexture:!!b.map&&b.map.isVideoTexture===!0&&b.map.encoding===It,clearcoat:ke,clearcoatMap:ke&&!!b.clearcoatMap,clearcoatRoughnessMap:ke&&!!b.clearcoatRoughnessMap,clearcoatNormalMap:ke&&!!b.clearcoatNormalMap,iridescence:ze,iridescenceMap:ze&&!!b.iridescenceMap,iridescenceThicknessMap:ze&&!!b.iridescenceThicknessMap,displacementMap:!!b.displacementMap,roughnessMap:!!b.roughnessMap,metalnessMap:!!b.metalnessMap,specularMap:!!b.specularMap,specularIntensityMap:!!b.specularIntensityMap,specularColorMap:!!b.specularColorMap,opaque:b.transparent===!1&&b.blending===Ta,alphaMap:!!b.alphaMap,alphaTest:_e,gradientMap:!!b.gradientMap,sheen:b.sheen>0,sheenColorMap:!!b.sheenColorMap,sheenRoughnessMap:!!b.sheenRoughnessMap,transmission:b.transmission>0,transmissionMap:!!b.transmissionMap,thicknessMap:!!b.thicknessMap,combine:b.combine,vertexTangents:!!b.normalMap&&!!W.attributes.tangent,vertexColors:b.vertexColors,vertexAlphas:b.vertexColors===!0&&!!W.attributes.color&&W.attributes.color.itemSize===4,vertexUvs:!!b.map||!!b.bumpMap||!!b.normalMap||!!b.specularMap||!!b.alphaMap||!!b.emissiveMap||!!b.roughnessMap||!!b.metalnessMap||!!b.clearcoatMap||!!b.clearcoatRoughnessMap||!!b.clearcoatNormalMap||!!b.iridescenceMap||!!b.iridescenceThicknessMap||!!b.displacementMap||!!b.transmissionMap||!!b.thicknessMap||!!b.specularIntensityMap||!!b.specularColorMap||!!b.sheenColorMap||!!b.sheenRoughnessMap,uvsVertexOnly:!(b.map||b.bumpMap||b.normalMap||b.specularMap||b.alphaMap||b.emissiveMap||b.roughnessMap||b.metalnessMap||b.clearcoatNormalMap||b.iridescenceMap||b.iridescenceThicknessMap||b.transmission>0||b.transmissionMap||b.thicknessMap||b.specularIntensityMap||b.specularColorMap||b.sheen>0||b.sheenColorMap||b.sheenRoughnessMap)&&!!b.displacementMap,fog:!!Y,useFog:b.fog===!0,fogExp2:Y&&Y.isFogExp2,flatShading:!!b.flatShading,sizeAttenuation:b.sizeAttenuation,logarithmicDepthBuffer:d,skinning:K.isSkinnedMesh===!0,morphTargets:W.morphAttributes.position!==void 0,morphNormals:W.morphAttributes.normal!==void 0,morphColors:W.morphAttributes.color!==void 0,morphTargetsCount:U,morphTextureStride:te,numDirLights:L.directional.length,numPointLights:L.point.length,numSpotLights:L.spot.length,numSpotLightMaps:L.spotLightMap.length,numRectAreaLights:L.rectArea.length,numHemiLights:L.hemi.length,numDirLightShadows:L.directionalShadowMap.length,numPointLightShadows:L.pointShadowMap.length,numSpotLightShadows:L.spotShadowMap.length,numSpotLightShadowsWithMaps:L.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:b.dithering,shadowMapEnabled:n.shadowMap.enabled&&D.length>0,shadowMapType:n.shadowMap.type,toneMapping:b.toneMapped?n.toneMapping:br,useLegacyLights:n.useLegacyLights,premultipliedAlpha:b.premultipliedAlpha,doubleSided:b.side===xs,flipSided:b.side===Ei,useDepthPacking:!!b.depthPacking,depthPacking:b.depthPacking||0,index0AttributeName:b.index0AttributeName,extensionDerivatives:b.extensions&&b.extensions.derivatives,extensionFragDepth:b.extensions&&b.extensions.fragDepth,extensionDrawBuffers:b.extensions&&b.extensions.drawBuffers,extensionShaderTextureLOD:b.extensions&&b.extensions.shaderTextureLOD,rendererExtensionFragDepth:h||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:h||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:h||i.has("EXT_shader_texture_lod"),customProgramCacheKey:b.customProgramCacheKey()}}function w(b){const L=[];if(b.shaderID?L.push(b.shaderID):(L.push(b.customVertexShaderID),L.push(b.customFragmentShaderID)),b.defines!==void 0)for(const D in b.defines)L.push(D),L.push(b.defines[D]);return b.isRawShaderMaterial===!1&&(M(L,b),_(L,b),L.push(n.outputEncoding)),L.push(b.customProgramCacheKey),L.join()}function M(b,L){b.push(L.precision),b.push(L.outputEncoding),b.push(L.envMapMode),b.push(L.envMapCubeUVHeight),b.push(L.combine),b.push(L.vertexUvs),b.push(L.fogExp2),b.push(L.sizeAttenuation),b.push(L.morphTargetsCount),b.push(L.morphAttributeCount),b.push(L.numDirLights),b.push(L.numPointLights),b.push(L.numSpotLights),b.push(L.numSpotLightMaps),b.push(L.numHemiLights),b.push(L.numRectAreaLights),b.push(L.numDirLightShadows),b.push(L.numPointLightShadows),b.push(L.numSpotLightShadows),b.push(L.numSpotLightShadowsWithMaps),b.push(L.shadowMapType),b.push(L.toneMapping),b.push(L.numClippingPlanes),b.push(L.numClipIntersection),b.push(L.depthPacking)}function _(b,L){a.disableAll(),L.isWebGL2&&a.enable(0),L.supportsVertexTextures&&a.enable(1),L.instancing&&a.enable(2),L.instancingColor&&a.enable(3),L.map&&a.enable(4),L.matcap&&a.enable(5),L.envMap&&a.enable(6),L.lightMap&&a.enable(7),L.aoMap&&a.enable(8),L.emissiveMap&&a.enable(9),L.bumpMap&&a.enable(10),L.normalMap&&a.enable(11),L.objectSpaceNormalMap&&a.enable(12),L.tangentSpaceNormalMap&&a.enable(13),L.clearcoat&&a.enable(14),L.clearcoatMap&&a.enable(15),L.clearcoatRoughnessMap&&a.enable(16),L.clearcoatNormalMap&&a.enable(17),L.iridescence&&a.enable(18),L.iridescenceMap&&a.enable(19),L.iridescenceThicknessMap&&a.enable(20),L.displacementMap&&a.enable(21),L.specularMap&&a.enable(22),L.roughnessMap&&a.enable(23),L.metalnessMap&&a.enable(24),L.gradientMap&&a.enable(25),L.alphaMap&&a.enable(26),L.alphaTest&&a.enable(27),L.vertexColors&&a.enable(28),L.vertexAlphas&&a.enable(29),L.vertexUvs&&a.enable(30),L.vertexTangents&&a.enable(31),L.uvsVertexOnly&&a.enable(32),b.push(a.mask),a.disableAll(),L.fog&&a.enable(0),L.useFog&&a.enable(1),L.flatShading&&a.enable(2),L.logarithmicDepthBuffer&&a.enable(3),L.skinning&&a.enable(4),L.morphTargets&&a.enable(5),L.morphNormals&&a.enable(6),L.morphColors&&a.enable(7),L.premultipliedAlpha&&a.enable(8),L.shadowMapEnabled&&a.enable(9),L.useLegacyLights&&a.enable(10),L.doubleSided&&a.enable(11),L.flipSided&&a.enable(12),L.useDepthPacking&&a.enable(13),L.dithering&&a.enable(14),L.specularIntensityMap&&a.enable(15),L.specularColorMap&&a.enable(16),L.transmission&&a.enable(17),L.transmissionMap&&a.enable(18),L.thicknessMap&&a.enable(19),L.sheen&&a.enable(20),L.sheenColorMap&&a.enable(21),L.sheenRoughnessMap&&a.enable(22),L.decodeVideoTexture&&a.enable(23),L.opaque&&a.enable(24),b.push(a.mask)}function S(b){const L=y[b.type];let D;if(L){const V=Er[L];D=VC.clone(V.uniforms)}else D=b.uniforms;return D}function T(b,L){let D;for(let V=0,K=f.length;V<K;V++){const Y=f[V];if(Y.cacheKey===L){D=Y,++D.usedTimes;break}}return D===void 0&&(D=new tO(n,L,b,s),f.push(D)),D}function C(b){if(--b.usedTimes===0){const L=f.indexOf(b);f[L]=f[f.length-1],f.pop(),b.destroy()}}function P(b){u.remove(b)}function R(){u.dispose()}return{getParameters:v,getProgramCacheKey:w,getUniforms:S,acquireProgram:T,releaseProgram:C,releaseShaderCache:P,programs:f,dispose:R}}function oO(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function i(s,o,a){n.get(s)[o]=a}function r(){n=new WeakMap}return{get:e,remove:t,update:i,dispose:r}}function aO(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function n3(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function i3(){const n=[];let e=0;const t=[],i=[],r=[];function s(){e=0,t.length=0,i.length=0,r.length=0}function o(d,p,g,y,v,w){let M=n[e];return M===void 0?(M={id:d.id,object:d,geometry:p,material:g,groupOrder:y,renderOrder:d.renderOrder,z:v,group:w},n[e]=M):(M.id=d.id,M.object=d,M.geometry=p,M.material=g,M.groupOrder=y,M.renderOrder=d.renderOrder,M.z=v,M.group=w),e++,M}function a(d,p,g,y,v,w){const M=o(d,p,g,y,v,w);g.transmission>0?i.push(M):g.transparent===!0?r.push(M):t.push(M)}function u(d,p,g,y,v,w){const M=o(d,p,g,y,v,w);g.transmission>0?i.unshift(M):g.transparent===!0?r.unshift(M):t.unshift(M)}function f(d,p){t.length>1&&t.sort(d||aO),i.length>1&&i.sort(p||n3),r.length>1&&r.sort(p||n3)}function h(){for(let d=e,p=n.length;d<p;d++){const g=n[d];if(g.id===null)break;g.id=null,g.object=null,g.geometry=null,g.material=null,g.group=null}}return{opaque:t,transmissive:i,transparent:r,init:s,push:a,unshift:u,finish:h,sort:f}}function lO(){let n=new WeakMap;function e(i,r){const s=n.get(i);let o;return s===void 0?(o=new i3,n.set(i,[o])):r>=s.length?(o=new i3,s.push(o)):o=s[r],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function uO(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new z,color:new Ie};break;case"SpotLight":t={position:new z,direction:new z,color:new Ie,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new z,color:new Ie,distance:0,decay:0};break;case"HemisphereLight":t={direction:new z,skyColor:new Ie,groundColor:new Ie};break;case"RectAreaLight":t={color:new Ie,position:new z,halfWidth:new z,halfHeight:new z};break}return n[e.id]=t,t}}}function cO(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ge};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ge};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ge,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let fO=0;function hO(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function dO(n,e){const t=new uO,i=cO(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let h=0;h<9;h++)r.probe.push(new z);const s=new z,o=new st,a=new st;function u(h,d){let p=0,g=0,y=0;for(let V=0;V<9;V++)r.probe[V].set(0,0,0);let v=0,w=0,M=0,_=0,S=0,T=0,C=0,P=0,R=0,b=0;h.sort(hO);const L=d===!0?Math.PI:1;for(let V=0,K=h.length;V<K;V++){const Y=h[V],W=Y.color,J=Y.intensity,ne=Y.distance,fe=Y.shadow&&Y.shadow.map?Y.shadow.map.texture:null;if(Y.isAmbientLight)p+=W.r*J*L,g+=W.g*J*L,y+=W.b*J*L;else if(Y.isLightProbe)for(let I=0;I<9;I++)r.probe[I].addScaledVector(Y.sh.coefficients[I],J);else if(Y.isDirectionalLight){const I=t.get(Y);if(I.color.copy(Y.color).multiplyScalar(Y.intensity*L),Y.castShadow){const B=Y.shadow,U=i.get(Y);U.shadowBias=B.bias,U.shadowNormalBias=B.normalBias,U.shadowRadius=B.radius,U.shadowMapSize=B.mapSize,r.directionalShadow[v]=U,r.directionalShadowMap[v]=fe,r.directionalShadowMatrix[v]=Y.shadow.matrix,T++}r.directional[v]=I,v++}else if(Y.isSpotLight){const I=t.get(Y);I.position.setFromMatrixPosition(Y.matrixWorld),I.color.copy(W).multiplyScalar(J*L),I.distance=ne,I.coneCos=Math.cos(Y.angle),I.penumbraCos=Math.cos(Y.angle*(1-Y.penumbra)),I.decay=Y.decay,r.spot[M]=I;const B=Y.shadow;if(Y.map&&(r.spotLightMap[R]=Y.map,R++,B.updateMatrices(Y),Y.castShadow&&b++),r.spotLightMatrix[M]=B.matrix,Y.castShadow){const U=i.get(Y);U.shadowBias=B.bias,U.shadowNormalBias=B.normalBias,U.shadowRadius=B.radius,U.shadowMapSize=B.mapSize,r.spotShadow[M]=U,r.spotShadowMap[M]=fe,P++}M++}else if(Y.isRectAreaLight){const I=t.get(Y);I.color.copy(W).multiplyScalar(J),I.halfWidth.set(Y.width*.5,0,0),I.halfHeight.set(0,Y.height*.5,0),r.rectArea[_]=I,_++}else if(Y.isPointLight){const I=t.get(Y);if(I.color.copy(Y.color).multiplyScalar(Y.intensity*L),I.distance=Y.distance,I.decay=Y.decay,Y.castShadow){const B=Y.shadow,U=i.get(Y);U.shadowBias=B.bias,U.shadowNormalBias=B.normalBias,U.shadowRadius=B.radius,U.shadowMapSize=B.mapSize,U.shadowCameraNear=B.camera.near,U.shadowCameraFar=B.camera.far,r.pointShadow[w]=U,r.pointShadowMap[w]=fe,r.pointShadowMatrix[w]=Y.shadow.matrix,C++}r.point[w]=I,w++}else if(Y.isHemisphereLight){const I=t.get(Y);I.skyColor.copy(Y.color).multiplyScalar(J*L),I.groundColor.copy(Y.groundColor).multiplyScalar(J*L),r.hemi[S]=I,S++}}_>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Te.LTC_FLOAT_1,r.rectAreaLTC2=Te.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=Te.LTC_HALF_1,r.rectAreaLTC2=Te.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=p,r.ambient[1]=g,r.ambient[2]=y;const D=r.hash;(D.directionalLength!==v||D.pointLength!==w||D.spotLength!==M||D.rectAreaLength!==_||D.hemiLength!==S||D.numDirectionalShadows!==T||D.numPointShadows!==C||D.numSpotShadows!==P||D.numSpotMaps!==R)&&(r.directional.length=v,r.spot.length=M,r.rectArea.length=_,r.point.length=w,r.hemi.length=S,r.directionalShadow.length=T,r.directionalShadowMap.length=T,r.pointShadow.length=C,r.pointShadowMap.length=C,r.spotShadow.length=P,r.spotShadowMap.length=P,r.directionalShadowMatrix.length=T,r.pointShadowMatrix.length=C,r.spotLightMatrix.length=P+R-b,r.spotLightMap.length=R,r.numSpotLightShadowsWithMaps=b,D.directionalLength=v,D.pointLength=w,D.spotLength=M,D.rectAreaLength=_,D.hemiLength=S,D.numDirectionalShadows=T,D.numPointShadows=C,D.numSpotShadows=P,D.numSpotMaps=R,r.version=fO++)}function f(h,d){let p=0,g=0,y=0,v=0,w=0;const M=d.matrixWorldInverse;for(let _=0,S=h.length;_<S;_++){const T=h[_];if(T.isDirectionalLight){const C=r.directional[p];C.direction.setFromMatrixPosition(T.matrixWorld),s.setFromMatrixPosition(T.target.matrixWorld),C.direction.sub(s),C.direction.transformDirection(M),p++}else if(T.isSpotLight){const C=r.spot[y];C.position.setFromMatrixPosition(T.matrixWorld),C.position.applyMatrix4(M),C.direction.setFromMatrixPosition(T.matrixWorld),s.setFromMatrixPosition(T.target.matrixWorld),C.direction.sub(s),C.direction.transformDirection(M),y++}else if(T.isRectAreaLight){const C=r.rectArea[v];C.position.setFromMatrixPosition(T.matrixWorld),C.position.applyMatrix4(M),a.identity(),o.copy(T.matrixWorld),o.premultiply(M),a.extractRotation(o),C.halfWidth.set(T.width*.5,0,0),C.halfHeight.set(0,T.height*.5,0),C.halfWidth.applyMatrix4(a),C.halfHeight.applyMatrix4(a),v++}else if(T.isPointLight){const C=r.point[g];C.position.setFromMatrixPosition(T.matrixWorld),C.position.applyMatrix4(M),g++}else if(T.isHemisphereLight){const C=r.hemi[w];C.direction.setFromMatrixPosition(T.matrixWorld),C.direction.transformDirection(M),w++}}}return{setup:u,setupView:f,state:r}}function r3(n,e){const t=new dO(n,e),i=[],r=[];function s(){i.length=0,r.length=0}function o(d){i.push(d)}function a(d){r.push(d)}function u(d){t.setup(i,d)}function f(d){t.setupView(i,d)}return{init:s,state:{lightsArray:i,shadowsArray:r,lights:t},setupLights:u,setupLightsView:f,pushLight:o,pushShadow:a}}function pO(n,e){let t=new WeakMap;function i(s,o=0){const a=t.get(s);let u;return a===void 0?(u=new r3(n,e),t.set(s,[u])):o>=a.length?(u=new r3(n,e),a.push(u)):u=a[o],u}function r(){t=new WeakMap}return{get:i,dispose:r}}class b_ extends Un{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=IC,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class C_ extends Un{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new z,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const mO=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,gO=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function yO(n,e,t){let i=new $m;const r=new ge,s=new ge,o=new Pt,a=new b_({depthPacking:DC}),u=new C_,f={},h=t.maxTextureSize,d={[Rs]:Ei,[Ei]:Rs,[xs]:xs},p=new Jr({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ge},radius:{value:4}},vertexShader:mO,fragmentShader:gO}),g=p.clone();g.defines.HORIZONTAL_PASS=1;const y=new ut;y.setAttribute("position",new Nt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const v=new On(y,p),w=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=qm,this.render=function(T,C,P){if(w.enabled===!1||w.autoUpdate===!1&&w.needsUpdate===!1||T.length===0)return;const R=n.getRenderTarget(),b=n.getActiveCubeFace(),L=n.getActiveMipmapLevel(),D=n.state;D.setBlending(Es),D.buffers.color.setClear(1,1,1,1),D.buffers.depth.setTest(!0),D.setScissorTest(!1);for(let V=0,K=T.length;V<K;V++){const Y=T[V],W=Y.shadow;if(W===void 0){console.warn("THREE.WebGLShadowMap:",Y,"has no shadow.");continue}if(W.autoUpdate===!1&&W.needsUpdate===!1)continue;r.copy(W.mapSize);const J=W.getFrameExtents();if(r.multiply(J),s.copy(W.mapSize),(r.x>h||r.y>h)&&(r.x>h&&(s.x=Math.floor(h/J.x),r.x=s.x*J.x,W.mapSize.x=s.x),r.y>h&&(s.y=Math.floor(h/J.y),r.y=s.y*J.y,W.mapSize.y=s.y)),W.map===null){const fe=this.type!==ya?{minFilter:cn,magFilter:cn}:{};W.map=new Pr(r.x,r.y,fe),W.map.texture.name=Y.name+".shadowMap",W.camera.updateProjectionMatrix()}n.setRenderTarget(W.map),n.clear();const ne=W.getViewportCount();for(let fe=0;fe<ne;fe++){const I=W.getViewport(fe);o.set(s.x*I.x,s.y*I.y,s.x*I.z,s.y*I.w),D.viewport(o),W.updateMatrices(Y,fe),i=W.getFrustum(),S(C,P,W.camera,Y,this.type)}W.isPointLightShadow!==!0&&this.type===ya&&M(W,P),W.needsUpdate=!1}w.needsUpdate=!1,n.setRenderTarget(R,b,L)};function M(T,C){const P=e.update(v);p.defines.VSM_SAMPLES!==T.blurSamples&&(p.defines.VSM_SAMPLES=T.blurSamples,g.defines.VSM_SAMPLES=T.blurSamples,p.needsUpdate=!0,g.needsUpdate=!0),T.mapPass===null&&(T.mapPass=new Pr(r.x,r.y)),p.uniforms.shadow_pass.value=T.map.texture,p.uniforms.resolution.value=T.mapSize,p.uniforms.radius.value=T.radius,n.setRenderTarget(T.mapPass),n.clear(),n.renderBufferDirect(C,null,P,p,v,null),g.uniforms.shadow_pass.value=T.mapPass.texture,g.uniforms.resolution.value=T.mapSize,g.uniforms.radius.value=T.radius,n.setRenderTarget(T.map),n.clear(),n.renderBufferDirect(C,null,P,g,v,null)}function _(T,C,P,R,b,L){let D=null;const V=P.isPointLight===!0?T.customDistanceMaterial:T.customDepthMaterial;if(V!==void 0)D=V;else if(D=P.isPointLight===!0?u:a,n.localClippingEnabled&&C.clipShadows===!0&&Array.isArray(C.clippingPlanes)&&C.clippingPlanes.length!==0||C.displacementMap&&C.displacementScale!==0||C.alphaMap&&C.alphaTest>0||C.map&&C.alphaTest>0){const K=D.uuid,Y=C.uuid;let W=f[K];W===void 0&&(W={},f[K]=W);let J=W[Y];J===void 0&&(J=D.clone(),W[Y]=J),D=J}return D.visible=C.visible,D.wireframe=C.wireframe,L===ya?D.side=C.shadowSide!==null?C.shadowSide:C.side:D.side=C.shadowSide!==null?C.shadowSide:d[C.side],D.alphaMap=C.alphaMap,D.alphaTest=C.alphaTest,D.map=C.map,D.clipShadows=C.clipShadows,D.clippingPlanes=C.clippingPlanes,D.clipIntersection=C.clipIntersection,D.displacementMap=C.displacementMap,D.displacementScale=C.displacementScale,D.displacementBias=C.displacementBias,D.wireframeLinewidth=C.wireframeLinewidth,D.linewidth=C.linewidth,P.isPointLight===!0&&D.isMeshDistanceMaterial===!0&&(D.referencePosition.setFromMatrixPosition(P.matrixWorld),D.nearDistance=R,D.farDistance=b),D}function S(T,C,P,R,b){if(T.visible===!1)return;if(T.layers.test(C.layers)&&(T.isMesh||T.isLine||T.isPoints)&&(T.castShadow||T.receiveShadow&&b===ya)&&(!T.frustumCulled||i.intersectsObject(T))){T.modelViewMatrix.multiplyMatrices(P.matrixWorldInverse,T.matrixWorld);const V=e.update(T),K=T.material;if(Array.isArray(K)){const Y=V.groups;for(let W=0,J=Y.length;W<J;W++){const ne=Y[W],fe=K[ne.materialIndex];if(fe&&fe.visible){const I=_(T,fe,R,P.near,P.far,b);n.renderBufferDirect(P,null,V,I,T,ne)}}}else if(K.visible){const Y=_(T,K,R,P.near,P.far,b);n.renderBufferDirect(P,null,V,Y,T,null)}}const D=T.children;for(let V=0,K=D.length;V<K;V++)S(D[V],C,P,R,b)}}function vO(n,e,t){const i=t.isWebGL2;function r(){let X=!1;const le=new Pt;let ye=null;const Re=new Pt(0,0,0,0);return{setMask:function(Fe){ye!==Fe&&!X&&(n.colorMask(Fe,Fe,Fe,Fe),ye=Fe)},setLocked:function(Fe){X=Fe},setClear:function(Fe,Rt,an,Dn,bi){bi===!0&&(Fe*=Dn,Rt*=Dn,an*=Dn),le.set(Fe,Rt,an,Dn),Re.equals(le)===!1&&(n.clearColor(Fe,Rt,an,Dn),Re.copy(le))},reset:function(){X=!1,ye=null,Re.set(-1,0,0,0)}}}function s(){let X=!1,le=null,ye=null,Re=null;return{setTest:function(Fe){Fe?_e(2929):ke(2929)},setMask:function(Fe){le!==Fe&&!X&&(n.depthMask(Fe),le=Fe)},setFunc:function(Fe){if(ye!==Fe){switch(Fe){case tC:n.depthFunc(512);break;case nC:n.depthFunc(519);break;case iC:n.depthFunc(513);break;case hm:n.depthFunc(515);break;case rC:n.depthFunc(514);break;case sC:n.depthFunc(518);break;case oC:n.depthFunc(516);break;case aC:n.depthFunc(517);break;default:n.depthFunc(515)}ye=Fe}},setLocked:function(Fe){X=Fe},setClear:function(Fe){Re!==Fe&&(n.clearDepth(Fe),Re=Fe)},reset:function(){X=!1,le=null,ye=null,Re=null}}}function o(){let X=!1,le=null,ye=null,Re=null,Fe=null,Rt=null,an=null,Dn=null,bi=null;return{setTest:function(Vt){X||(Vt?_e(2960):ke(2960))},setMask:function(Vt){le!==Vt&&!X&&(n.stencilMask(Vt),le=Vt)},setFunc:function(Vt,ei,Gi){(ye!==Vt||Re!==ei||Fe!==Gi)&&(n.stencilFunc(Vt,ei,Gi),ye=Vt,Re=ei,Fe=Gi)},setOp:function(Vt,ei,Gi){(Rt!==Vt||an!==ei||Dn!==Gi)&&(n.stencilOp(Vt,ei,Gi),Rt=Vt,an=ei,Dn=Gi)},setLocked:function(Vt){X=Vt},setClear:function(Vt){bi!==Vt&&(n.clearStencil(Vt),bi=Vt)},reset:function(){X=!1,le=null,ye=null,Re=null,Fe=null,Rt=null,an=null,Dn=null,bi=null}}}const a=new r,u=new s,f=new o,h=new WeakMap,d=new WeakMap;let p={},g={},y=new WeakMap,v=[],w=null,M=!1,_=null,S=null,T=null,C=null,P=null,R=null,b=null,L=!1,D=null,V=null,K=null,Y=null,W=null;const J=n.getParameter(35661);let ne=!1,fe=0;const I=n.getParameter(7938);I.indexOf("WebGL")!==-1?(fe=parseFloat(/^WebGL (\d)/.exec(I)[1]),ne=fe>=1):I.indexOf("OpenGL ES")!==-1&&(fe=parseFloat(/^OpenGL ES (\d)/.exec(I)[1]),ne=fe>=2);let B=null,U={};const te=n.getParameter(3088),H=n.getParameter(2978),ue=new Pt().fromArray(te),me=new Pt().fromArray(H);function q(X,le,ye){const Re=new Uint8Array(4),Fe=n.createTexture();n.bindTexture(X,Fe),n.texParameteri(X,10241,9728),n.texParameteri(X,10240,9728);for(let Rt=0;Rt<ye;Rt++)n.texImage2D(le+Rt,0,6408,1,1,0,6408,5121,Re);return Fe}const xe={};xe[3553]=q(3553,3553,1),xe[34067]=q(34067,34069,6),a.setClear(0,0,0,1),u.setClear(1),f.setClear(0),_e(2929),u.setFunc(hm),Ae(!1),$e(i1),_e(2884),Ee(Es);function _e(X){p[X]!==!0&&(n.enable(X),p[X]=!0)}function ke(X){p[X]!==!1&&(n.disable(X),p[X]=!1)}function ze(X,le){return g[X]!==le?(n.bindFramebuffer(X,le),g[X]=le,i&&(X===36009&&(g[36160]=le),X===36160&&(g[36009]=le)),!0):!1}function Oe(X,le){let ye=v,Re=!1;if(X)if(ye=y.get(le),ye===void 0&&(ye=[],y.set(le,ye)),X.isWebGLMultipleRenderTargets){const Fe=X.texture;if(ye.length!==Fe.length||ye[0]!==36064){for(let Rt=0,an=Fe.length;Rt<an;Rt++)ye[Rt]=36064+Rt;ye.length=Fe.length,Re=!0}}else ye[0]!==36064&&(ye[0]=36064,Re=!0);else ye[0]!==1029&&(ye[0]=1029,Re=!0);Re&&(t.isWebGL2?n.drawBuffers(ye):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(ye))}function Ve(X){return w!==X?(n.useProgram(X),w=X,!0):!1}const he={[fa]:32774,[Wb]:32778,[jb]:32779};if(i)he[a1]=32775,he[l1]=32776;else{const X=e.get("EXT_blend_minmax");X!==null&&(he[a1]=X.MIN_EXT,he[l1]=X.MAX_EXT)}const pe={[Xb]:0,[Qb]:1,[Yb]:768,[h_]:770,[eC]:776,[Kb]:774,[Jb]:772,[qb]:769,[d_]:771,[$b]:775,[Zb]:773};function Ee(X,le,ye,Re,Fe,Rt,an,Dn){if(X===Es){M===!0&&(ke(3042),M=!1);return}if(M===!1&&(_e(3042),M=!0),X!==Gb){if(X!==_||Dn!==L){if((S!==fa||P!==fa)&&(n.blendEquation(32774),S=fa,P=fa),Dn)switch(X){case Ta:n.blendFuncSeparate(1,771,1,771);break;case r1:n.blendFunc(1,1);break;case s1:n.blendFuncSeparate(0,769,0,1);break;case o1:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",X);break}else switch(X){case Ta:n.blendFuncSeparate(770,771,1,771);break;case r1:n.blendFunc(770,1);break;case s1:n.blendFuncSeparate(0,769,0,1);break;case o1:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",X);break}T=null,C=null,R=null,b=null,_=X,L=Dn}return}Fe=Fe||le,Rt=Rt||ye,an=an||Re,(le!==S||Fe!==P)&&(n.blendEquationSeparate(he[le],he[Fe]),S=le,P=Fe),(ye!==T||Re!==C||Rt!==R||an!==b)&&(n.blendFuncSeparate(pe[ye],pe[Re],pe[Rt],pe[an]),T=ye,C=Re,R=Rt,b=an),_=X,L=!1}function He(X,le){X.side===xs?ke(2884):_e(2884);let ye=X.side===Ei;le&&(ye=!ye),Ae(ye),X.blending===Ta&&X.transparent===!1?Ee(Es):Ee(X.blending,X.blendEquation,X.blendSrc,X.blendDst,X.blendEquationAlpha,X.blendSrcAlpha,X.blendDstAlpha,X.premultipliedAlpha),u.setFunc(X.depthFunc),u.setTest(X.depthTest),u.setMask(X.depthWrite),a.setMask(X.colorWrite);const Re=X.stencilWrite;f.setTest(Re),Re&&(f.setMask(X.stencilWriteMask),f.setFunc(X.stencilFunc,X.stencilRef,X.stencilFuncMask),f.setOp(X.stencilFail,X.stencilZFail,X.stencilZPass)),et(X.polygonOffset,X.polygonOffsetFactor,X.polygonOffsetUnits),X.alphaToCoverage===!0?_e(32926):ke(32926)}function Ae(X){D!==X&&(X?n.frontFace(2304):n.frontFace(2305),D=X)}function $e(X){X!==Ub?(_e(2884),X!==V&&(X===i1?n.cullFace(1029):X===Vb?n.cullFace(1028):n.cullFace(1032))):ke(2884),V=X}function Xe(X){X!==K&&(ne&&n.lineWidth(X),K=X)}function et(X,le,ye){X?(_e(32823),(Y!==le||W!==ye)&&(n.polygonOffset(le,ye),Y=le,W=ye)):ke(32823)}function St(X){X?_e(3089):ke(3089)}function bt(X){X===void 0&&(X=33984+J-1),B!==X&&(n.activeTexture(X),B=X)}function F(X,le,ye){ye===void 0&&(B===null?ye=33984+J-1:ye=B);let Re=U[ye];Re===void 0&&(Re={type:void 0,texture:void 0},U[ye]=Re),(Re.type!==X||Re.texture!==le)&&(B!==ye&&(n.activeTexture(ye),B=ye),n.bindTexture(X,le||xe[X]),Re.type=X,Re.texture=le)}function k(){const X=U[B];X!==void 0&&X.type!==void 0&&(n.bindTexture(X.type,null),X.type=void 0,X.texture=void 0)}function re(){try{n.compressedTexImage2D.apply(n,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function Se(){try{n.compressedTexImage3D.apply(n,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function Me(){try{n.texSubImage2D.apply(n,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function Ce(){try{n.texSubImage3D.apply(n,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function je(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function Le(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function de(){try{n.texStorage2D.apply(n,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function qe(){try{n.texStorage3D.apply(n,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function Ue(){try{n.texImage2D.apply(n,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function tt(){try{n.texImage3D.apply(n,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function Ze(X){ue.equals(X)===!1&&(n.scissor(X.x,X.y,X.z,X.w),ue.copy(X))}function Qe(X){me.equals(X)===!1&&(n.viewport(X.x,X.y,X.z,X.w),me.copy(X))}function yt(X,le){let ye=d.get(le);ye===void 0&&(ye=new WeakMap,d.set(le,ye));let Re=ye.get(X);Re===void 0&&(Re=n.getUniformBlockIndex(le,X.name),ye.set(X,Re))}function zt(X,le){const Re=d.get(le).get(X);h.get(le)!==Re&&(n.uniformBlockBinding(le,Re,X.__bindingPointIndex),h.set(le,Re))}function pn(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),i===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),p={},B=null,U={},g={},y=new WeakMap,v=[],w=null,M=!1,_=null,S=null,T=null,C=null,P=null,R=null,b=null,L=!1,D=null,V=null,K=null,Y=null,W=null,ue.set(0,0,n.canvas.width,n.canvas.height),me.set(0,0,n.canvas.width,n.canvas.height),a.reset(),u.reset(),f.reset()}return{buffers:{color:a,depth:u,stencil:f},enable:_e,disable:ke,bindFramebuffer:ze,drawBuffers:Oe,useProgram:Ve,setBlending:Ee,setMaterial:He,setFlipSided:Ae,setCullFace:$e,setLineWidth:Xe,setPolygonOffset:et,setScissorTest:St,activeTexture:bt,bindTexture:F,unbindTexture:k,compressedTexImage2D:re,compressedTexImage3D:Se,texImage2D:Ue,texImage3D:tt,updateUBOMapping:yt,uniformBlockBinding:zt,texStorage2D:de,texStorage3D:qe,texSubImage2D:Me,texSubImage3D:Ce,compressedTexSubImage2D:je,compressedTexSubImage3D:Le,scissor:Ze,viewport:Qe,reset:pn}}function xO(n,e,t,i,r,s,o){const a=r.isWebGL2,u=r.maxTextures,f=r.maxCubemapSize,h=r.maxTextureSize,d=r.maxSamples,p=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,g=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),y=new WeakMap;let v;const w=new WeakMap;let M=!1;try{M=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _(F,k){return M?new OffscreenCanvas(F,k):Sf("canvas")}function S(F,k,re,Se){let Me=1;if((F.width>Se||F.height>Se)&&(Me=Se/Math.max(F.width,F.height)),Me<1||k===!0)if(typeof HTMLImageElement<"u"&&F instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&F instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&F instanceof ImageBitmap){const Ce=k?OC:Math.floor,je=Ce(Me*F.width),Le=Ce(Me*F.height);v===void 0&&(v=_(je,Le));const de=re?_(je,Le):v;return de.width=je,de.height=Le,de.getContext("2d").drawImage(F,0,0,je,Le),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+F.width+"x"+F.height+") to ("+je+"x"+Le+")."),de}else return"data"in F&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+F.width+"x"+F.height+")."),F;return F}function T(F){return D1(F.width)&&D1(F.height)}function C(F){return a?!1:F.wrapS!==Kn||F.wrapT!==Kn||F.minFilter!==cn&&F.minFilter!==hn}function P(F,k){return F.generateMipmaps&&k&&F.minFilter!==cn&&F.minFilter!==hn}function R(F){n.generateMipmap(F)}function b(F,k,re,Se,Me=!1){if(a===!1)return k;if(F!==null){if(n[F]!==void 0)return n[F];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+F+"'")}let Ce=k;return k===6403&&(re===5126&&(Ce=33326),re===5131&&(Ce=33325),re===5121&&(Ce=33321)),k===33319&&(re===5126&&(Ce=33328),re===5131&&(Ce=33327),re===5121&&(Ce=33323)),k===6408&&(re===5126&&(Ce=34836),re===5131&&(Ce=34842),re===5121&&(Ce=Se===It&&Me===!1?35907:32856),re===32819&&(Ce=32854),re===32820&&(Ce=32855)),(Ce===33325||Ce===33326||Ce===33327||Ce===33328||Ce===34842||Ce===34836)&&e.get("EXT_color_buffer_float"),Ce}function L(F,k,re){return P(F,re)===!0||F.isFramebufferTexture&&F.minFilter!==cn&&F.minFilter!==hn?Math.log2(Math.max(k.width,k.height))+1:F.mipmaps!==void 0&&F.mipmaps.length>0?F.mipmaps.length:F.isCompressedTexture&&Array.isArray(F.image)?k.mipmaps.length:1}function D(F){return F===cn||F===dm||F===Oc?9728:9729}function V(F){const k=F.target;k.removeEventListener("dispose",V),Y(k),k.isVideoTexture&&y.delete(k)}function K(F){const k=F.target;k.removeEventListener("dispose",K),J(k)}function Y(F){const k=i.get(F);if(k.__webglInit===void 0)return;const re=F.source,Se=w.get(re);if(Se){const Me=Se[k.__cacheKey];Me.usedTimes--,Me.usedTimes===0&&W(F),Object.keys(Se).length===0&&w.delete(re)}i.remove(F)}function W(F){const k=i.get(F);n.deleteTexture(k.__webglTexture);const re=F.source,Se=w.get(re);delete Se[k.__cacheKey],o.memory.textures--}function J(F){const k=F.texture,re=i.get(F),Se=i.get(k);if(Se.__webglTexture!==void 0&&(n.deleteTexture(Se.__webglTexture),o.memory.textures--),F.depthTexture&&F.depthTexture.dispose(),F.isWebGLCubeRenderTarget)for(let Me=0;Me<6;Me++)n.deleteFramebuffer(re.__webglFramebuffer[Me]),re.__webglDepthbuffer&&n.deleteRenderbuffer(re.__webglDepthbuffer[Me]);else{if(n.deleteFramebuffer(re.__webglFramebuffer),re.__webglDepthbuffer&&n.deleteRenderbuffer(re.__webglDepthbuffer),re.__webglMultisampledFramebuffer&&n.deleteFramebuffer(re.__webglMultisampledFramebuffer),re.__webglColorRenderbuffer)for(let Me=0;Me<re.__webglColorRenderbuffer.length;Me++)re.__webglColorRenderbuffer[Me]&&n.deleteRenderbuffer(re.__webglColorRenderbuffer[Me]);re.__webglDepthRenderbuffer&&n.deleteRenderbuffer(re.__webglDepthRenderbuffer)}if(F.isWebGLMultipleRenderTargets)for(let Me=0,Ce=k.length;Me<Ce;Me++){const je=i.get(k[Me]);je.__webglTexture&&(n.deleteTexture(je.__webglTexture),o.memory.textures--),i.remove(k[Me])}i.remove(k),i.remove(F)}let ne=0;function fe(){ne=0}function I(){const F=ne;return F>=u&&console.warn("THREE.WebGLTextures: Trying to use "+F+" texture units while this GPU supports only "+u),ne+=1,F}function B(F){const k=[];return k.push(F.wrapS),k.push(F.wrapT),k.push(F.wrapR||0),k.push(F.magFilter),k.push(F.minFilter),k.push(F.anisotropy),k.push(F.internalFormat),k.push(F.format),k.push(F.type),k.push(F.generateMipmaps),k.push(F.premultiplyAlpha),k.push(F.flipY),k.push(F.unpackAlignment),k.push(F.encoding),k.join()}function U(F,k){const re=i.get(F);if(F.isVideoTexture&&St(F),F.isRenderTargetTexture===!1&&F.version>0&&re.__version!==F.version){const Se=F.image;if(Se===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Se.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ke(re,F,k);return}}t.bindTexture(3553,re.__webglTexture,33984+k)}function te(F,k){const re=i.get(F);if(F.version>0&&re.__version!==F.version){ke(re,F,k);return}t.bindTexture(35866,re.__webglTexture,33984+k)}function H(F,k){const re=i.get(F);if(F.version>0&&re.__version!==F.version){ke(re,F,k);return}t.bindTexture(32879,re.__webglTexture,33984+k)}function ue(F,k){const re=i.get(F);if(F.version>0&&re.__version!==F.version){ze(re,F,k);return}t.bindTexture(34067,re.__webglTexture,33984+k)}const me={[mf]:10497,[Kn]:33071,[gf]:33648},q={[cn]:9728,[dm]:9984,[Oc]:9986,[hn]:9729,[m_]:9985,[Po]:9987};function xe(F,k,re){if(re?(n.texParameteri(F,10242,me[k.wrapS]),n.texParameteri(F,10243,me[k.wrapT]),(F===32879||F===35866)&&n.texParameteri(F,32882,me[k.wrapR]),n.texParameteri(F,10240,q[k.magFilter]),n.texParameteri(F,10241,q[k.minFilter])):(n.texParameteri(F,10242,33071),n.texParameteri(F,10243,33071),(F===32879||F===35866)&&n.texParameteri(F,32882,33071),(k.wrapS!==Kn||k.wrapT!==Kn)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(F,10240,D(k.magFilter)),n.texParameteri(F,10241,D(k.minFilter)),k.minFilter!==cn&&k.minFilter!==hn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const Se=e.get("EXT_texture_filter_anisotropic");if(k.magFilter===cn||k.minFilter!==Oc&&k.minFilter!==Po||k.type===_s&&e.has("OES_texture_float_linear")===!1||a===!1&&k.type===pu&&e.has("OES_texture_half_float_linear")===!1)return;(k.anisotropy>1||i.get(k).__currentAnisotropy)&&(n.texParameterf(F,Se.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(k.anisotropy,r.getMaxAnisotropy())),i.get(k).__currentAnisotropy=k.anisotropy)}}function _e(F,k){let re=!1;F.__webglInit===void 0&&(F.__webglInit=!0,k.addEventListener("dispose",V));const Se=k.source;let Me=w.get(Se);Me===void 0&&(Me={},w.set(Se,Me));const Ce=B(k);if(Ce!==F.__cacheKey){Me[Ce]===void 0&&(Me[Ce]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,re=!0),Me[Ce].usedTimes++;const je=Me[F.__cacheKey];je!==void 0&&(Me[F.__cacheKey].usedTimes--,je.usedTimes===0&&W(k)),F.__cacheKey=Ce,F.__webglTexture=Me[Ce].texture}return re}function ke(F,k,re){let Se=3553;(k.isDataArrayTexture||k.isCompressedArrayTexture)&&(Se=35866),k.isData3DTexture&&(Se=32879);const Me=_e(F,k),Ce=k.source;t.bindTexture(Se,F.__webglTexture,33984+re);const je=i.get(Ce);if(Ce.version!==je.__version||Me===!0){t.activeTexture(33984+re),n.pixelStorei(37440,k.flipY),n.pixelStorei(37441,k.premultiplyAlpha),n.pixelStorei(3317,k.unpackAlignment),n.pixelStorei(37443,0);const Le=C(k)&&T(k.image)===!1;let de=S(k.image,Le,!1,h);de=bt(k,de);const qe=T(de)||a,Ue=s.convert(k.format,k.encoding);let tt=s.convert(k.type),Ze=b(k.internalFormat,Ue,tt,k.encoding,k.isVideoTexture);xe(Se,k,qe);let Qe;const yt=k.mipmaps,zt=a&&k.isVideoTexture!==!0,pn=je.__version===void 0||Me===!0,X=L(k,de,qe);if(k.isDepthTexture)Ze=6402,a?k.type===_s?Ze=36012:k.type===co?Ze=33190:k.type===Aa?Ze=35056:Ze=33189:k.type===_s&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),k.format===Mo&&Ze===6402&&k.type!==g_&&k.type!==co&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),k.type=co,tt=s.convert(k.type)),k.format===za&&Ze===6402&&(Ze=34041,k.type!==Aa&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),k.type=Aa,tt=s.convert(k.type))),pn&&(zt?t.texStorage2D(3553,1,Ze,de.width,de.height):t.texImage2D(3553,0,Ze,de.width,de.height,0,Ue,tt,null));else if(k.isDataTexture)if(yt.length>0&&qe){zt&&pn&&t.texStorage2D(3553,X,Ze,yt[0].width,yt[0].height);for(let le=0,ye=yt.length;le<ye;le++)Qe=yt[le],zt?t.texSubImage2D(3553,le,0,0,Qe.width,Qe.height,Ue,tt,Qe.data):t.texImage2D(3553,le,Ze,Qe.width,Qe.height,0,Ue,tt,Qe.data);k.generateMipmaps=!1}else zt?(pn&&t.texStorage2D(3553,X,Ze,de.width,de.height),t.texSubImage2D(3553,0,0,0,de.width,de.height,Ue,tt,de.data)):t.texImage2D(3553,0,Ze,de.width,de.height,0,Ue,tt,de.data);else if(k.isCompressedTexture)if(k.isCompressedArrayTexture){zt&&pn&&t.texStorage3D(35866,X,Ze,yt[0].width,yt[0].height,de.depth);for(let le=0,ye=yt.length;le<ye;le++)Qe=yt[le],k.format!==xi?Ue!==null?zt?t.compressedTexSubImage3D(35866,le,0,0,0,Qe.width,Qe.height,de.depth,Ue,Qe.data,0,0):t.compressedTexImage3D(35866,le,Ze,Qe.width,Qe.height,de.depth,0,Qe.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):zt?t.texSubImage3D(35866,le,0,0,0,Qe.width,Qe.height,de.depth,Ue,tt,Qe.data):t.texImage3D(35866,le,Ze,Qe.width,Qe.height,de.depth,0,Ue,tt,Qe.data)}else{zt&&pn&&t.texStorage2D(3553,X,Ze,yt[0].width,yt[0].height);for(let le=0,ye=yt.length;le<ye;le++)Qe=yt[le],k.format!==xi?Ue!==null?zt?t.compressedTexSubImage2D(3553,le,0,0,Qe.width,Qe.height,Ue,Qe.data):t.compressedTexImage2D(3553,le,Ze,Qe.width,Qe.height,0,Qe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):zt?t.texSubImage2D(3553,le,0,0,Qe.width,Qe.height,Ue,tt,Qe.data):t.texImage2D(3553,le,Ze,Qe.width,Qe.height,0,Ue,tt,Qe.data)}else if(k.isDataArrayTexture)zt?(pn&&t.texStorage3D(35866,X,Ze,de.width,de.height,de.depth),t.texSubImage3D(35866,0,0,0,0,de.width,de.height,de.depth,Ue,tt,de.data)):t.texImage3D(35866,0,Ze,de.width,de.height,de.depth,0,Ue,tt,de.data);else if(k.isData3DTexture)zt?(pn&&t.texStorage3D(32879,X,Ze,de.width,de.height,de.depth),t.texSubImage3D(32879,0,0,0,0,de.width,de.height,de.depth,Ue,tt,de.data)):t.texImage3D(32879,0,Ze,de.width,de.height,de.depth,0,Ue,tt,de.data);else if(k.isFramebufferTexture){if(pn)if(zt)t.texStorage2D(3553,X,Ze,de.width,de.height);else{let le=de.width,ye=de.height;for(let Re=0;Re<X;Re++)t.texImage2D(3553,Re,Ze,le,ye,0,Ue,tt,null),le>>=1,ye>>=1}}else if(yt.length>0&&qe){zt&&pn&&t.texStorage2D(3553,X,Ze,yt[0].width,yt[0].height);for(let le=0,ye=yt.length;le<ye;le++)Qe=yt[le],zt?t.texSubImage2D(3553,le,0,0,Ue,tt,Qe):t.texImage2D(3553,le,Ze,Ue,tt,Qe);k.generateMipmaps=!1}else zt?(pn&&t.texStorage2D(3553,X,Ze,de.width,de.height),t.texSubImage2D(3553,0,0,0,Ue,tt,de)):t.texImage2D(3553,0,Ze,Ue,tt,de);P(k,qe)&&R(Se),je.__version=Ce.version,k.onUpdate&&k.onUpdate(k)}F.__version=k.version}function ze(F,k,re){if(k.image.length!==6)return;const Se=_e(F,k),Me=k.source;t.bindTexture(34067,F.__webglTexture,33984+re);const Ce=i.get(Me);if(Me.version!==Ce.__version||Se===!0){t.activeTexture(33984+re),n.pixelStorei(37440,k.flipY),n.pixelStorei(37441,k.premultiplyAlpha),n.pixelStorei(3317,k.unpackAlignment),n.pixelStorei(37443,0);const je=k.isCompressedTexture||k.image[0].isCompressedTexture,Le=k.image[0]&&k.image[0].isDataTexture,de=[];for(let le=0;le<6;le++)!je&&!Le?de[le]=S(k.image[le],!1,!0,f):de[le]=Le?k.image[le].image:k.image[le],de[le]=bt(k,de[le]);const qe=de[0],Ue=T(qe)||a,tt=s.convert(k.format,k.encoding),Ze=s.convert(k.type),Qe=b(k.internalFormat,tt,Ze,k.encoding),yt=a&&k.isVideoTexture!==!0,zt=Ce.__version===void 0||Se===!0;let pn=L(k,qe,Ue);xe(34067,k,Ue);let X;if(je){yt&&zt&&t.texStorage2D(34067,pn,Qe,qe.width,qe.height);for(let le=0;le<6;le++){X=de[le].mipmaps;for(let ye=0;ye<X.length;ye++){const Re=X[ye];k.format!==xi?tt!==null?yt?t.compressedTexSubImage2D(34069+le,ye,0,0,Re.width,Re.height,tt,Re.data):t.compressedTexImage2D(34069+le,ye,Qe,Re.width,Re.height,0,Re.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):yt?t.texSubImage2D(34069+le,ye,0,0,Re.width,Re.height,tt,Ze,Re.data):t.texImage2D(34069+le,ye,Qe,Re.width,Re.height,0,tt,Ze,Re.data)}}}else{X=k.mipmaps,yt&&zt&&(X.length>0&&pn++,t.texStorage2D(34067,pn,Qe,de[0].width,de[0].height));for(let le=0;le<6;le++)if(Le){yt?t.texSubImage2D(34069+le,0,0,0,de[le].width,de[le].height,tt,Ze,de[le].data):t.texImage2D(34069+le,0,Qe,de[le].width,de[le].height,0,tt,Ze,de[le].data);for(let ye=0;ye<X.length;ye++){const Fe=X[ye].image[le].image;yt?t.texSubImage2D(34069+le,ye+1,0,0,Fe.width,Fe.height,tt,Ze,Fe.data):t.texImage2D(34069+le,ye+1,Qe,Fe.width,Fe.height,0,tt,Ze,Fe.data)}}else{yt?t.texSubImage2D(34069+le,0,0,0,tt,Ze,de[le]):t.texImage2D(34069+le,0,Qe,tt,Ze,de[le]);for(let ye=0;ye<X.length;ye++){const Re=X[ye];yt?t.texSubImage2D(34069+le,ye+1,0,0,tt,Ze,Re.image[le]):t.texImage2D(34069+le,ye+1,Qe,tt,Ze,Re.image[le])}}}P(k,Ue)&&R(34067),Ce.__version=Me.version,k.onUpdate&&k.onUpdate(k)}F.__version=k.version}function Oe(F,k,re,Se,Me){const Ce=s.convert(re.format,re.encoding),je=s.convert(re.type),Le=b(re.internalFormat,Ce,je,re.encoding);i.get(k).__hasExternalTextures||(Me===32879||Me===35866?t.texImage3D(Me,0,Le,k.width,k.height,k.depth,0,Ce,je,null):t.texImage2D(Me,0,Le,k.width,k.height,0,Ce,je,null)),t.bindFramebuffer(36160,F),et(k)?p.framebufferTexture2DMultisampleEXT(36160,Se,Me,i.get(re).__webglTexture,0,Xe(k)):(Me===3553||Me>=34069&&Me<=34074)&&n.framebufferTexture2D(36160,Se,Me,i.get(re).__webglTexture,0),t.bindFramebuffer(36160,null)}function Ve(F,k,re){if(n.bindRenderbuffer(36161,F),k.depthBuffer&&!k.stencilBuffer){let Se=33189;if(re||et(k)){const Me=k.depthTexture;Me&&Me.isDepthTexture&&(Me.type===_s?Se=36012:Me.type===co&&(Se=33190));const Ce=Xe(k);et(k)?p.renderbufferStorageMultisampleEXT(36161,Ce,Se,k.width,k.height):n.renderbufferStorageMultisample(36161,Ce,Se,k.width,k.height)}else n.renderbufferStorage(36161,Se,k.width,k.height);n.framebufferRenderbuffer(36160,36096,36161,F)}else if(k.depthBuffer&&k.stencilBuffer){const Se=Xe(k);re&&et(k)===!1?n.renderbufferStorageMultisample(36161,Se,35056,k.width,k.height):et(k)?p.renderbufferStorageMultisampleEXT(36161,Se,35056,k.width,k.height):n.renderbufferStorage(36161,34041,k.width,k.height),n.framebufferRenderbuffer(36160,33306,36161,F)}else{const Se=k.isWebGLMultipleRenderTargets===!0?k.texture:[k.texture];for(let Me=0;Me<Se.length;Me++){const Ce=Se[Me],je=s.convert(Ce.format,Ce.encoding),Le=s.convert(Ce.type),de=b(Ce.internalFormat,je,Le,Ce.encoding),qe=Xe(k);re&&et(k)===!1?n.renderbufferStorageMultisample(36161,qe,de,k.width,k.height):et(k)?p.renderbufferStorageMultisampleEXT(36161,qe,de,k.width,k.height):n.renderbufferStorage(36161,de,k.width,k.height)}}n.bindRenderbuffer(36161,null)}function he(F,k){if(k&&k.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,F),!(k.depthTexture&&k.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(k.depthTexture).__webglTexture||k.depthTexture.image.width!==k.width||k.depthTexture.image.height!==k.height)&&(k.depthTexture.image.width=k.width,k.depthTexture.image.height=k.height,k.depthTexture.needsUpdate=!0),U(k.depthTexture,0);const Se=i.get(k.depthTexture).__webglTexture,Me=Xe(k);if(k.depthTexture.format===Mo)et(k)?p.framebufferTexture2DMultisampleEXT(36160,36096,3553,Se,0,Me):n.framebufferTexture2D(36160,36096,3553,Se,0);else if(k.depthTexture.format===za)et(k)?p.framebufferTexture2DMultisampleEXT(36160,33306,3553,Se,0,Me):n.framebufferTexture2D(36160,33306,3553,Se,0);else throw new Error("Unknown depthTexture format")}function pe(F){const k=i.get(F),re=F.isWebGLCubeRenderTarget===!0;if(F.depthTexture&&!k.__autoAllocateDepthBuffer){if(re)throw new Error("target.depthTexture not supported in Cube render targets");he(k.__webglFramebuffer,F)}else if(re){k.__webglDepthbuffer=[];for(let Se=0;Se<6;Se++)t.bindFramebuffer(36160,k.__webglFramebuffer[Se]),k.__webglDepthbuffer[Se]=n.createRenderbuffer(),Ve(k.__webglDepthbuffer[Se],F,!1)}else t.bindFramebuffer(36160,k.__webglFramebuffer),k.__webglDepthbuffer=n.createRenderbuffer(),Ve(k.__webglDepthbuffer,F,!1);t.bindFramebuffer(36160,null)}function Ee(F,k,re){const Se=i.get(F);k!==void 0&&Oe(Se.__webglFramebuffer,F,F.texture,36064,3553),re!==void 0&&pe(F)}function He(F){const k=F.texture,re=i.get(F),Se=i.get(k);F.addEventListener("dispose",K),F.isWebGLMultipleRenderTargets!==!0&&(Se.__webglTexture===void 0&&(Se.__webglTexture=n.createTexture()),Se.__version=k.version,o.memory.textures++);const Me=F.isWebGLCubeRenderTarget===!0,Ce=F.isWebGLMultipleRenderTargets===!0,je=T(F)||a;if(Me){re.__webglFramebuffer=[];for(let Le=0;Le<6;Le++)re.__webglFramebuffer[Le]=n.createFramebuffer()}else{if(re.__webglFramebuffer=n.createFramebuffer(),Ce)if(r.drawBuffers){const Le=F.texture;for(let de=0,qe=Le.length;de<qe;de++){const Ue=i.get(Le[de]);Ue.__webglTexture===void 0&&(Ue.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&F.samples>0&&et(F)===!1){const Le=Ce?k:[k];re.__webglMultisampledFramebuffer=n.createFramebuffer(),re.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,re.__webglMultisampledFramebuffer);for(let de=0;de<Le.length;de++){const qe=Le[de];re.__webglColorRenderbuffer[de]=n.createRenderbuffer(),n.bindRenderbuffer(36161,re.__webglColorRenderbuffer[de]);const Ue=s.convert(qe.format,qe.encoding),tt=s.convert(qe.type),Ze=b(qe.internalFormat,Ue,tt,qe.encoding,F.isXRRenderTarget===!0),Qe=Xe(F);n.renderbufferStorageMultisample(36161,Qe,Ze,F.width,F.height),n.framebufferRenderbuffer(36160,36064+de,36161,re.__webglColorRenderbuffer[de])}n.bindRenderbuffer(36161,null),F.depthBuffer&&(re.__webglDepthRenderbuffer=n.createRenderbuffer(),Ve(re.__webglDepthRenderbuffer,F,!0)),t.bindFramebuffer(36160,null)}}if(Me){t.bindTexture(34067,Se.__webglTexture),xe(34067,k,je);for(let Le=0;Le<6;Le++)Oe(re.__webglFramebuffer[Le],F,k,36064,34069+Le);P(k,je)&&R(34067),t.unbindTexture()}else if(Ce){const Le=F.texture;for(let de=0,qe=Le.length;de<qe;de++){const Ue=Le[de],tt=i.get(Ue);t.bindTexture(3553,tt.__webglTexture),xe(3553,Ue,je),Oe(re.__webglFramebuffer,F,Ue,36064+de,3553),P(Ue,je)&&R(3553)}t.unbindTexture()}else{let Le=3553;(F.isWebGL3DRenderTarget||F.isWebGLArrayRenderTarget)&&(a?Le=F.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(Le,Se.__webglTexture),xe(Le,k,je),Oe(re.__webglFramebuffer,F,k,36064,Le),P(k,je)&&R(Le),t.unbindTexture()}F.depthBuffer&&pe(F)}function Ae(F){const k=T(F)||a,re=F.isWebGLMultipleRenderTargets===!0?F.texture:[F.texture];for(let Se=0,Me=re.length;Se<Me;Se++){const Ce=re[Se];if(P(Ce,k)){const je=F.isWebGLCubeRenderTarget?34067:3553,Le=i.get(Ce).__webglTexture;t.bindTexture(je,Le),R(je),t.unbindTexture()}}}function $e(F){if(a&&F.samples>0&&et(F)===!1){const k=F.isWebGLMultipleRenderTargets?F.texture:[F.texture],re=F.width,Se=F.height;let Me=16384;const Ce=[],je=F.stencilBuffer?33306:36096,Le=i.get(F),de=F.isWebGLMultipleRenderTargets===!0;if(de)for(let qe=0;qe<k.length;qe++)t.bindFramebuffer(36160,Le.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+qe,36161,null),t.bindFramebuffer(36160,Le.__webglFramebuffer),n.framebufferTexture2D(36009,36064+qe,3553,null,0);t.bindFramebuffer(36008,Le.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,Le.__webglFramebuffer);for(let qe=0;qe<k.length;qe++){Ce.push(36064+qe),F.depthBuffer&&Ce.push(je);const Ue=Le.__ignoreDepthValues!==void 0?Le.__ignoreDepthValues:!1;if(Ue===!1&&(F.depthBuffer&&(Me|=256),F.stencilBuffer&&(Me|=1024)),de&&n.framebufferRenderbuffer(36008,36064,36161,Le.__webglColorRenderbuffer[qe]),Ue===!0&&(n.invalidateFramebuffer(36008,[je]),n.invalidateFramebuffer(36009,[je])),de){const tt=i.get(k[qe]).__webglTexture;n.framebufferTexture2D(36009,36064,3553,tt,0)}n.blitFramebuffer(0,0,re,Se,0,0,re,Se,Me,9728),g&&n.invalidateFramebuffer(36008,Ce)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),de)for(let qe=0;qe<k.length;qe++){t.bindFramebuffer(36160,Le.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+qe,36161,Le.__webglColorRenderbuffer[qe]);const Ue=i.get(k[qe]).__webglTexture;t.bindFramebuffer(36160,Le.__webglFramebuffer),n.framebufferTexture2D(36009,36064+qe,3553,Ue,0)}t.bindFramebuffer(36009,Le.__webglMultisampledFramebuffer)}}function Xe(F){return Math.min(d,F.samples)}function et(F){const k=i.get(F);return a&&F.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&k.__useRenderToTexture!==!1}function St(F){const k=o.render.frame;y.get(F)!==k&&(y.set(F,k),F.update())}function bt(F,k){const re=F.encoding,Se=F.format,Me=F.type;return F.isCompressedTexture===!0||F.isVideoTexture===!0||F.format===pm||re!==Ds&&(re===It?a===!1?e.has("EXT_sRGB")===!0&&Se===xi?(F.format=pm,F.minFilter=hn,F.generateMipmaps=!1):k=__.sRGBToLinear(k):(Se!==xi||Me!==Is)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",re)),k}this.allocateTextureUnit=I,this.resetTextureUnits=fe,this.setTexture2D=U,this.setTexture2DArray=te,this.setTexture3D=H,this.setTextureCube=ue,this.rebindTextures=Ee,this.setupRenderTarget=He,this.updateRenderTargetMipmap=Ae,this.updateMultisampleRenderTarget=$e,this.setupDepthRenderbuffer=pe,this.setupFrameBufferTexture=Oe,this.useMultisampledRTT=et}function QC(n,e,t){const i=t.isWebGL2;function r(s,o=null){let a;if(s===Is)return 5121;if(s===yC)return 32819;if(s===vC)return 32820;if(s===pC)return 5120;if(s===mC)return 5122;if(s===g_)return 5123;if(s===gC)return 5124;if(s===co)return 5125;if(s===_s)return 5126;if(s===pu)return i?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===xC)return 6406;if(s===xi)return 6408;if(s===_C)return 6409;if(s===wC)return 6410;if(s===Mo)return 6402;if(s===za)return 34041;if(s===pm)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===SC)return 6403;if(s===MC)return 36244;if(s===EC)return 33319;if(s===TC)return 33320;if(s===AC)return 36249;if(s===Rp||s===Ip||s===Dp||s===kp)if(o===It)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===Rp)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===Ip)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===Dp)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===kp)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===Rp)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===Ip)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===Dp)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===kp)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===u1||s===c1||s===f1||s===h1)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===u1)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===c1)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===f1)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===h1)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===bC)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===d1||s===p1)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===d1)return o===It?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===p1)return o===It?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===m1||s===g1||s===y1||s===v1||s===x1||s===_1||s===w1||s===S1||s===M1||s===E1||s===T1||s===A1||s===b1||s===C1)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===m1)return o===It?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===g1)return o===It?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===y1)return o===It?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===v1)return o===It?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===x1)return o===It?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===_1)return o===It?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===w1)return o===It?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===S1)return o===It?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===M1)return o===It?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===E1)return o===It?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===T1)return o===It?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===A1)return o===It?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===b1)return o===It?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===C1)return o===It?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===Np)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===Np)return o===It?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===CC||s===P1||s===L1||s===R1)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===Np)return a.COMPRESSED_RED_RGTC1_EXT;if(s===P1)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===L1)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===R1)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===Aa?i?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:r}}class YC extends Rn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Ql extends At{constructor(){super(),this.isGroup=!0,this.type="Group"}}const _O={type:"move"};class Ay{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Ql,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Ql,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new z,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new z),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Ql,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new z,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new z),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,o=null;const a=this._targetRay,u=this._grip,f=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(f&&e.hand){o=!0;for(const v of e.hand.values()){const w=t.getJointPose(v,i),M=this._getHandJoint(f,v);w!==null&&(M.matrix.fromArray(w.transform.matrix),M.matrix.decompose(M.position,M.rotation,M.scale),M.jointRadius=w.radius),M.visible=w!==null}const h=f.joints["index-finger-tip"],d=f.joints["thumb-tip"],p=h.position.distanceTo(d.position),g=.02,y=.005;f.inputState.pinching&&p>g+y?(f.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!f.inputState.pinching&&p<=g-y&&(f.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else u!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(u.matrix.fromArray(s.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),s.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(s.linearVelocity)):u.hasLinearVelocity=!1,s.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(s.angularVelocity)):u.hasAngularVelocity=!1));a!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(_O)))}return a!==null&&(a.visible=r!==null),u!==null&&(u.visible=s!==null),f!==null&&(f.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new Ql;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class qC extends on{constructor(e,t,i,r,s,o,a,u,f,h){if(h=h!==void 0?h:Mo,h!==Mo&&h!==za)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&h===Mo&&(i=co),i===void 0&&h===za&&(i=Aa),super(null,r,s,o,a,u,h,i,f),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:cn,this.minFilter=u!==void 0?u:cn,this.flipY=!1,this.generateMipmaps=!1}}class wO extends Os{constructor(e,t){super();const i=this;let r=null,s=1,o=null,a="local-floor",u=1,f=null,h=null,d=null,p=null,g=null,y=null;const v=t.getContextAttributes();let w=null,M=null;const _=[],S=[],T=new Set,C=new Map,P=new Rn;P.layers.enable(1),P.viewport=new Pt;const R=new Rn;R.layers.enable(2),R.viewport=new Pt;const b=[P,R],L=new YC;L.layers.enable(1),L.layers.enable(2);let D=null,V=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(H){let ue=_[H];return ue===void 0&&(ue=new Ay,_[H]=ue),ue.getTargetRaySpace()},this.getControllerGrip=function(H){let ue=_[H];return ue===void 0&&(ue=new Ay,_[H]=ue),ue.getGripSpace()},this.getHand=function(H){let ue=_[H];return ue===void 0&&(ue=new Ay,_[H]=ue),ue.getHandSpace()};function K(H){const ue=S.indexOf(H.inputSource);if(ue===-1)return;const me=_[ue];me!==void 0&&me.dispatchEvent({type:H.type,data:H.inputSource})}function Y(){r.removeEventListener("select",K),r.removeEventListener("selectstart",K),r.removeEventListener("selectend",K),r.removeEventListener("squeeze",K),r.removeEventListener("squeezestart",K),r.removeEventListener("squeezeend",K),r.removeEventListener("end",Y),r.removeEventListener("inputsourceschange",W);for(let H=0;H<_.length;H++){const ue=S[H];ue!==null&&(S[H]=null,_[H].disconnect(ue))}D=null,V=null,e.setRenderTarget(w),g=null,p=null,d=null,r=null,M=null,te.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(H){s=H,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(H){a=H,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return f||o},this.setReferenceSpace=function(H){f=H},this.getBaseLayer=function(){return p!==null?p:g},this.getBinding=function(){return d},this.getFrame=function(){return y},this.getSession=function(){return r},this.setSession=async function(H){if(r=H,r!==null){if(w=e.getRenderTarget(),r.addEventListener("select",K),r.addEventListener("selectstart",K),r.addEventListener("selectend",K),r.addEventListener("squeeze",K),r.addEventListener("squeezestart",K),r.addEventListener("squeezeend",K),r.addEventListener("end",Y),r.addEventListener("inputsourceschange",W),v.xrCompatible!==!0&&await t.makeXRCompatible(),r.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const ue={antialias:r.renderState.layers===void 0?v.antialias:!0,alpha:v.alpha,depth:v.depth,stencil:v.stencil,framebufferScaleFactor:s};g=new XRWebGLLayer(r,t,ue),r.updateRenderState({baseLayer:g}),M=new Pr(g.framebufferWidth,g.framebufferHeight,{format:xi,type:Is,encoding:e.outputEncoding,stencilBuffer:v.stencil})}else{let ue=null,me=null,q=null;v.depth&&(q=v.stencil?35056:33190,ue=v.stencil?za:Mo,me=v.stencil?Aa:co);const xe={colorFormat:32856,depthFormat:q,scaleFactor:s};d=new XRWebGLBinding(r,t),p=d.createProjectionLayer(xe),r.updateRenderState({layers:[p]}),M=new Pr(p.textureWidth,p.textureHeight,{format:xi,type:Is,depthTexture:new qC(p.textureWidth,p.textureHeight,me,void 0,void 0,void 0,void 0,void 0,void 0,ue),stencilBuffer:v.stencil,encoding:e.outputEncoding,samples:v.antialias?4:0});const _e=e.properties.get(M);_e.__ignoreDepthValues=p.ignoreDepthValues}M.isXRRenderTarget=!0,this.setFoveation(u),f=null,o=await r.requestReferenceSpace(a),te.setContext(r),te.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}};function W(H){for(let ue=0;ue<H.removed.length;ue++){const me=H.removed[ue],q=S.indexOf(me);q>=0&&(S[q]=null,_[q].disconnect(me))}for(let ue=0;ue<H.added.length;ue++){const me=H.added[ue];let q=S.indexOf(me);if(q===-1){for(let _e=0;_e<_.length;_e++)if(_e>=S.length){S.push(me),q=_e;break}else if(S[_e]===null){S[_e]=me,q=_e;break}if(q===-1)break}const xe=_[q];xe&&xe.connect(me)}}const J=new z,ne=new z;function fe(H,ue,me){J.setFromMatrixPosition(ue.matrixWorld),ne.setFromMatrixPosition(me.matrixWorld);const q=J.distanceTo(ne),xe=ue.projectionMatrix.elements,_e=me.projectionMatrix.elements,ke=xe[14]/(xe[10]-1),ze=xe[14]/(xe[10]+1),Oe=(xe[9]+1)/xe[5],Ve=(xe[9]-1)/xe[5],he=(xe[8]-1)/xe[0],pe=(_e[8]+1)/_e[0],Ee=ke*he,He=ke*pe,Ae=q/(-he+pe),$e=Ae*-he;ue.matrixWorld.decompose(H.position,H.quaternion,H.scale),H.translateX($e),H.translateZ(Ae),H.matrixWorld.compose(H.position,H.quaternion,H.scale),H.matrixWorldInverse.copy(H.matrixWorld).invert();const Xe=ke+Ae,et=ze+Ae,St=Ee-$e,bt=He+(q-$e),F=Oe*ze/et*Xe,k=Ve*ze/et*Xe;H.projectionMatrix.makePerspective(St,bt,F,k,Xe,et)}function I(H,ue){ue===null?H.matrixWorld.copy(H.matrix):H.matrixWorld.multiplyMatrices(ue.matrixWorld,H.matrix),H.matrixWorldInverse.copy(H.matrixWorld).invert()}this.updateCamera=function(H){if(r===null)return;L.near=R.near=P.near=H.near,L.far=R.far=P.far=H.far,(D!==L.near||V!==L.far)&&(r.updateRenderState({depthNear:L.near,depthFar:L.far}),D=L.near,V=L.far);const ue=H.parent,me=L.cameras;I(L,ue);for(let xe=0;xe<me.length;xe++)I(me[xe],ue);L.matrixWorld.decompose(L.position,L.quaternion,L.scale),H.matrix.copy(L.matrix),H.matrix.decompose(H.position,H.quaternion,H.scale);const q=H.children;for(let xe=0,_e=q.length;xe<_e;xe++)q[xe].updateMatrixWorld(!0);me.length===2?fe(L,P,R):L.projectionMatrix.copy(P.projectionMatrix)},this.getCamera=function(){return L},this.getFoveation=function(){if(!(p===null&&g===null))return u},this.setFoveation=function(H){u=H,p!==null&&(p.fixedFoveation=H),g!==null&&g.fixedFoveation!==void 0&&(g.fixedFoveation=H)},this.getPlanes=function(){return T};let B=null;function U(H,ue){if(h=ue.getViewerPose(f||o),y=ue,h!==null){const me=h.views;g!==null&&(e.setRenderTargetFramebuffer(M,g.framebuffer),e.setRenderTarget(M));let q=!1;me.length!==L.cameras.length&&(L.cameras.length=0,q=!0);for(let xe=0;xe<me.length;xe++){const _e=me[xe];let ke=null;if(g!==null)ke=g.getViewport(_e);else{const Oe=d.getViewSubImage(p,_e);ke=Oe.viewport,xe===0&&(e.setRenderTargetTextures(M,Oe.colorTexture,p.ignoreDepthValues?void 0:Oe.depthStencilTexture),e.setRenderTarget(M))}let ze=b[xe];ze===void 0&&(ze=new Rn,ze.layers.enable(xe),ze.viewport=new Pt,b[xe]=ze),ze.matrix.fromArray(_e.transform.matrix),ze.projectionMatrix.fromArray(_e.projectionMatrix),ze.viewport.set(ke.x,ke.y,ke.width,ke.height),xe===0&&L.matrix.copy(ze.matrix),q===!0&&L.cameras.push(ze)}}for(let me=0;me<_.length;me++){const q=S[me],xe=_[me];q!==null&&xe!==void 0&&xe.update(q,ue,f||o)}if(B&&B(H,ue),ue.detectedPlanes){i.dispatchEvent({type:"planesdetected",data:ue.detectedPlanes});let me=null;for(const q of T)ue.detectedPlanes.has(q)||(me===null&&(me=[]),me.push(q));if(me!==null)for(const q of me)T.delete(q),C.delete(q),i.dispatchEvent({type:"planeremoved",data:q});for(const q of ue.detectedPlanes)if(!T.has(q))T.add(q),C.set(q,ue.lastChangedTime),i.dispatchEvent({type:"planeadded",data:q});else{const xe=C.get(q);q.lastChangedTime>xe&&(C.set(q,q.lastChangedTime),i.dispatchEvent({type:"planechanged",data:q}))}}y=null}const te=new HC;te.setAnimationLoop(U),this.setAnimationLoop=function(H){B=H},this.dispose=function(){}}}function SO(n,e){function t(v,w){w.color.getRGB(v.fogColor.value,UC(n)),w.isFog?(v.fogNear.value=w.near,v.fogFar.value=w.far):w.isFogExp2&&(v.fogDensity.value=w.density)}function i(v,w,M,_,S){w.isMeshBasicMaterial||w.isMeshLambertMaterial?r(v,w):w.isMeshToonMaterial?(r(v,w),h(v,w)):w.isMeshPhongMaterial?(r(v,w),f(v,w)):w.isMeshStandardMaterial?(r(v,w),d(v,w),w.isMeshPhysicalMaterial&&p(v,w,S)):w.isMeshMatcapMaterial?(r(v,w),g(v,w)):w.isMeshDepthMaterial?r(v,w):w.isMeshDistanceMaterial?(r(v,w),y(v,w)):w.isMeshNormalMaterial?r(v,w):w.isLineBasicMaterial?(s(v,w),w.isLineDashedMaterial&&o(v,w)):w.isPointsMaterial?a(v,w,M,_):w.isSpriteMaterial?u(v,w):w.isShadowMaterial?(v.color.value.copy(w.color),v.opacity.value=w.opacity):w.isShaderMaterial&&(w.uniformsNeedUpdate=!1)}function r(v,w){v.opacity.value=w.opacity,w.color&&v.diffuse.value.copy(w.color),w.emissive&&v.emissive.value.copy(w.emissive).multiplyScalar(w.emissiveIntensity),w.map&&(v.map.value=w.map),w.alphaMap&&(v.alphaMap.value=w.alphaMap),w.bumpMap&&(v.bumpMap.value=w.bumpMap,v.bumpScale.value=w.bumpScale,w.side===Ei&&(v.bumpScale.value*=-1)),w.displacementMap&&(v.displacementMap.value=w.displacementMap,v.displacementScale.value=w.displacementScale,v.displacementBias.value=w.displacementBias),w.emissiveMap&&(v.emissiveMap.value=w.emissiveMap),w.normalMap&&(v.normalMap.value=w.normalMap,v.normalScale.value.copy(w.normalScale),w.side===Ei&&v.normalScale.value.negate()),w.specularMap&&(v.specularMap.value=w.specularMap),w.alphaTest>0&&(v.alphaTest.value=w.alphaTest);const M=e.get(w).envMap;if(M&&(v.envMap.value=M,v.flipEnvMap.value=M.isCubeTexture&&M.isRenderTargetTexture===!1?-1:1,v.reflectivity.value=w.reflectivity,v.ior.value=w.ior,v.refractionRatio.value=w.refractionRatio),w.lightMap){v.lightMap.value=w.lightMap;const T=n.useLegacyLights===!0?Math.PI:1;v.lightMapIntensity.value=w.lightMapIntensity*T}w.aoMap&&(v.aoMap.value=w.aoMap,v.aoMapIntensity.value=w.aoMapIntensity);let _;w.map?_=w.map:w.specularMap?_=w.specularMap:w.displacementMap?_=w.displacementMap:w.normalMap?_=w.normalMap:w.bumpMap?_=w.bumpMap:w.roughnessMap?_=w.roughnessMap:w.metalnessMap?_=w.metalnessMap:w.alphaMap?_=w.alphaMap:w.emissiveMap?_=w.emissiveMap:w.clearcoatMap?_=w.clearcoatMap:w.clearcoatNormalMap?_=w.clearcoatNormalMap:w.clearcoatRoughnessMap?_=w.clearcoatRoughnessMap:w.iridescenceMap?_=w.iridescenceMap:w.iridescenceThicknessMap?_=w.iridescenceThicknessMap:w.specularIntensityMap?_=w.specularIntensityMap:w.specularColorMap?_=w.specularColorMap:w.transmissionMap?_=w.transmissionMap:w.thicknessMap?_=w.thicknessMap:w.sheenColorMap?_=w.sheenColorMap:w.sheenRoughnessMap&&(_=w.sheenRoughnessMap),_!==void 0&&(_.isWebGLRenderTarget&&(_=_.texture),_.matrixAutoUpdate===!0&&_.updateMatrix(),v.uvTransform.value.copy(_.matrix));let S;w.aoMap?S=w.aoMap:w.lightMap&&(S=w.lightMap),S!==void 0&&(S.isWebGLRenderTarget&&(S=S.texture),S.matrixAutoUpdate===!0&&S.updateMatrix(),v.uv2Transform.value.copy(S.matrix))}function s(v,w){v.diffuse.value.copy(w.color),v.opacity.value=w.opacity}function o(v,w){v.dashSize.value=w.dashSize,v.totalSize.value=w.dashSize+w.gapSize,v.scale.value=w.scale}function a(v,w,M,_){v.diffuse.value.copy(w.color),v.opacity.value=w.opacity,v.size.value=w.size*M,v.scale.value=_*.5,w.map&&(v.map.value=w.map),w.alphaMap&&(v.alphaMap.value=w.alphaMap),w.alphaTest>0&&(v.alphaTest.value=w.alphaTest);let S;w.map?S=w.map:w.alphaMap&&(S=w.alphaMap),S!==void 0&&(S.matrixAutoUpdate===!0&&S.updateMatrix(),v.uvTransform.value.copy(S.matrix))}function u(v,w){v.diffuse.value.copy(w.color),v.opacity.value=w.opacity,v.rotation.value=w.rotation,w.map&&(v.map.value=w.map),w.alphaMap&&(v.alphaMap.value=w.alphaMap),w.alphaTest>0&&(v.alphaTest.value=w.alphaTest);let M;w.map?M=w.map:w.alphaMap&&(M=w.alphaMap),M!==void 0&&(M.matrixAutoUpdate===!0&&M.updateMatrix(),v.uvTransform.value.copy(M.matrix))}function f(v,w){v.specular.value.copy(w.specular),v.shininess.value=Math.max(w.shininess,1e-4)}function h(v,w){w.gradientMap&&(v.gradientMap.value=w.gradientMap)}function d(v,w){v.roughness.value=w.roughness,v.metalness.value=w.metalness,w.roughnessMap&&(v.roughnessMap.value=w.roughnessMap),w.metalnessMap&&(v.metalnessMap.value=w.metalnessMap),e.get(w).envMap&&(v.envMapIntensity.value=w.envMapIntensity)}function p(v,w,M){v.ior.value=w.ior,w.sheen>0&&(v.sheenColor.value.copy(w.sheenColor).multiplyScalar(w.sheen),v.sheenRoughness.value=w.sheenRoughness,w.sheenColorMap&&(v.sheenColorMap.value=w.sheenColorMap),w.sheenRoughnessMap&&(v.sheenRoughnessMap.value=w.sheenRoughnessMap)),w.clearcoat>0&&(v.clearcoat.value=w.clearcoat,v.clearcoatRoughness.value=w.clearcoatRoughness,w.clearcoatMap&&(v.clearcoatMap.value=w.clearcoatMap),w.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap.value=w.clearcoatRoughnessMap),w.clearcoatNormalMap&&(v.clearcoatNormalScale.value.copy(w.clearcoatNormalScale),v.clearcoatNormalMap.value=w.clearcoatNormalMap,w.side===Ei&&v.clearcoatNormalScale.value.negate())),w.iridescence>0&&(v.iridescence.value=w.iridescence,v.iridescenceIOR.value=w.iridescenceIOR,v.iridescenceThicknessMinimum.value=w.iridescenceThicknessRange[0],v.iridescenceThicknessMaximum.value=w.iridescenceThicknessRange[1],w.iridescenceMap&&(v.iridescenceMap.value=w.iridescenceMap),w.iridescenceThicknessMap&&(v.iridescenceThicknessMap.value=w.iridescenceThicknessMap)),w.transmission>0&&(v.transmission.value=w.transmission,v.transmissionSamplerMap.value=M.texture,v.transmissionSamplerSize.value.set(M.width,M.height),w.transmissionMap&&(v.transmissionMap.value=w.transmissionMap),v.thickness.value=w.thickness,w.thicknessMap&&(v.thicknessMap.value=w.thicknessMap),v.attenuationDistance.value=w.attenuationDistance,v.attenuationColor.value.copy(w.attenuationColor)),v.specularIntensity.value=w.specularIntensity,v.specularColor.value.copy(w.specularColor),w.specularIntensityMap&&(v.specularIntensityMap.value=w.specularIntensityMap),w.specularColorMap&&(v.specularColorMap.value=w.specularColorMap)}function g(v,w){w.matcap&&(v.matcap.value=w.matcap)}function y(v,w){v.referencePosition.value.copy(w.referencePosition),v.nearDistance.value=w.nearDistance,v.farDistance.value=w.farDistance}return{refreshFogUniforms:t,refreshMaterialUniforms:i}}function MO(n,e,t,i){let r={},s={},o=[];const a=t.isWebGL2?n.getParameter(35375):0;function u(_,S){const T=S.program;i.uniformBlockBinding(_,T)}function f(_,S){let T=r[_.id];T===void 0&&(y(_),T=h(_),r[_.id]=T,_.addEventListener("dispose",w));const C=S.program;i.updateUBOMapping(_,C);const P=e.render.frame;s[_.id]!==P&&(p(_),s[_.id]=P)}function h(_){const S=d();_.__bindingPointIndex=S;const T=n.createBuffer(),C=_.__size,P=_.usage;return n.bindBuffer(35345,T),n.bufferData(35345,C,P),n.bindBuffer(35345,null),n.bindBufferBase(35345,S,T),T}function d(){for(let _=0;_<a;_++)if(o.indexOf(_)===-1)return o.push(_),_;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(_){const S=r[_.id],T=_.uniforms,C=_.__cache;n.bindBuffer(35345,S);for(let P=0,R=T.length;P<R;P++){const b=T[P];if(g(b,P,C)===!0){const L=b.__offset,D=Array.isArray(b.value)?b.value:[b.value];let V=0;for(let K=0;K<D.length;K++){const Y=D[K],W=v(Y);typeof Y=="number"?(b.__data[0]=Y,n.bufferSubData(35345,L+V,b.__data)):Y.isMatrix3?(b.__data[0]=Y.elements[0],b.__data[1]=Y.elements[1],b.__data[2]=Y.elements[2],b.__data[3]=Y.elements[0],b.__data[4]=Y.elements[3],b.__data[5]=Y.elements[4],b.__data[6]=Y.elements[5],b.__data[7]=Y.elements[0],b.__data[8]=Y.elements[6],b.__data[9]=Y.elements[7],b.__data[10]=Y.elements[8],b.__data[11]=Y.elements[0]):(Y.toArray(b.__data,V),V+=W.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(35345,L,b.__data)}}n.bindBuffer(35345,null)}function g(_,S,T){const C=_.value;if(T[S]===void 0){if(typeof C=="number")T[S]=C;else{const P=Array.isArray(C)?C:[C],R=[];for(let b=0;b<P.length;b++)R.push(P[b].clone());T[S]=R}return!0}else if(typeof C=="number"){if(T[S]!==C)return T[S]=C,!0}else{const P=Array.isArray(T[S])?T[S]:[T[S]],R=Array.isArray(C)?C:[C];for(let b=0;b<P.length;b++){const L=P[b];if(L.equals(R[b])===!1)return L.copy(R[b]),!0}}return!1}function y(_){const S=_.uniforms;let T=0;const C=16;let P=0;for(let R=0,b=S.length;R<b;R++){const L=S[R],D={boundary:0,storage:0},V=Array.isArray(L.value)?L.value:[L.value];for(let K=0,Y=V.length;K<Y;K++){const W=V[K],J=v(W);D.boundary+=J.boundary,D.storage+=J.storage}if(L.__data=new Float32Array(D.storage/Float32Array.BYTES_PER_ELEMENT),L.__offset=T,R>0){P=T%C;const K=C-P;P!==0&&K-D.boundary<0&&(T+=C-P,L.__offset=T)}T+=D.storage}return P=T%C,P>0&&(T+=C-P),_.__size=T,_.__cache={},this}function v(_){const S={boundary:0,storage:0};return typeof _=="number"?(S.boundary=4,S.storage=4):_.isVector2?(S.boundary=8,S.storage=8):_.isVector3||_.isColor?(S.boundary=16,S.storage=12):_.isVector4?(S.boundary=16,S.storage=16):_.isMatrix3?(S.boundary=48,S.storage=48):_.isMatrix4?(S.boundary=64,S.storage=64):_.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",_),S}function w(_){const S=_.target;S.removeEventListener("dispose",w);const T=o.indexOf(S.__bindingPointIndex);o.splice(T,1),n.deleteBuffer(r[S.id]),delete r[S.id],delete s[S.id]}function M(){for(const _ in r)n.deleteBuffer(r[_]);o=[],r={},s={}}return{bind:u,update:f,dispose:M}}function EO(){const n=Sf("canvas");return n.style.display="block",n}function tg(n={}){this.isWebGLRenderer=!0;const e=n.canvas!==void 0?n.canvas:EO(),t=n.context!==void 0?n.context:null,i=n.depth!==void 0?n.depth:!0,r=n.stencil!==void 0?n.stencil:!0,s=n.antialias!==void 0?n.antialias:!1,o=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,a=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,u=n.powerPreference!==void 0?n.powerPreference:"default",f=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1;let h;t!==null?h=t.getContextAttributes().alpha:h=n.alpha!==void 0?n.alpha:!1;let d=null,p=null;const g=[],y=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Ds,this.useLegacyLights=!0,this.toneMapping=br,this.toneMappingExposure=1;const v=this;let w=!1,M=0,_=0,S=null,T=-1,C=null;const P=new Pt,R=new Pt;let b=null,L=e.width,D=e.height,V=1,K=null,Y=null;const W=new Pt(0,0,L,D),J=new Pt(0,0,L,D);let ne=!1;const fe=new $m;let I=!1,B=!1,U=null;const te=new st,H=new z,ue={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function me(){return S===null?V:1}let q=t;function xe(N,ee){for(let oe=0;oe<N.length;oe++){const Z=N[oe],ce=e.getContext(Z,ee);if(ce!==null)return ce}return null}try{const N={alpha:!0,depth:i,stencil:r,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:u,failIfMajorPerformanceCaveat:f};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${Ym}`),e.addEventListener("webglcontextlost",tt,!1),e.addEventListener("webglcontextrestored",Ze,!1),e.addEventListener("webglcontextcreationerror",Qe,!1),q===null){const ee=["webgl2","webgl","experimental-webgl"];if(v.isWebGL1Renderer===!0&&ee.shift(),q=xe(ee,N),q===null)throw xe(ee)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}q.getShaderPrecisionFormat===void 0&&(q.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(N){throw console.error("THREE.WebGLRenderer: "+N.message),N}let _e,ke,ze,Oe,Ve,he,pe,Ee,He,Ae,$e,Xe,et,St,bt,F,k,re,Se,Me,Ce,je,Le,de;function qe(){_e=new Uz(q),ke=new kz(q,_e,n),_e.init(ke),je=new QC(q,_e,ke),ze=new vO(q,_e,ke),Oe=new Gz,Ve=new oO,he=new xO(q,_e,ze,Ve,ke,je,Oe),pe=new zz(v),Ee=new Bz(v),He=new Kk(q,ke),Le=new Iz(q,_e,He,ke),Ae=new Vz(q,He,Oe,Le),$e=new Qz(q,Ae,He,Oe),Se=new Xz(q,ke,he),F=new Nz(Ve),Xe=new sO(v,pe,Ee,_e,ke,Le,F),et=new SO(v,Ve),St=new lO,bt=new pO(_e,ke),re=new Rz(v,pe,Ee,ze,$e,h,o),k=new yO(v,$e,ke),de=new MO(q,Oe,ke,ze),Me=new Dz(q,_e,Oe,ke),Ce=new Hz(q,_e,Oe,ke),Oe.programs=Xe.programs,v.capabilities=ke,v.extensions=_e,v.properties=Ve,v.renderLists=St,v.shadowMap=k,v.state=ze,v.info=Oe}qe();const Ue=new wO(v,q);this.xr=Ue,this.getContext=function(){return q},this.getContextAttributes=function(){return q.getContextAttributes()},this.forceContextLoss=function(){const N=_e.get("WEBGL_lose_context");N&&N.loseContext()},this.forceContextRestore=function(){const N=_e.get("WEBGL_lose_context");N&&N.restoreContext()},this.getPixelRatio=function(){return V},this.setPixelRatio=function(N){N!==void 0&&(V=N,this.setSize(L,D,!1))},this.getSize=function(N){return N.set(L,D)},this.setSize=function(N,ee,oe=!0){if(Ue.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}L=N,D=ee,e.width=Math.floor(N*V),e.height=Math.floor(ee*V),oe===!0&&(e.style.width=N+"px",e.style.height=ee+"px"),this.setViewport(0,0,N,ee)},this.getDrawingBufferSize=function(N){return N.set(L*V,D*V).floor()},this.setDrawingBufferSize=function(N,ee,oe){L=N,D=ee,V=oe,e.width=Math.floor(N*oe),e.height=Math.floor(ee*oe),this.setViewport(0,0,N,ee)},this.getCurrentViewport=function(N){return N.copy(P)},this.getViewport=function(N){return N.copy(W)},this.setViewport=function(N,ee,oe,Z){N.isVector4?W.set(N.x,N.y,N.z,N.w):W.set(N,ee,oe,Z),ze.viewport(P.copy(W).multiplyScalar(V).floor())},this.getScissor=function(N){return N.copy(J)},this.setScissor=function(N,ee,oe,Z){N.isVector4?J.set(N.x,N.y,N.z,N.w):J.set(N,ee,oe,Z),ze.scissor(R.copy(J).multiplyScalar(V).floor())},this.getScissorTest=function(){return ne},this.setScissorTest=function(N){ze.setScissorTest(ne=N)},this.setOpaqueSort=function(N){K=N},this.setTransparentSort=function(N){Y=N},this.getClearColor=function(N){return N.copy(re.getClearColor())},this.setClearColor=function(){re.setClearColor.apply(re,arguments)},this.getClearAlpha=function(){return re.getClearAlpha()},this.setClearAlpha=function(){re.setClearAlpha.apply(re,arguments)},this.clear=function(N=!0,ee=!0,oe=!0){let Z=0;N&&(Z|=16384),ee&&(Z|=256),oe&&(Z|=1024),q.clear(Z)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",tt,!1),e.removeEventListener("webglcontextrestored",Ze,!1),e.removeEventListener("webglcontextcreationerror",Qe,!1),St.dispose(),bt.dispose(),Ve.dispose(),pe.dispose(),Ee.dispose(),$e.dispose(),Le.dispose(),de.dispose(),Xe.dispose(),Ue.dispose(),Ue.removeEventListener("sessionstart",ye),Ue.removeEventListener("sessionend",Re),U&&(U.dispose(),U=null),Fe.stop()};function tt(N){N.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),w=!0}function Ze(){console.log("THREE.WebGLRenderer: Context Restored."),w=!1;const N=Oe.autoReset,ee=k.enabled,oe=k.autoUpdate,Z=k.needsUpdate,ce=k.type;qe(),Oe.autoReset=N,k.enabled=ee,k.autoUpdate=oe,k.needsUpdate=Z,k.type=ce}function Qe(N){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",N.statusMessage)}function yt(N){const ee=N.target;ee.removeEventListener("dispose",yt),zt(ee)}function zt(N){pn(N),Ve.remove(N)}function pn(N){const ee=Ve.get(N).programs;ee!==void 0&&(ee.forEach(function(oe){Xe.releaseProgram(oe)}),N.isShaderMaterial&&Xe.releaseShaderCache(N))}this.renderBufferDirect=function(N,ee,oe,Z,ce,Ye){ee===null&&(ee=ue);const nt=ce.isMesh&&ce.matrixWorld.determinant()<0,ot=Eg(N,ee,oe,Z,ce);ze.setMaterial(Z,nt);let ct=oe.index,vt=1;Z.wireframe===!0&&(ct=Ae.getWireframeAttribute(oe),vt=2);const dt=oe.drawRange,pt=oe.attributes.position;let Kt=dt.start*vt,ti=(dt.start+dt.count)*vt;Ye!==null&&(Kt=Math.max(Kt,Ye.start*vt),ti=Math.min(ti,(Ye.start+Ye.count)*vt)),ct!==null?(Kt=Math.max(Kt,0),ti=Math.min(ti,ct.count)):pt!=null&&(Kt=Math.max(Kt,0),ti=Math.min(ti,pt.count));const fr=ti-Kt;if(fr<0||fr===1/0)return;Le.setup(ce,Z,ot,oe,ct);let Kr,$t=Me;if(ct!==null&&(Kr=He.get(ct),$t=Ce,$t.setIndex(Kr)),ce.isMesh)Z.wireframe===!0?(ze.setLineWidth(Z.wireframeLinewidth*me()),$t.setMode(1)):$t.setMode(4);else if(ce.isLine){let ht=Z.linewidth;ht===void 0&&(ht=1),ze.setLineWidth(ht*me()),ce.isLineSegments?$t.setMode(1):ce.isLineLoop?$t.setMode(2):$t.setMode(3)}else ce.isPoints?$t.setMode(0):ce.isSprite&&$t.setMode(4);if(ce.isInstancedMesh)$t.renderInstances(Kt,fr,ce.count);else if(oe.isInstancedBufferGeometry){const ht=oe._maxInstanceCount!==void 0?oe._maxInstanceCount:1/0,$r=Math.min(oe.instanceCount,ht);$t.renderInstances(Kt,fr,$r)}else $t.render(Kt,fr)},this.compile=function(N,ee){function oe(Z,ce,Ye){Z.transparent===!0&&Z.side===xs&&Z.forceSinglePass===!1?(Z.side=Ei,Z.needsUpdate=!0,ei(Z,ce,Ye),Z.side=Rs,Z.needsUpdate=!0,ei(Z,ce,Ye),Z.side=xs):ei(Z,ce,Ye)}p=bt.get(N),p.init(),y.push(p),N.traverseVisible(function(Z){Z.isLight&&Z.layers.test(ee.layers)&&(p.pushLight(Z),Z.castShadow&&p.pushShadow(Z))}),p.setupLights(v.useLegacyLights),N.traverse(function(Z){const ce=Z.material;if(ce)if(Array.isArray(ce))for(let Ye=0;Ye<ce.length;Ye++){const nt=ce[Ye];oe(nt,N,Z)}else oe(ce,N,Z)}),y.pop(),p=null};let X=null;function le(N){X&&X(N)}function ye(){Fe.stop()}function Re(){Fe.start()}const Fe=new HC;Fe.setAnimationLoop(le),typeof self<"u"&&Fe.setContext(self),this.setAnimationLoop=function(N){X=N,Ue.setAnimationLoop(N),N===null?Fe.stop():Fe.start()},Ue.addEventListener("sessionstart",ye),Ue.addEventListener("sessionend",Re),this.render=function(N,ee){if(ee!==void 0&&ee.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(w===!0)return;N.matrixWorldAutoUpdate===!0&&N.updateMatrixWorld(),ee.parent===null&&ee.matrixWorldAutoUpdate===!0&&ee.updateMatrixWorld(),Ue.enabled===!0&&Ue.isPresenting===!0&&(Ue.cameraAutoUpdate===!0&&Ue.updateCamera(ee),ee=Ue.getCamera()),N.isScene===!0&&N.onBeforeRender(v,N,ee,S),p=bt.get(N,y.length),p.init(),y.push(p),te.multiplyMatrices(ee.projectionMatrix,ee.matrixWorldInverse),fe.setFromProjectionMatrix(te),B=this.localClippingEnabled,I=F.init(this.clippingPlanes,B),d=St.get(N,g.length),d.init(),g.push(d),Rt(N,ee,0,v.sortObjects),d.finish(),v.sortObjects===!0&&d.sort(K,Y),I===!0&&F.beginShadows();const oe=p.state.shadowsArray;if(k.render(oe,N,ee),I===!0&&F.endShadows(),this.info.autoReset===!0&&this.info.reset(),re.render(d,N),p.setupLights(v.useLegacyLights),ee.isArrayCamera){const Z=ee.cameras;for(let ce=0,Ye=Z.length;ce<Ye;ce++){const nt=Z[ce];an(d,N,nt,nt.viewport)}}else an(d,N,ee);S!==null&&(he.updateMultisampleRenderTarget(S),he.updateRenderTargetMipmap(S)),N.isScene===!0&&N.onAfterRender(v,N,ee),Le.resetDefaultState(),T=-1,C=null,y.pop(),y.length>0?p=y[y.length-1]:p=null,g.pop(),g.length>0?d=g[g.length-1]:d=null};function Rt(N,ee,oe,Z){if(N.visible===!1)return;if(N.layers.test(ee.layers)){if(N.isGroup)oe=N.renderOrder;else if(N.isLOD)N.autoUpdate===!0&&N.update(ee);else if(N.isLight)p.pushLight(N),N.castShadow&&p.pushShadow(N);else if(N.isSprite){if(!N.frustumCulled||fe.intersectsSprite(N)){Z&&H.setFromMatrixPosition(N.matrixWorld).applyMatrix4(te);const nt=$e.update(N),ot=N.material;ot.visible&&d.push(N,nt,ot,oe,H.z,null)}}else if((N.isMesh||N.isLine||N.isPoints)&&(N.isSkinnedMesh&&N.skeleton.frame!==Oe.render.frame&&(N.skeleton.update(),N.skeleton.frame=Oe.render.frame),!N.frustumCulled||fe.intersectsObject(N))){Z&&H.setFromMatrixPosition(N.matrixWorld).applyMatrix4(te);const nt=$e.update(N),ot=N.material;if(Array.isArray(ot)){const ct=nt.groups;for(let vt=0,dt=ct.length;vt<dt;vt++){const pt=ct[vt],Kt=ot[pt.materialIndex];Kt&&Kt.visible&&d.push(N,nt,Kt,oe,H.z,pt)}}else ot.visible&&d.push(N,nt,ot,oe,H.z,null)}}const Ye=N.children;for(let nt=0,ot=Ye.length;nt<ot;nt++)Rt(Ye[nt],ee,oe,Z)}function an(N,ee,oe,Z){const ce=N.opaque,Ye=N.transmissive,nt=N.transparent;p.setupLightsView(oe),I===!0&&F.setGlobalState(v.clippingPlanes,oe),Ye.length>0&&Dn(ce,ee,oe),Z&&ze.viewport(P.copy(Z)),ce.length>0&&bi(ce,ee,oe),Ye.length>0&&bi(Ye,ee,oe),nt.length>0&&bi(nt,ee,oe),ze.buffers.depth.setTest(!0),ze.buffers.depth.setMask(!0),ze.buffers.color.setMask(!0),ze.setPolygonOffset(!1)}function Dn(N,ee,oe){const Z=ke.isWebGL2;U===null&&(U=new Pr(1024,1024,{generateMipmaps:!0,type:_e.has("EXT_color_buffer_half_float")?pu:Is,minFilter:Po,samples:Z&&s===!0?4:0}));const ce=v.getRenderTarget();v.setRenderTarget(U),v.clear();const Ye=v.toneMapping;v.toneMapping=br,bi(N,ee,oe),v.toneMapping=Ye,he.updateMultisampleRenderTarget(U),he.updateRenderTargetMipmap(U),v.setRenderTarget(ce)}function bi(N,ee,oe){const Z=ee.isScene===!0?ee.overrideMaterial:null;for(let ce=0,Ye=N.length;ce<Ye;ce++){const nt=N[ce],ot=nt.object,ct=nt.geometry,vt=Z===null?nt.material:Z,dt=nt.group;ot.layers.test(oe.layers)&&Vt(ot,ee,oe,ct,vt,dt)}}function Vt(N,ee,oe,Z,ce,Ye){N.onBeforeRender(v,ee,oe,Z,ce,Ye),N.modelViewMatrix.multiplyMatrices(oe.matrixWorldInverse,N.matrixWorld),N.normalMatrix.getNormalMatrix(N.modelViewMatrix),ce.onBeforeRender(v,ee,oe,Z,N,Ye),ce.transparent===!0&&ce.side===xs&&ce.forceSinglePass===!1?(ce.side=Ei,ce.needsUpdate=!0,v.renderBufferDirect(oe,ee,Z,ce,N,Ye),ce.side=Rs,ce.needsUpdate=!0,v.renderBufferDirect(oe,ee,Z,ce,N,Ye),ce.side=xs):v.renderBufferDirect(oe,ee,Z,ce,N,Ye),N.onAfterRender(v,ee,oe,Z,ce,Ye)}function ei(N,ee,oe){ee.isScene!==!0&&(ee=ue);const Z=Ve.get(N),ce=p.state.lights,Ye=p.state.shadowsArray,nt=ce.state.version,ot=Xe.getParameters(N,ce.state,Ye,ee,oe),ct=Xe.getProgramCacheKey(ot);let vt=Z.programs;Z.environment=N.isMeshStandardMaterial?ee.environment:null,Z.fog=ee.fog,Z.envMap=(N.isMeshStandardMaterial?Ee:pe).get(N.envMap||Z.environment),vt===void 0&&(N.addEventListener("dispose",yt),vt=new Map,Z.programs=vt);let dt=vt.get(ct);if(dt!==void 0){if(Z.currentProgram===dt&&Z.lightsStateVersion===nt)return Gi(N,ot),dt}else ot.uniforms=Xe.getUniforms(N),N.onBuild(oe,ot,v),N.onBeforeCompile(ot,v),dt=Xe.acquireProgram(ot,ct),vt.set(ct,dt),Z.uniforms=ot.uniforms;const pt=Z.uniforms;(!N.isShaderMaterial&&!N.isRawShaderMaterial||N.clipping===!0)&&(pt.clippingPlanes=F.uniform),Gi(N,ot),Z.needsLights=dh(N),Z.lightsStateVersion=nt,Z.needsLights&&(pt.ambientLightColor.value=ce.state.ambient,pt.lightProbe.value=ce.state.probe,pt.directionalLights.value=ce.state.directional,pt.directionalLightShadows.value=ce.state.directionalShadow,pt.spotLights.value=ce.state.spot,pt.spotLightShadows.value=ce.state.spotShadow,pt.rectAreaLights.value=ce.state.rectArea,pt.ltc_1.value=ce.state.rectAreaLTC1,pt.ltc_2.value=ce.state.rectAreaLTC2,pt.pointLights.value=ce.state.point,pt.pointLightShadows.value=ce.state.pointShadow,pt.hemisphereLights.value=ce.state.hemi,pt.directionalShadowMap.value=ce.state.directionalShadowMap,pt.directionalShadowMatrix.value=ce.state.directionalShadowMatrix,pt.spotShadowMap.value=ce.state.spotShadowMap,pt.spotLightMatrix.value=ce.state.spotLightMatrix,pt.spotLightMap.value=ce.state.spotLightMap,pt.pointShadowMap.value=ce.state.pointShadowMap,pt.pointShadowMatrix.value=ce.state.pointShadowMatrix);const Kt=dt.getUniforms(),ti=Fp.seqWithValue(Kt.seq,pt);return Z.currentProgram=dt,Z.uniformsList=ti,dt}function Gi(N,ee){const oe=Ve.get(N);oe.outputEncoding=ee.outputEncoding,oe.instancing=ee.instancing,oe.skinning=ee.skinning,oe.morphTargets=ee.morphTargets,oe.morphNormals=ee.morphNormals,oe.morphColors=ee.morphColors,oe.morphTargetsCount=ee.morphTargetsCount,oe.numClippingPlanes=ee.numClippingPlanes,oe.numIntersection=ee.numClipIntersection,oe.vertexAlphas=ee.vertexAlphas,oe.vertexTangents=ee.vertexTangents,oe.toneMapping=ee.toneMapping}function Eg(N,ee,oe,Z,ce){ee.isScene!==!0&&(ee=ue),he.resetTextureUnits();const Ye=ee.fog,nt=Z.isMeshStandardMaterial?ee.environment:null,ot=S===null?v.outputEncoding:S.isXRRenderTarget===!0?S.texture.encoding:Ds,ct=(Z.isMeshStandardMaterial?Ee:pe).get(Z.envMap||nt),vt=Z.vertexColors===!0&&!!oe.attributes.color&&oe.attributes.color.itemSize===4,dt=!!Z.normalMap&&!!oe.attributes.tangent,pt=!!oe.morphAttributes.position,Kt=!!oe.morphAttributes.normal,ti=!!oe.morphAttributes.color,fr=Z.toneMapped?v.toneMapping:br,Kr=oe.morphAttributes.position||oe.morphAttributes.normal||oe.morphAttributes.color,$t=Kr!==void 0?Kr.length:0,ht=Ve.get(Z),$r=p.state.lights;if(I===!0&&(B===!0||N!==C)){const tn=N===C&&Z.id===T;F.setState(Z,N,tn)}let en=!1;Z.version===ht.__version?(ht.needsLights&&ht.lightsStateVersion!==$r.state.version||ht.outputEncoding!==ot||ce.isInstancedMesh&&ht.instancing===!1||!ce.isInstancedMesh&&ht.instancing===!0||ce.isSkinnedMesh&&ht.skinning===!1||!ce.isSkinnedMesh&&ht.skinning===!0||ht.envMap!==ct||Z.fog===!0&&ht.fog!==Ye||ht.numClippingPlanes!==void 0&&(ht.numClippingPlanes!==F.numPlanes||ht.numIntersection!==F.numIntersection)||ht.vertexAlphas!==vt||ht.vertexTangents!==dt||ht.morphTargets!==pt||ht.morphNormals!==Kt||ht.morphColors!==ti||ht.toneMapping!==fr||ke.isWebGL2===!0&&ht.morphTargetsCount!==$t)&&(en=!0):(en=!0,ht.__version=Z.version);let hr=ht.currentProgram;en===!0&&(hr=ei(Z,ee,ce));let ph=!1,es=!1,Ir=!1;const Ht=hr.getUniforms(),xt=ht.uniforms;if(ze.useProgram(hr.program)&&(ph=!0,es=!0,Ir=!0),Z.id!==T&&(T=Z.id,es=!0),ph||C!==N){if(Ht.setValue(q,"projectionMatrix",N.projectionMatrix),ke.logarithmicDepthBuffer&&Ht.setValue(q,"logDepthBufFC",2/(Math.log(N.far+1)/Math.LN2)),C!==N&&(C=N,es=!0,Ir=!0),Z.isShaderMaterial||Z.isMeshPhongMaterial||Z.isMeshToonMaterial||Z.isMeshStandardMaterial||Z.envMap){const tn=Ht.map.cameraPosition;tn!==void 0&&tn.setValue(q,H.setFromMatrixPosition(N.matrixWorld))}(Z.isMeshPhongMaterial||Z.isMeshToonMaterial||Z.isMeshLambertMaterial||Z.isMeshBasicMaterial||Z.isMeshStandardMaterial||Z.isShaderMaterial)&&Ht.setValue(q,"isOrthographic",N.isOrthographicCamera===!0),(Z.isMeshPhongMaterial||Z.isMeshToonMaterial||Z.isMeshLambertMaterial||Z.isMeshBasicMaterial||Z.isMeshStandardMaterial||Z.isShaderMaterial||Z.isShadowMaterial||ce.isSkinnedMesh)&&Ht.setValue(q,"viewMatrix",N.matrixWorldInverse)}if(ce.isSkinnedMesh){Ht.setOptional(q,ce,"bindMatrix"),Ht.setOptional(q,ce,"bindMatrixInverse");const tn=ce.skeleton;tn&&(ke.floatVertexTextures?(tn.boneTexture===null&&tn.computeBoneTexture(),Ht.setValue(q,"boneTexture",tn.boneTexture,he),Ht.setValue(q,"boneTextureSize",tn.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Ct=oe.morphAttributes;if((Ct.position!==void 0||Ct.normal!==void 0||Ct.color!==void 0&&ke.isWebGL2===!0)&&Se.update(ce,oe,hr),(es||ht.receiveShadow!==ce.receiveShadow)&&(ht.receiveShadow=ce.receiveShadow,Ht.setValue(q,"receiveShadow",ce.receiveShadow)),Z.isMeshGouraudMaterial&&Z.envMap!==null&&(xt.envMap.value=ct,xt.flipEnvMap.value=ct.isCubeTexture&&ct.isRenderTargetTexture===!1?-1:1),es&&(Ht.setValue(q,"toneMappingExposure",v.toneMappingExposure),ht.needsLights&&Tg(xt,Ir),Ye&&Z.fog===!0&&et.refreshFogUniforms(xt,Ye),et.refreshMaterialUniforms(xt,Z,V,D,U),Fp.upload(q,ht.uniformsList,xt,he)),Z.isShaderMaterial&&Z.uniformsNeedUpdate===!0&&(Fp.upload(q,ht.uniformsList,xt,he),Z.uniformsNeedUpdate=!1),Z.isSpriteMaterial&&Ht.setValue(q,"center",ce.center),Ht.setValue(q,"modelViewMatrix",ce.modelViewMatrix),Ht.setValue(q,"normalMatrix",ce.normalMatrix),Ht.setValue(q,"modelMatrix",ce.matrixWorld),Z.isShaderMaterial||Z.isRawShaderMaterial){const tn=Z.uniformsGroups;for(let mn=0,Vn=tn.length;mn<Vn;mn++)if(ke.isWebGL2){const Dr=tn[mn];de.update(Dr,hr),de.bind(Dr,hr)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return hr}function Tg(N,ee){N.ambientLightColor.needsUpdate=ee,N.lightProbe.needsUpdate=ee,N.directionalLights.needsUpdate=ee,N.directionalLightShadows.needsUpdate=ee,N.pointLights.needsUpdate=ee,N.pointLightShadows.needsUpdate=ee,N.spotLights.needsUpdate=ee,N.spotLightShadows.needsUpdate=ee,N.rectAreaLights.needsUpdate=ee,N.hemisphereLights.needsUpdate=ee}function dh(N){return N.isMeshLambertMaterial||N.isMeshToonMaterial||N.isMeshPhongMaterial||N.isMeshStandardMaterial||N.isShadowMaterial||N.isShaderMaterial&&N.lights===!0}this.getActiveCubeFace=function(){return M},this.getActiveMipmapLevel=function(){return _},this.getRenderTarget=function(){return S},this.setRenderTargetTextures=function(N,ee,oe){Ve.get(N.texture).__webglTexture=ee,Ve.get(N.depthTexture).__webglTexture=oe;const Z=Ve.get(N);Z.__hasExternalTextures=!0,Z.__hasExternalTextures&&(Z.__autoAllocateDepthBuffer=oe===void 0,Z.__autoAllocateDepthBuffer||_e.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Z.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(N,ee){const oe=Ve.get(N);oe.__webglFramebuffer=ee,oe.__useDefaultFramebuffer=ee===void 0},this.setRenderTarget=function(N,ee=0,oe=0){S=N,M=ee,_=oe;let Z=!0,ce=null,Ye=!1,nt=!1;if(N){const ct=Ve.get(N);ct.__useDefaultFramebuffer!==void 0?(ze.bindFramebuffer(36160,null),Z=!1):ct.__webglFramebuffer===void 0?he.setupRenderTarget(N):ct.__hasExternalTextures&&he.rebindTextures(N,Ve.get(N.texture).__webglTexture,Ve.get(N.depthTexture).__webglTexture);const vt=N.texture;(vt.isData3DTexture||vt.isDataArrayTexture||vt.isCompressedArrayTexture)&&(nt=!0);const dt=Ve.get(N).__webglFramebuffer;N.isWebGLCubeRenderTarget?(ce=dt[ee],Ye=!0):ke.isWebGL2&&N.samples>0&&he.useMultisampledRTT(N)===!1?ce=Ve.get(N).__webglMultisampledFramebuffer:ce=dt,P.copy(N.viewport),R.copy(N.scissor),b=N.scissorTest}else P.copy(W).multiplyScalar(V).floor(),R.copy(J).multiplyScalar(V).floor(),b=ne;if(ze.bindFramebuffer(36160,ce)&&ke.drawBuffers&&Z&&ze.drawBuffers(N,ce),ze.viewport(P),ze.scissor(R),ze.setScissorTest(b),Ye){const ct=Ve.get(N.texture);q.framebufferTexture2D(36160,36064,34069+ee,ct.__webglTexture,oe)}else if(nt){const ct=Ve.get(N.texture),vt=ee||0;q.framebufferTextureLayer(36160,36064,ct.__webglTexture,oe||0,vt)}T=-1},this.readRenderTargetPixels=function(N,ee,oe,Z,ce,Ye,nt){if(!(N&&N.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ot=Ve.get(N).__webglFramebuffer;if(N.isWebGLCubeRenderTarget&&nt!==void 0&&(ot=ot[nt]),ot){ze.bindFramebuffer(36160,ot);try{const ct=N.texture,vt=ct.format,dt=ct.type;if(vt!==xi&&je.convert(vt)!==q.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const pt=dt===pu&&(_e.has("EXT_color_buffer_half_float")||ke.isWebGL2&&_e.has("EXT_color_buffer_float"));if(dt!==Is&&je.convert(dt)!==q.getParameter(35738)&&!(dt===_s&&(ke.isWebGL2||_e.has("OES_texture_float")||_e.has("WEBGL_color_buffer_float")))&&!pt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ee>=0&&ee<=N.width-Z&&oe>=0&&oe<=N.height-ce&&q.readPixels(ee,oe,Z,ce,je.convert(vt),je.convert(dt),Ye)}finally{const ct=S!==null?Ve.get(S).__webglFramebuffer:null;ze.bindFramebuffer(36160,ct)}}},this.copyFramebufferToTexture=function(N,ee,oe=0){const Z=Math.pow(2,-oe),ce=Math.floor(ee.image.width*Z),Ye=Math.floor(ee.image.height*Z);he.setTexture2D(ee,0),q.copyTexSubImage2D(3553,oe,0,0,N.x,N.y,ce,Ye),ze.unbindTexture()},this.copyTextureToTexture=function(N,ee,oe,Z=0){const ce=ee.image.width,Ye=ee.image.height,nt=je.convert(oe.format),ot=je.convert(oe.type);he.setTexture2D(oe,0),q.pixelStorei(37440,oe.flipY),q.pixelStorei(37441,oe.premultiplyAlpha),q.pixelStorei(3317,oe.unpackAlignment),ee.isDataTexture?q.texSubImage2D(3553,Z,N.x,N.y,ce,Ye,nt,ot,ee.image.data):ee.isCompressedTexture?q.compressedTexSubImage2D(3553,Z,N.x,N.y,ee.mipmaps[0].width,ee.mipmaps[0].height,nt,ee.mipmaps[0].data):q.texSubImage2D(3553,Z,N.x,N.y,nt,ot,ee.image),Z===0&&oe.generateMipmaps&&q.generateMipmap(3553),ze.unbindTexture()},this.copyTextureToTexture3D=function(N,ee,oe,Z,ce=0){if(v.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Ye=N.max.x-N.min.x+1,nt=N.max.y-N.min.y+1,ot=N.max.z-N.min.z+1,ct=je.convert(Z.format),vt=je.convert(Z.type);let dt;if(Z.isData3DTexture)he.setTexture3D(Z,0),dt=32879;else if(Z.isDataArrayTexture)he.setTexture2DArray(Z,0),dt=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}q.pixelStorei(37440,Z.flipY),q.pixelStorei(37441,Z.premultiplyAlpha),q.pixelStorei(3317,Z.unpackAlignment);const pt=q.getParameter(3314),Kt=q.getParameter(32878),ti=q.getParameter(3316),fr=q.getParameter(3315),Kr=q.getParameter(32877),$t=oe.isCompressedTexture?oe.mipmaps[0]:oe.image;q.pixelStorei(3314,$t.width),q.pixelStorei(32878,$t.height),q.pixelStorei(3316,N.min.x),q.pixelStorei(3315,N.min.y),q.pixelStorei(32877,N.min.z),oe.isDataTexture||oe.isData3DTexture?q.texSubImage3D(dt,ce,ee.x,ee.y,ee.z,Ye,nt,ot,ct,vt,$t.data):oe.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),q.compressedTexSubImage3D(dt,ce,ee.x,ee.y,ee.z,Ye,nt,ot,ct,$t.data)):q.texSubImage3D(dt,ce,ee.x,ee.y,ee.z,Ye,nt,ot,ct,vt,$t),q.pixelStorei(3314,pt),q.pixelStorei(32878,Kt),q.pixelStorei(3316,ti),q.pixelStorei(3315,fr),q.pixelStorei(32877,Kr),ce===0&&Z.generateMipmaps&&q.generateMipmap(dt),ze.unbindTexture()},this.initTexture=function(N){N.isCubeTexture?he.setTextureCube(N,0):N.isData3DTexture?he.setTexture3D(N,0):N.isDataArrayTexture||N.isCompressedArrayTexture?he.setTexture2DArray(N,0):he.setTexture2D(N,0),ze.unbindTexture()},this.resetState=function(){M=0,_=0,S=null,ze.reset(),Le.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}Object.defineProperties(tg.prototype,{physicallyCorrectLights:{get:function(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights},set:function(n){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!n}}});class JC extends tg{}JC.prototype.isWebGL1Renderer=!0;class ng{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Ie(e),this.density=t}clone(){return new ng(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class ig{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new Ie(e),this.near=t,this.far=i}clone(){return new ig(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class P_ extends At{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class rg{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=_f,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Oi()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Oi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Oi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const ri=new z;class Oa{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)ri.fromBufferAttribute(this,t),ri.applyMatrix4(e),this.setXYZ(t,ri.x,ri.y,ri.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)ri.fromBufferAttribute(this,t),ri.applyNormalMatrix(e),this.setXYZ(t,ri.x,ri.y,ri.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)ri.fromBufferAttribute(this,t),ri.transformDirection(e),this.setXYZ(t,ri.x,ri.y,ri.z);return this}setX(e,t){return this.normalized&&(t=kt(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=kt(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=kt(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=kt(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=ws(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=ws(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=ws(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=ws(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=kt(t,this.array),i=kt(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=kt(t,this.array),i=kt(i,this.array),r=kt(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=kt(t,this.array),i=kt(i,this.array),r=kt(r,this.array),s=kt(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new Nt(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Oa(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class L_ extends Un{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Ie(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let El;const cc=new z,Tl=new z,Al=new z,bl=new ge,fc=new ge,ZC=new st,Wd=new z,hc=new z,jd=new z,s3=new ge,by=new ge,o3=new ge;class KC extends At{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",El===void 0){El=new ut;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new rg(t,5);El.setIndex([0,1,2,0,2,3]),El.setAttribute("position",new Oa(i,3,0,!1)),El.setAttribute("uv",new Oa(i,2,3,!1))}this.geometry=El,this.material=e!==void 0?e:new L_,this.center=new ge(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Tl.setFromMatrixScale(this.matrixWorld),ZC.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Al.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Tl.multiplyScalar(-Al.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const o=this.center;Xd(Wd.set(-.5,-.5,0),Al,o,Tl,r,s),Xd(hc.set(.5,-.5,0),Al,o,Tl,r,s),Xd(jd.set(.5,.5,0),Al,o,Tl,r,s),s3.set(0,0),by.set(1,0),o3.set(1,1);let a=e.ray.intersectTriangle(Wd,hc,jd,!1,cc);if(a===null&&(Xd(hc.set(-.5,.5,0),Al,o,Tl,r,s),by.set(0,1),a=e.ray.intersectTriangle(Wd,jd,hc,!1,cc),a===null))return;const u=e.ray.origin.distanceTo(cc);u<e.near||u>e.far||t.push({distance:u,point:cc.clone(),uv:rr.getUV(cc,Wd,hc,jd,s3,by,o3,new ge),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Xd(n,e,t,i,r,s){bl.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(fc.x=s*bl.x-r*bl.y,fc.y=r*bl.x+s*bl.y):fc.copy(bl),n.copy(e),n.x+=fc.x,n.y+=fc.y,n.applyMatrix4(ZC)}const Qd=new z,a3=new z;class $C extends At{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const s=t[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let s;for(s=0;s<r.length&&!(t<r[s].distance);s++);return r.splice(s,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let s=t[i].distance;if(t[i].object.visible&&(s-=s*t[i].hysteresis),e<s)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){Qd.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(Qd);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Qd.setFromMatrixPosition(e.matrixWorld),a3.setFromMatrixPosition(this.matrixWorld);const i=Qd.distanceTo(a3)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s;r++){let o=t[r].distance;if(t[r].object.visible&&(o-=o*t[r].hysteresis),i>=o)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const o=i[r];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const l3=new z,u3=new Pt,c3=new Pt,TO=new z,f3=new st;class eP extends On{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new st,this.bindMatrixInverse=new st}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Pt,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const i=this.skeleton,r=this.geometry;u3.fromBufferAttribute(r.attributes.skinIndex,e),c3.fromBufferAttribute(r.attributes.skinWeight,e),l3.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=c3.getComponent(s);if(o!==0){const a=u3.getComponent(s);f3.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),t.addScaledVector(TO.copy(l3).applyMatrix4(f3),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class R_ extends At{constructor(){super(),this.isBone=!0,this.type="Bone"}}class su extends on{constructor(e=null,t=1,i=1,r,s,o,a,u,f=cn,h=cn,d,p){super(null,o,a,u,f,h,r,s,d,p),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const h3=new st,AO=new st;class sg{constructor(e=[],t=[]){this.uuid=Oi(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new st)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new st;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:AO;h3.multiplyMatrices(a,t[s]),h3.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new sg(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=zC(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new su(t,e,e,xi,_s);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new R_),this.bones.push(o),this.boneInverses.push(new st().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const o=t[r];e.bones.push(o.uuid);const a=i[r];e.boneInverses.push(a.toArray())}return e}}class yu extends Nt{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const d3=new st,p3=new st,Yd=[],bO=new st,dc=new On;class tP extends On{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new yu(new Float32Array(i*16),16),this.instanceColor=null,this.count=i,this.frustumCulled=!1;for(let r=0;r<i;r++)this.setMatrixAt(r,bO)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const i=this.matrixWorld,r=this.count;if(dc.geometry=this.geometry,dc.material=this.material,dc.material!==void 0)for(let s=0;s<r;s++){this.getMatrixAt(s,d3),p3.multiplyMatrices(i,d3),dc.matrixWorld=p3,dc.raycast(e,Yd);for(let o=0,a=Yd.length;o<a;o++){const u=Yd[o];u.instanceId=s,u.object=this,t.push(u)}Yd.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new yu(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class di extends Un{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Ie(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const m3=new z,g3=new z,y3=new st,Cy=new Gf,qd=new Wa;class Lo extends At{constructor(e=new ut,t=new di){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)m3.fromBufferAttribute(t,r-1),g3.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=m3.distanceTo(g3);e.setAttribute("lineDistance",new Be(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),qd.copy(i.boundingSphere),qd.applyMatrix4(r),qd.radius+=s,e.ray.intersectsSphere(qd)===!1)return;y3.copy(r).invert(),Cy.copy(e.ray).applyMatrix4(y3);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),u=a*a,f=new z,h=new z,d=new z,p=new z,g=this.isLineSegments?2:1,y=i.index,w=i.attributes.position;if(y!==null){const M=Math.max(0,o.start),_=Math.min(y.count,o.start+o.count);for(let S=M,T=_-1;S<T;S+=g){const C=y.getX(S),P=y.getX(S+1);if(f.fromBufferAttribute(w,C),h.fromBufferAttribute(w,P),Cy.distanceSqToSegment(f,h,p,d)>u)continue;p.applyMatrix4(this.matrixWorld);const b=e.ray.origin.distanceTo(p);b<e.near||b>e.far||t.push({distance:b,point:d.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}else{const M=Math.max(0,o.start),_=Math.min(w.count,o.start+o.count);for(let S=M,T=_-1;S<T;S+=g){if(f.fromBufferAttribute(w,S),h.fromBufferAttribute(w,S+1),Cy.distanceSqToSegment(f,h,p,d)>u)continue;p.applyMatrix4(this.matrixWorld);const P=e.ray.origin.distanceTo(p);P<e.near||P>e.far||t.push({distance:P,point:d.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const v3=new z,x3=new z;class Zr extends Lo{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)v3.fromBufferAttribute(t,r),x3.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+v3.distanceTo(x3);e.setAttribute("lineDistance",new Be(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class nP extends Lo{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class og extends Un{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Ie(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const _3=new st,z1=new Gf,Jd=new Wa,Zd=new z;let iP=class extends At{constructor(e=new ut,t=new og){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Jd.copy(i.boundingSphere),Jd.applyMatrix4(r),Jd.radius+=s,e.ray.intersectsSphere(Jd)===!1)return;_3.copy(r).invert(),z1.copy(e.ray).applyMatrix4(_3);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),u=a*a,f=i.index,d=i.attributes.position;if(f!==null){const p=Math.max(0,o.start),g=Math.min(f.count,o.start+o.count);for(let y=p,v=g;y<v;y++){const w=f.getX(y);Zd.fromBufferAttribute(d,w),w3(Zd,w,u,r,e,t,this)}}else{const p=Math.max(0,o.start),g=Math.min(d.count,o.start+o.count);for(let y=p,v=g;y<v;y++)Zd.fromBufferAttribute(d,y),w3(Zd,y,u,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}};function w3(n,e,t,i,r,s,o){const a=z1.distanceSqToPoint(n);if(a<t){const u=new z;z1.closestPointToPoint(n,u),u.applyMatrix4(i);const f=r.ray.origin.distanceTo(u);if(f<r.near||f>r.far)return;s.push({distance:f,distanceToRay:Math.sqrt(a),point:u,index:e,face:null,object:o})}}class CO extends on{constructor(e,t,i,r,s,o,a,u,f){super(e,t,i,r,s,o,a,u,f),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:hn,this.magFilter=s!==void 0?s:hn,this.generateMipmaps=!1;const h=this;function d(){h.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class PO extends on{constructor(e,t,i){super({width:e,height:t}),this.isFramebufferTexture=!0,this.format=i,this.magFilter=cn,this.minFilter=cn,this.generateMipmaps=!1,this.needsUpdate=!0}}class I_ extends on{constructor(e,t,i,r,s,o,a,u,f,h,d,p){super(null,o,a,u,f,h,r,s,d,p),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class LO extends I_{constructor(e,t,i,r,s,o){super(e,t,i,s,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=Kn}}class RO extends on{constructor(e,t,i,r,s,o,a,u,f){super(e,t,i,r,s,o,a,u,f),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Lr{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const i=this.getLengths();let r=0;const s=i.length;let o;t?o=t:o=e*i[s-1];let a=0,u=s-1,f;for(;a<=u;)if(r=Math.floor(a+(u-a)/2),f=i[r]-o,f<0)a=r+1;else if(f>0)u=r-1;else{u=r;break}if(r=u,i[r]===o)return r/(s-1);const h=i[r],p=i[r+1]-h,g=(o-h)/p;return(r+g)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),a=this.getPoint(s),u=t||(o.isVector2?new ge:new z);return u.copy(a).sub(o).normalize(),u}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t){const i=new z,r=[],s=[],o=[],a=new z,u=new st;for(let g=0;g<=e;g++){const y=g/e;r[g]=this.getTangentAt(y,new z)}s[0]=new z,o[0]=new z;let f=Number.MAX_VALUE;const h=Math.abs(r[0].x),d=Math.abs(r[0].y),p=Math.abs(r[0].z);h<=f&&(f=h,i.set(1,0,0)),d<=f&&(f=d,i.set(0,1,0)),p<=f&&i.set(0,0,1),a.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let g=1;g<=e;g++){if(s[g]=s[g-1].clone(),o[g]=o[g-1].clone(),a.crossVectors(r[g-1],r[g]),a.length()>Number.EPSILON){a.normalize();const y=Math.acos(dn(r[g-1].dot(r[g]),-1,1));s[g].applyMatrix4(u.makeRotationAxis(a,y))}o[g].crossVectors(r[g],s[g])}if(t===!0){let g=Math.acos(dn(s[0].dot(s[e]),-1,1));g/=e,r[0].dot(a.crossVectors(s[0],s[e]))>0&&(g=-g);for(let y=1;y<=e;y++)s[y].applyMatrix4(u.makeRotationAxis(r[y],g*y)),o[y].crossVectors(r[y],s[y])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class ag extends Lr{constructor(e=0,t=0,i=1,r=1,s=0,o=Math.PI*2,a=!1,u=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=u}getPoint(e,t){const i=t||new ge,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const a=this.aStartAngle+e*s;let u=this.aX+this.xRadius*Math.cos(a),f=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const h=Math.cos(this.aRotation),d=Math.sin(this.aRotation),p=u-this.aX,g=f-this.aY;u=p*h-g*d+this.aX,f=p*d+g*h+this.aY}return i.set(u,f)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class rP extends ag{constructor(e,t,i,r,s,o){super(e,t,i,i,r,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function D_(){let n=0,e=0,t=0,i=0;function r(s,o,a,u){n=s,e=a,t=-3*s+3*o-2*a-u,i=2*s-2*o+a+u}return{initCatmullRom:function(s,o,a,u,f){r(o,a,f*(a-s),f*(u-o))},initNonuniformCatmullRom:function(s,o,a,u,f,h,d){let p=(o-s)/f-(a-s)/(f+h)+(a-o)/h,g=(a-o)/h-(u-o)/(h+d)+(u-a)/d;p*=h,g*=h,r(o,a,p,g)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+i*a}}}const Kd=new z,Py=new D_,Ly=new D_,Ry=new D_;class sP extends Lr{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new z){const i=t,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),u=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:u===0&&a===s-1&&(a=s-2,u=1);let f,h;this.closed||a>0?f=r[(a-1)%s]:(Kd.subVectors(r[0],r[1]).add(r[0]),f=Kd);const d=r[a%s],p=r[(a+1)%s];if(this.closed||a+2<s?h=r[(a+2)%s]:(Kd.subVectors(r[s-1],r[s-2]).add(r[s-1]),h=Kd),this.curveType==="centripetal"||this.curveType==="chordal"){const g=this.curveType==="chordal"?.5:.25;let y=Math.pow(f.distanceToSquared(d),g),v=Math.pow(d.distanceToSquared(p),g),w=Math.pow(p.distanceToSquared(h),g);v<1e-4&&(v=1),y<1e-4&&(y=v),w<1e-4&&(w=v),Py.initNonuniformCatmullRom(f.x,d.x,p.x,h.x,y,v,w),Ly.initNonuniformCatmullRom(f.y,d.y,p.y,h.y,y,v,w),Ry.initNonuniformCatmullRom(f.z,d.z,p.z,h.z,y,v,w)}else this.curveType==="catmullrom"&&(Py.initCatmullRom(f.x,d.x,p.x,h.x,this.tension),Ly.initCatmullRom(f.y,d.y,p.y,h.y,this.tension),Ry.initCatmullRom(f.z,d.z,p.z,h.z,this.tension));return i.set(Py.calc(u),Ly.calc(u),Ry.calc(u)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new z().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function S3(n,e,t,i,r){const s=(i-e)*.5,o=(r-t)*.5,a=n*n,u=n*a;return(2*t-2*i+s+o)*u+(-3*t+3*i-2*s-o)*a+s*n+t}function IO(n,e){const t=1-n;return t*t*e}function DO(n,e){return 2*(1-n)*n*e}function kO(n,e){return n*n*e}function Bc(n,e,t,i){return IO(n,e)+DO(n,t)+kO(n,i)}function NO(n,e){const t=1-n;return t*t*t*e}function zO(n,e){const t=1-n;return 3*t*t*n*e}function OO(n,e){return 3*(1-n)*n*n*e}function FO(n,e){return n*n*n*e}function Uc(n,e,t,i,r){return NO(n,e)+zO(n,t)+OO(n,i)+FO(n,r)}class k_ extends Lr{constructor(e=new ge,t=new ge,i=new ge,r=new ge){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new ge){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(Uc(e,r.x,s.x,o.x,a.x),Uc(e,r.y,s.y,o.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class oP extends Lr{constructor(e=new z,t=new z,i=new z,r=new z){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new z){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(Uc(e,r.x,s.x,o.x,a.x),Uc(e,r.y,s.y,o.y,a.y),Uc(e,r.z,s.z,o.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class lg extends Lr{constructor(e=new ge,t=new ge){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new ge){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new ge){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class aP extends Lr{constructor(e=new z,t=new z){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new z){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new z){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class N_ extends Lr{constructor(e=new ge,t=new ge,i=new ge){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new ge){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(Bc(e,r.x,s.x,o.x),Bc(e,r.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class z_ extends Lr{constructor(e=new z,t=new z,i=new z){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new z){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(Bc(e,r.x,s.x,o.x),Bc(e,r.y,s.y,o.y),Bc(e,r.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class O_ extends Lr{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new ge){const i=t,r=this.points,s=(r.length-1)*e,o=Math.floor(s),a=s-o,u=r[o===0?o:o-1],f=r[o],h=r[o>r.length-2?r.length-1:o+1],d=r[o>r.length-3?r.length-1:o+2];return i.set(S3(a,u.x,f.x,h.x,d.x),S3(a,u.y,f.y,h.y,d.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new ge().fromArray(r))}return this}}var F_=Object.freeze({__proto__:null,ArcCurve:rP,CatmullRomCurve3:sP,CubicBezierCurve:k_,CubicBezierCurve3:oP,EllipseCurve:ag,LineCurve:lg,LineCurve3:aP,QuadraticBezierCurve:N_,QuadraticBezierCurve3:z_,SplineCurve:O_});class lP extends Lr{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new lg(t,e))}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const o=r[s]-i,a=this.curves[s],u=a.getLength(),f=u===0?0:1-o/u;return a.getPointAt(f,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,u=o.getPoints(a);for(let f=0;f<u.length;f++){const h=u[f];i&&i.equals(h)||(t.push(h),i=h)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new F_[r.type]().fromJSON(r))}return this}}class Mf extends lP{constructor(e){super(),this.type="Path",this.currentPoint=new ge,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new lg(this.currentPoint.clone(),new ge(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new N_(this.currentPoint.clone(),new ge(e,t),new ge(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,o){const a=new k_(this.currentPoint.clone(),new ge(e,t),new ge(i,r),new ge(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new O_(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,o){const a=this.currentPoint.x,u=this.currentPoint.y;return this.absarc(e+a,t+u,i,r,s,o),this}absarc(e,t,i,r,s,o){return this.absellipse(e,t,i,i,r,s,o),this}ellipse(e,t,i,r,s,o,a,u){const f=this.currentPoint.x,h=this.currentPoint.y;return this.absellipse(e+f,t+h,i,r,s,o,a,u),this}absellipse(e,t,i,r,s,o,a,u){const f=new ag(e,t,i,r,s,o,a,u);if(this.curves.length>0){const d=f.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(f);const h=f.getPoint(1);return this.currentPoint.copy(h),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Au extends ut{constructor(e=[new ge(0,-.5),new ge(.5,0),new ge(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=dn(r,0,Math.PI*2);const s=[],o=[],a=[],u=[],f=[],h=1/t,d=new z,p=new ge,g=new z,y=new z,v=new z;let w=0,M=0;for(let _=0;_<=e.length-1;_++)switch(_){case 0:w=e[_+1].x-e[_].x,M=e[_+1].y-e[_].y,g.x=M*1,g.y=-w,g.z=M*0,v.copy(g),g.normalize(),u.push(g.x,g.y,g.z);break;case e.length-1:u.push(v.x,v.y,v.z);break;default:w=e[_+1].x-e[_].x,M=e[_+1].y-e[_].y,g.x=M*1,g.y=-w,g.z=M*0,y.copy(g),g.x+=v.x,g.y+=v.y,g.z+=v.z,g.normalize(),u.push(g.x,g.y,g.z),v.copy(y)}for(let _=0;_<=t;_++){const S=i+_*h*r,T=Math.sin(S),C=Math.cos(S);for(let P=0;P<=e.length-1;P++){d.x=e[P].x*T,d.y=e[P].y,d.z=e[P].x*C,o.push(d.x,d.y,d.z),p.x=_/t,p.y=P/(e.length-1),a.push(p.x,p.y);const R=u[3*P+0]*T,b=u[3*P+1],L=u[3*P+0]*C;f.push(R,b,L)}}for(let _=0;_<t;_++)for(let S=0;S<e.length-1;S++){const T=S+_*e.length,C=T,P=T+e.length,R=T+e.length+1,b=T+1;s.push(C,P,b),s.push(R,b,P)}this.setIndex(s),this.setAttribute("position",new Be(o,3)),this.setAttribute("uv",new Be(a,2)),this.setAttribute("normal",new Be(f,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Au(e.points,e.segments,e.phiStart,e.phiLength)}}class Yf extends Au{constructor(e=1,t=1,i=4,r=8){const s=new Mf;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(i),r),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:i,radialSegments:r}}static fromJSON(e){return new Yf(e.radius,e.length,e.capSegments,e.radialSegments)}}class qf extends ut{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const s=[],o=[],a=[],u=[],f=new z,h=new ge;o.push(0,0,0),a.push(0,0,1),u.push(.5,.5);for(let d=0,p=3;d<=t;d++,p+=3){const g=i+d/t*r;f.x=e*Math.cos(g),f.y=e*Math.sin(g),o.push(f.x,f.y,f.z),a.push(0,0,1),h.x=(o[p]/e+1)/2,h.y=(o[p+1]/e+1)/2,u.push(h.x,h.y)}for(let d=1;d<=t;d++)s.push(d,d+1,0);this.setIndex(s),this.setAttribute("position",new Be(o,3)),this.setAttribute("normal",new Be(a,3)),this.setAttribute("uv",new Be(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new qf(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class ja extends ut{constructor(e=1,t=1,i=1,r=32,s=1,o=!1,a=0,u=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:u};const f=this;r=Math.floor(r),s=Math.floor(s);const h=[],d=[],p=[],g=[];let y=0;const v=[],w=i/2;let M=0;_(),o===!1&&(e>0&&S(!0),t>0&&S(!1)),this.setIndex(h),this.setAttribute("position",new Be(d,3)),this.setAttribute("normal",new Be(p,3)),this.setAttribute("uv",new Be(g,2));function _(){const T=new z,C=new z;let P=0;const R=(t-e)/i;for(let b=0;b<=s;b++){const L=[],D=b/s,V=D*(t-e)+e;for(let K=0;K<=r;K++){const Y=K/r,W=Y*u+a,J=Math.sin(W),ne=Math.cos(W);C.x=V*J,C.y=-D*i+w,C.z=V*ne,d.push(C.x,C.y,C.z),T.set(J,R,ne).normalize(),p.push(T.x,T.y,T.z),g.push(Y,1-D),L.push(y++)}v.push(L)}for(let b=0;b<r;b++)for(let L=0;L<s;L++){const D=v[L][b],V=v[L+1][b],K=v[L+1][b+1],Y=v[L][b+1];h.push(D,V,Y),h.push(V,K,Y),P+=6}f.addGroup(M,P,0),M+=P}function S(T){const C=y,P=new ge,R=new z;let b=0;const L=T===!0?e:t,D=T===!0?1:-1;for(let K=1;K<=r;K++)d.push(0,w*D,0),p.push(0,D,0),g.push(.5,.5),y++;const V=y;for(let K=0;K<=r;K++){const W=K/r*u+a,J=Math.cos(W),ne=Math.sin(W);R.x=L*ne,R.y=w*D,R.z=L*J,d.push(R.x,R.y,R.z),p.push(0,D,0),P.x=J*.5+.5,P.y=ne*.5*D+.5,g.push(P.x,P.y),y++}for(let K=0;K<r;K++){const Y=C+K,W=V+K;T===!0?h.push(W,W+1,Y):h.push(W+1,W,Y),b+=3}f.addGroup(M,b,T===!0?1:2),M+=b}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ja(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Jf extends ja{constructor(e=1,t=1,i=32,r=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,i,r,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new Jf(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Fs extends ut{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const s=[],o=[];a(r),f(i),h(),this.setAttribute("position",new Be(s,3)),this.setAttribute("normal",new Be(s.slice(),3)),this.setAttribute("uv",new Be(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function a(_){const S=new z,T=new z,C=new z;for(let P=0;P<t.length;P+=3)g(t[P+0],S),g(t[P+1],T),g(t[P+2],C),u(S,T,C,_)}function u(_,S,T,C){const P=C+1,R=[];for(let b=0;b<=P;b++){R[b]=[];const L=_.clone().lerp(T,b/P),D=S.clone().lerp(T,b/P),V=P-b;for(let K=0;K<=V;K++)K===0&&b===P?R[b][K]=L:R[b][K]=L.clone().lerp(D,K/V)}for(let b=0;b<P;b++)for(let L=0;L<2*(P-b)-1;L++){const D=Math.floor(L/2);L%2===0?(p(R[b][D+1]),p(R[b+1][D]),p(R[b][D])):(p(R[b][D+1]),p(R[b+1][D+1]),p(R[b+1][D]))}}function f(_){const S=new z;for(let T=0;T<s.length;T+=3)S.x=s[T+0],S.y=s[T+1],S.z=s[T+2],S.normalize().multiplyScalar(_),s[T+0]=S.x,s[T+1]=S.y,s[T+2]=S.z}function h(){const _=new z;for(let S=0;S<s.length;S+=3){_.x=s[S+0],_.y=s[S+1],_.z=s[S+2];const T=w(_)/2/Math.PI+.5,C=M(_)/Math.PI+.5;o.push(T,1-C)}y(),d()}function d(){for(let _=0;_<o.length;_+=6){const S=o[_+0],T=o[_+2],C=o[_+4],P=Math.max(S,T,C),R=Math.min(S,T,C);P>.9&&R<.1&&(S<.2&&(o[_+0]+=1),T<.2&&(o[_+2]+=1),C<.2&&(o[_+4]+=1))}}function p(_){s.push(_.x,_.y,_.z)}function g(_,S){const T=_*3;S.x=e[T+0],S.y=e[T+1],S.z=e[T+2]}function y(){const _=new z,S=new z,T=new z,C=new z,P=new ge,R=new ge,b=new ge;for(let L=0,D=0;L<s.length;L+=9,D+=6){_.set(s[L+0],s[L+1],s[L+2]),S.set(s[L+3],s[L+4],s[L+5]),T.set(s[L+6],s[L+7],s[L+8]),P.set(o[D+0],o[D+1]),R.set(o[D+2],o[D+3]),b.set(o[D+4],o[D+5]),C.copy(_).add(S).add(T).divideScalar(3);const V=w(C);v(P,D+0,_,V),v(R,D+2,S,V),v(b,D+4,T,V)}}function v(_,S,T,C){C<0&&_.x===1&&(o[S]=_.x-1),T.x===0&&T.z===0&&(o[S]=C/2/Math.PI+.5)}function w(_){return Math.atan2(_.z,-_.x)}function M(_){return Math.atan2(-_.y,Math.sqrt(_.x*_.x+_.z*_.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Fs(e.vertices,e.indices,e.radius,e.details)}}class Zf extends Fs{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Zf(e.radius,e.detail)}}const $d=new z,ep=new z,Iy=new z,tp=new rr;class uP extends ut{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),s=Math.cos(Ca*t),o=e.getIndex(),a=e.getAttribute("position"),u=o?o.count:a.count,f=[0,0,0],h=["a","b","c"],d=new Array(3),p={},g=[];for(let y=0;y<u;y+=3){o?(f[0]=o.getX(y),f[1]=o.getX(y+1),f[2]=o.getX(y+2)):(f[0]=y,f[1]=y+1,f[2]=y+2);const{a:v,b:w,c:M}=tp;if(v.fromBufferAttribute(a,f[0]),w.fromBufferAttribute(a,f[1]),M.fromBufferAttribute(a,f[2]),tp.getNormal(Iy),d[0]=`${Math.round(v.x*r)},${Math.round(v.y*r)},${Math.round(v.z*r)}`,d[1]=`${Math.round(w.x*r)},${Math.round(w.y*r)},${Math.round(w.z*r)}`,d[2]=`${Math.round(M.x*r)},${Math.round(M.y*r)},${Math.round(M.z*r)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let _=0;_<3;_++){const S=(_+1)%3,T=d[_],C=d[S],P=tp[h[_]],R=tp[h[S]],b=`${T}_${C}`,L=`${C}_${T}`;L in p&&p[L]?(Iy.dot(p[L].normal)<=s&&(g.push(P.x,P.y,P.z),g.push(R.x,R.y,R.z)),p[L]=null):b in p||(p[b]={index0:f[_],index1:f[S],normal:Iy.clone()})}}for(const y in p)if(p[y]){const{index0:v,index1:w}=p[y];$d.fromBufferAttribute(a,v),ep.fromBufferAttribute(a,w),g.push($d.x,$d.y,$d.z),g.push(ep.x,ep.y,ep.z)}this.setAttribute("position",new Be(g,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class La extends Mf{constructor(e){super(e),this.uuid=Oi(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new Mf().fromJSON(r))}return this}}const BO={triangulate:function(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=cP(n,0,r,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,u,f,h,d,p,g;if(i&&(s=WO(n,e,s,t)),n.length>80*t){a=f=n[0],u=h=n[1];for(let y=t;y<r;y+=t)d=n[y],p=n[y+1],d<a&&(a=d),p<u&&(u=p),d>f&&(f=d),p>h&&(h=p);g=Math.max(f-a,h-u),g=g!==0?32767/g:0}return Ef(s,o,t,a,u,g,0),o}};function cP(n,e,t,i,r){let s,o;if(r===tF(n,e,t,i)>0)for(s=e;s<t;s+=i)o=M3(s,n[s],n[s+1],o);else for(s=t-i;s>=e;s-=i)o=M3(s,n[s],n[s+1],o);return o&&ug(o,o.next)&&(Af(o),o=o.next),o}function Fa(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(ug(t,t.next)||Yt(t.prev,t,t.next)===0)){if(Af(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function Ef(n,e,t,i,r,s,o){if(!n)return;!o&&s&&qO(n,i,r,s);let a=n,u,f;for(;n.prev!==n.next;){if(u=n.prev,f=n.next,s?VO(n,i,r,s):UO(n)){e.push(u.i/t|0),e.push(n.i/t|0),e.push(f.i/t|0),Af(n),n=f.next,a=f.next;continue}if(n=f,n===a){o?o===1?(n=HO(Fa(n),e,t),Ef(n,e,t,i,r,s,2)):o===2&&GO(n,e,t,i,r,s):Ef(Fa(n),e,t,i,r,s,1);break}}}function UO(n){const e=n.prev,t=n,i=n.next;if(Yt(e,t,i)>=0)return!1;const r=e.x,s=t.x,o=i.x,a=e.y,u=t.y,f=i.y,h=r<s?r<o?r:o:s<o?s:o,d=a<u?a<f?a:f:u<f?u:f,p=r>s?r>o?r:o:s>o?s:o,g=a>u?a>f?a:f:u>f?u:f;let y=i.next;for(;y!==e;){if(y.x>=h&&y.x<=p&&y.y>=d&&y.y<=g&&Yl(r,a,s,u,o,f,y.x,y.y)&&Yt(y.prev,y,y.next)>=0)return!1;y=y.next}return!0}function VO(n,e,t,i){const r=n.prev,s=n,o=n.next;if(Yt(r,s,o)>=0)return!1;const a=r.x,u=s.x,f=o.x,h=r.y,d=s.y,p=o.y,g=a<u?a<f?a:f:u<f?u:f,y=h<d?h<p?h:p:d<p?d:p,v=a>u?a>f?a:f:u>f?u:f,w=h>d?h>p?h:p:d>p?d:p,M=O1(g,y,e,t,i),_=O1(v,w,e,t,i);let S=n.prevZ,T=n.nextZ;for(;S&&S.z>=M&&T&&T.z<=_;){if(S.x>=g&&S.x<=v&&S.y>=y&&S.y<=w&&S!==r&&S!==o&&Yl(a,h,u,d,f,p,S.x,S.y)&&Yt(S.prev,S,S.next)>=0||(S=S.prevZ,T.x>=g&&T.x<=v&&T.y>=y&&T.y<=w&&T!==r&&T!==o&&Yl(a,h,u,d,f,p,T.x,T.y)&&Yt(T.prev,T,T.next)>=0))return!1;T=T.nextZ}for(;S&&S.z>=M;){if(S.x>=g&&S.x<=v&&S.y>=y&&S.y<=w&&S!==r&&S!==o&&Yl(a,h,u,d,f,p,S.x,S.y)&&Yt(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;T&&T.z<=_;){if(T.x>=g&&T.x<=v&&T.y>=y&&T.y<=w&&T!==r&&T!==o&&Yl(a,h,u,d,f,p,T.x,T.y)&&Yt(T.prev,T,T.next)>=0)return!1;T=T.nextZ}return!0}function HO(n,e,t){let i=n;do{const r=i.prev,s=i.next.next;!ug(r,s)&&fP(r,i,i.next,s)&&Tf(r,s)&&Tf(s,r)&&(e.push(r.i/t|0),e.push(i.i/t|0),e.push(s.i/t|0),Af(i),Af(i.next),i=n=s),i=i.next}while(i!==n);return Fa(i)}function GO(n,e,t,i,r,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&KO(o,a)){let u=hP(o,a);o=Fa(o,o.next),u=Fa(u,u.next),Ef(o,e,t,i,r,s,0),Ef(u,e,t,i,r,s,0);return}a=a.next}o=o.next}while(o!==n)}function WO(n,e,t,i){const r=[];let s,o,a,u,f;for(s=0,o=e.length;s<o;s++)a=e[s]*i,u=s<o-1?e[s+1]*i:n.length,f=cP(n,a,u,i,!1),f===f.next&&(f.steiner=!0),r.push(ZO(f));for(r.sort(jO),s=0;s<r.length;s++)t=XO(r[s],t);return t}function jO(n,e){return n.x-e.x}function XO(n,e){const t=QO(n,e);if(!t)return e;const i=hP(t,n);return Fa(i,i.next),Fa(t,t.next)}function QO(n,e){let t=e,i=-1/0,r;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const p=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=s&&p>i&&(i=p,r=t.x<t.next.x?t:t.next,p===s))return r}t=t.next}while(t!==e);if(!r)return null;const a=r,u=r.x,f=r.y;let h=1/0,d;t=r;do s>=t.x&&t.x>=u&&s!==t.x&&Yl(o<f?s:i,o,u,f,o<f?i:s,o,t.x,t.y)&&(d=Math.abs(o-t.y)/(s-t.x),Tf(t,n)&&(d<h||d===h&&(t.x>r.x||t.x===r.x&&YO(r,t)))&&(r=t,h=d)),t=t.next;while(t!==a);return r}function YO(n,e){return Yt(n.prev,n,e.prev)<0&&Yt(e.next,n,n.next)<0}function qO(n,e,t,i){let r=n;do r.z===0&&(r.z=O1(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,JO(r)}function JO(n){let e,t,i,r,s,o,a,u,f=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,i=t,a=0,e=0;e<f&&(a++,i=i.nextZ,!!i);e++);for(u=f;a>0||u>0&&i;)a!==0&&(u===0||!i||t.z<=i.z)?(r=t,t=t.nextZ,a--):(r=i,i=i.nextZ,u--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;t=i}s.nextZ=null,f*=2}while(o>1);return n}function O1(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function ZO(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Yl(n,e,t,i,r,s,o,a){return(r-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(i-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(r-o)*(i-a)}function KO(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!$O(n,e)&&(Tf(n,e)&&Tf(e,n)&&eF(n,e)&&(Yt(n.prev,n,e.prev)||Yt(n,e.prev,e))||ug(n,e)&&Yt(n.prev,n,n.next)>0&&Yt(e.prev,e,e.next)>0)}function Yt(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function ug(n,e){return n.x===e.x&&n.y===e.y}function fP(n,e,t,i){const r=ip(Yt(n,e,t)),s=ip(Yt(n,e,i)),o=ip(Yt(t,i,n)),a=ip(Yt(t,i,e));return!!(r!==s&&o!==a||r===0&&np(n,t,e)||s===0&&np(n,i,e)||o===0&&np(t,n,i)||a===0&&np(t,e,i))}function np(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function ip(n){return n>0?1:n<0?-1:0}function $O(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&fP(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function Tf(n,e){return Yt(n.prev,n,n.next)<0?Yt(n,e,n.next)>=0&&Yt(n,n.prev,e)>=0:Yt(n,e,n.prev)<0||Yt(n,n.next,e)<0}function eF(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function hP(n,e){const t=new F1(n.i,n.x,n.y),i=new F1(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function M3(n,e,t,i){const r=new F1(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Af(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function F1(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function tF(n,e,t,i){let r=0;for(let s=e,o=t-i;s<t;s+=i)r+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return r}class Yr{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return Yr.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];E3(e),T3(i,e);let o=e.length;t.forEach(E3);for(let u=0;u<t.length;u++)r.push(o),o+=t[u].length,T3(i,t[u]);const a=BO.triangulate(i,r);for(let u=0;u<a.length;u+=3)s.push(a.slice(u,u+3));return s}}function E3(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function T3(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class Kf extends ut{constructor(e=new La([new ge(.5,.5),new ge(-.5,.5),new ge(-.5,-.5),new ge(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let a=0,u=e.length;a<u;a++){const f=e[a];o(f)}this.setAttribute("position",new Be(r,3)),this.setAttribute("uv",new Be(s,2)),this.computeVertexNormals();function o(a){const u=[],f=t.curveSegments!==void 0?t.curveSegments:12,h=t.steps!==void 0?t.steps:1,d=t.depth!==void 0?t.depth:1;let p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,g=t.bevelThickness!==void 0?t.bevelThickness:.2,y=t.bevelSize!==void 0?t.bevelSize:g-.1,v=t.bevelOffset!==void 0?t.bevelOffset:0,w=t.bevelSegments!==void 0?t.bevelSegments:3;const M=t.extrudePath,_=t.UVGenerator!==void 0?t.UVGenerator:nF;let S,T=!1,C,P,R,b;M&&(S=M.getSpacedPoints(h),T=!0,p=!1,C=M.computeFrenetFrames(h,!1),P=new z,R=new z,b=new z),p||(w=0,g=0,y=0,v=0);const L=a.extractPoints(f);let D=L.shape;const V=L.holes;if(!Yr.isClockWise(D)){D=D.reverse();for(let he=0,pe=V.length;he<pe;he++){const Ee=V[he];Yr.isClockWise(Ee)&&(V[he]=Ee.reverse())}}const Y=Yr.triangulateShape(D,V),W=D;for(let he=0,pe=V.length;he<pe;he++){const Ee=V[he];D=D.concat(Ee)}function J(he,pe,Ee){return pe||console.error("THREE.ExtrudeGeometry: vec does not exist"),he.clone().addScaledVector(pe,Ee)}const ne=D.length,fe=Y.length;function I(he,pe,Ee){let He,Ae,$e;const Xe=he.x-pe.x,et=he.y-pe.y,St=Ee.x-he.x,bt=Ee.y-he.y,F=Xe*Xe+et*et,k=Xe*bt-et*St;if(Math.abs(k)>Number.EPSILON){const re=Math.sqrt(F),Se=Math.sqrt(St*St+bt*bt),Me=pe.x-et/re,Ce=pe.y+Xe/re,je=Ee.x-bt/Se,Le=Ee.y+St/Se,de=((je-Me)*bt-(Le-Ce)*St)/(Xe*bt-et*St);He=Me+Xe*de-he.x,Ae=Ce+et*de-he.y;const qe=He*He+Ae*Ae;if(qe<=2)return new ge(He,Ae);$e=Math.sqrt(qe/2)}else{let re=!1;Xe>Number.EPSILON?St>Number.EPSILON&&(re=!0):Xe<-Number.EPSILON?St<-Number.EPSILON&&(re=!0):Math.sign(et)===Math.sign(bt)&&(re=!0),re?(He=-et,Ae=Xe,$e=Math.sqrt(F)):(He=Xe,Ae=et,$e=Math.sqrt(F/2))}return new ge(He/$e,Ae/$e)}const B=[];for(let he=0,pe=W.length,Ee=pe-1,He=he+1;he<pe;he++,Ee++,He++)Ee===pe&&(Ee=0),He===pe&&(He=0),B[he]=I(W[he],W[Ee],W[He]);const U=[];let te,H=B.concat();for(let he=0,pe=V.length;he<pe;he++){const Ee=V[he];te=[];for(let He=0,Ae=Ee.length,$e=Ae-1,Xe=He+1;He<Ae;He++,$e++,Xe++)$e===Ae&&($e=0),Xe===Ae&&(Xe=0),te[He]=I(Ee[He],Ee[$e],Ee[Xe]);U.push(te),H=H.concat(te)}for(let he=0;he<w;he++){const pe=he/w,Ee=g*Math.cos(pe*Math.PI/2),He=y*Math.sin(pe*Math.PI/2)+v;for(let Ae=0,$e=W.length;Ae<$e;Ae++){const Xe=J(W[Ae],B[Ae],He);_e(Xe.x,Xe.y,-Ee)}for(let Ae=0,$e=V.length;Ae<$e;Ae++){const Xe=V[Ae];te=U[Ae];for(let et=0,St=Xe.length;et<St;et++){const bt=J(Xe[et],te[et],He);_e(bt.x,bt.y,-Ee)}}}const ue=y+v;for(let he=0;he<ne;he++){const pe=p?J(D[he],H[he],ue):D[he];T?(R.copy(C.normals[0]).multiplyScalar(pe.x),P.copy(C.binormals[0]).multiplyScalar(pe.y),b.copy(S[0]).add(R).add(P),_e(b.x,b.y,b.z)):_e(pe.x,pe.y,0)}for(let he=1;he<=h;he++)for(let pe=0;pe<ne;pe++){const Ee=p?J(D[pe],H[pe],ue):D[pe];T?(R.copy(C.normals[he]).multiplyScalar(Ee.x),P.copy(C.binormals[he]).multiplyScalar(Ee.y),b.copy(S[he]).add(R).add(P),_e(b.x,b.y,b.z)):_e(Ee.x,Ee.y,d/h*he)}for(let he=w-1;he>=0;he--){const pe=he/w,Ee=g*Math.cos(pe*Math.PI/2),He=y*Math.sin(pe*Math.PI/2)+v;for(let Ae=0,$e=W.length;Ae<$e;Ae++){const Xe=J(W[Ae],B[Ae],He);_e(Xe.x,Xe.y,d+Ee)}for(let Ae=0,$e=V.length;Ae<$e;Ae++){const Xe=V[Ae];te=U[Ae];for(let et=0,St=Xe.length;et<St;et++){const bt=J(Xe[et],te[et],He);T?_e(bt.x,bt.y+S[h-1].y,S[h-1].x+Ee):_e(bt.x,bt.y,d+Ee)}}}me(),q();function me(){const he=r.length/3;if(p){let pe=0,Ee=ne*pe;for(let He=0;He<fe;He++){const Ae=Y[He];ke(Ae[2]+Ee,Ae[1]+Ee,Ae[0]+Ee)}pe=h+w*2,Ee=ne*pe;for(let He=0;He<fe;He++){const Ae=Y[He];ke(Ae[0]+Ee,Ae[1]+Ee,Ae[2]+Ee)}}else{for(let pe=0;pe<fe;pe++){const Ee=Y[pe];ke(Ee[2],Ee[1],Ee[0])}for(let pe=0;pe<fe;pe++){const Ee=Y[pe];ke(Ee[0]+ne*h,Ee[1]+ne*h,Ee[2]+ne*h)}}i.addGroup(he,r.length/3-he,0)}function q(){const he=r.length/3;let pe=0;xe(W,pe),pe+=W.length;for(let Ee=0,He=V.length;Ee<He;Ee++){const Ae=V[Ee];xe(Ae,pe),pe+=Ae.length}i.addGroup(he,r.length/3-he,1)}function xe(he,pe){let Ee=he.length;for(;--Ee>=0;){const He=Ee;let Ae=Ee-1;Ae<0&&(Ae=he.length-1);for(let $e=0,Xe=h+w*2;$e<Xe;$e++){const et=ne*$e,St=ne*($e+1),bt=pe+He+et,F=pe+Ae+et,k=pe+Ae+St,re=pe+He+St;ze(bt,F,k,re)}}}function _e(he,pe,Ee){u.push(he),u.push(pe),u.push(Ee)}function ke(he,pe,Ee){Oe(he),Oe(pe),Oe(Ee);const He=r.length/3,Ae=_.generateTopUV(i,r,He-3,He-2,He-1);Ve(Ae[0]),Ve(Ae[1]),Ve(Ae[2])}function ze(he,pe,Ee,He){Oe(he),Oe(pe),Oe(He),Oe(pe),Oe(Ee),Oe(He);const Ae=r.length/3,$e=_.generateSideWallUV(i,r,Ae-6,Ae-3,Ae-2,Ae-1);Ve($e[0]),Ve($e[1]),Ve($e[3]),Ve($e[1]),Ve($e[2]),Ve($e[3])}function Oe(he){r.push(u[he*3+0]),r.push(u[he*3+1]),r.push(u[he*3+2])}function Ve(he){s.push(he.x),s.push(he.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return iF(t,i,e)}static fromJSON(e,t){const i=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];i.push(a)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new F_[r.type]().fromJSON(r)),new Kf(i,e.options)}}const nF={generateTopUV:function(n,e,t,i,r){const s=e[t*3],o=e[t*3+1],a=e[i*3],u=e[i*3+1],f=e[r*3],h=e[r*3+1];return[new ge(s,o),new ge(a,u),new ge(f,h)]},generateSideWallUV:function(n,e,t,i,r,s){const o=e[t*3],a=e[t*3+1],u=e[t*3+2],f=e[i*3],h=e[i*3+1],d=e[i*3+2],p=e[r*3],g=e[r*3+1],y=e[r*3+2],v=e[s*3],w=e[s*3+1],M=e[s*3+2];return Math.abs(a-h)<Math.abs(o-f)?[new ge(o,1-u),new ge(f,1-d),new ge(p,1-y),new ge(v,1-M)]:[new ge(a,1-u),new ge(h,1-d),new ge(g,1-y),new ge(w,1-M)]}};function iF(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const s=n[i];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class $f extends Fs{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new $f(e.radius,e.detail)}}class bu extends Fs{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new bu(e.radius,e.detail)}}class eh extends ut{constructor(e=.5,t=1,i=32,r=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:o},i=Math.max(3,i),r=Math.max(1,r);const a=[],u=[],f=[],h=[];let d=e;const p=(t-e)/r,g=new z,y=new ge;for(let v=0;v<=r;v++){for(let w=0;w<=i;w++){const M=s+w/i*o;g.x=d*Math.cos(M),g.y=d*Math.sin(M),u.push(g.x,g.y,g.z),f.push(0,0,1),y.x=(g.x/t+1)/2,y.y=(g.y/t+1)/2,h.push(y.x,y.y)}d+=p}for(let v=0;v<r;v++){const w=v*(i+1);for(let M=0;M<i;M++){const _=M+w,S=_,T=_+i+1,C=_+i+2,P=_+1;a.push(S,T,P),a.push(T,C,P)}}this.setIndex(a),this.setAttribute("position",new Be(u,3)),this.setAttribute("normal",new Be(f,3)),this.setAttribute("uv",new Be(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new eh(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class th extends ut{constructor(e=new La([new ge(0,.5),new ge(-.5,-.5),new ge(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],s=[],o=[];let a=0,u=0;if(Array.isArray(e)===!1)f(e);else for(let h=0;h<e.length;h++)f(e[h]),this.addGroup(a,u,h),a+=u,u=0;this.setIndex(i),this.setAttribute("position",new Be(r,3)),this.setAttribute("normal",new Be(s,3)),this.setAttribute("uv",new Be(o,2));function f(h){const d=r.length/3,p=h.extractPoints(t);let g=p.shape;const y=p.holes;Yr.isClockWise(g)===!1&&(g=g.reverse());for(let w=0,M=y.length;w<M;w++){const _=y[w];Yr.isClockWise(_)===!0&&(y[w]=_.reverse())}const v=Yr.triangulateShape(g,y);for(let w=0,M=y.length;w<M;w++){const _=y[w];g=g.concat(_)}for(let w=0,M=g.length;w<M;w++){const _=g[w];r.push(_.x,_.y,0),s.push(0,0,1),o.push(_.x,_.y)}for(let w=0,M=v.length;w<M;w++){const _=v[w],S=_[0]+d,T=_[1]+d,C=_[2]+d;i.push(S,T,C),u+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return rF(t,e)}static fromJSON(e,t){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const o=t[e.shapes[r]];i.push(o)}return new th(i,e.curveSegments)}}function rF(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class Cu extends ut{constructor(e=1,t=32,i=16,r=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const u=Math.min(o+a,Math.PI);let f=0;const h=[],d=new z,p=new z,g=[],y=[],v=[],w=[];for(let M=0;M<=i;M++){const _=[],S=M/i;let T=0;M==0&&o==0?T=.5/t:M==i&&u==Math.PI&&(T=-.5/t);for(let C=0;C<=t;C++){const P=C/t;d.x=-e*Math.cos(r+P*s)*Math.sin(o+S*a),d.y=e*Math.cos(o+S*a),d.z=e*Math.sin(r+P*s)*Math.sin(o+S*a),y.push(d.x,d.y,d.z),p.copy(d).normalize(),v.push(p.x,p.y,p.z),w.push(P+T,1-S),_.push(f++)}h.push(_)}for(let M=0;M<i;M++)for(let _=0;_<t;_++){const S=h[M][_+1],T=h[M][_],C=h[M+1][_],P=h[M+1][_+1];(M!==0||o>0)&&g.push(S,T,P),(M!==i-1||u<Math.PI)&&g.push(T,C,P)}this.setIndex(g),this.setAttribute("position",new Be(y,3)),this.setAttribute("normal",new Be(v,3)),this.setAttribute("uv",new Be(w,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Cu(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class nh extends Fs{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new nh(e.radius,e.detail)}}class ih extends ut{constructor(e=1,t=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const o=[],a=[],u=[],f=[],h=new z,d=new z,p=new z;for(let g=0;g<=i;g++)for(let y=0;y<=r;y++){const v=y/r*s,w=g/i*Math.PI*2;d.x=(e+t*Math.cos(w))*Math.cos(v),d.y=(e+t*Math.cos(w))*Math.sin(v),d.z=t*Math.sin(w),a.push(d.x,d.y,d.z),h.x=e*Math.cos(v),h.y=e*Math.sin(v),p.subVectors(d,h).normalize(),u.push(p.x,p.y,p.z),f.push(y/r),f.push(g/i)}for(let g=1;g<=i;g++)for(let y=1;y<=r;y++){const v=(r+1)*g+y-1,w=(r+1)*(g-1)+y-1,M=(r+1)*(g-1)+y,_=(r+1)*g+y;o.push(v,w,_),o.push(w,M,_)}this.setIndex(o),this.setAttribute("position",new Be(a,3)),this.setAttribute("normal",new Be(u,3)),this.setAttribute("uv",new Be(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ih(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class rh extends ut{constructor(e=1,t=.4,i=64,r=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:s,q:o},i=Math.floor(i),r=Math.floor(r);const a=[],u=[],f=[],h=[],d=new z,p=new z,g=new z,y=new z,v=new z,w=new z,M=new z;for(let S=0;S<=i;++S){const T=S/i*s*Math.PI*2;_(T,s,o,e,g),_(T+.01,s,o,e,y),w.subVectors(y,g),M.addVectors(y,g),v.crossVectors(w,M),M.crossVectors(v,w),v.normalize(),M.normalize();for(let C=0;C<=r;++C){const P=C/r*Math.PI*2,R=-t*Math.cos(P),b=t*Math.sin(P);d.x=g.x+(R*M.x+b*v.x),d.y=g.y+(R*M.y+b*v.y),d.z=g.z+(R*M.z+b*v.z),u.push(d.x,d.y,d.z),p.subVectors(d,g).normalize(),f.push(p.x,p.y,p.z),h.push(S/i),h.push(C/r)}}for(let S=1;S<=i;S++)for(let T=1;T<=r;T++){const C=(r+1)*(S-1)+(T-1),P=(r+1)*S+(T-1),R=(r+1)*S+T,b=(r+1)*(S-1)+T;a.push(C,P,b),a.push(P,R,b)}this.setIndex(a),this.setAttribute("position",new Be(u,3)),this.setAttribute("normal",new Be(f,3)),this.setAttribute("uv",new Be(h,2));function _(S,T,C,P,R){const b=Math.cos(S),L=Math.sin(S),D=C/T*S,V=Math.cos(D);R.x=P*(2+V)*.5*b,R.y=P*(2+V)*L*.5,R.z=P*Math.sin(D)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new rh(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class sh extends ut{constructor(e=new z_(new z(-1,-1,0),new z(-1,1,0),new z(1,1,0)),t=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new z,u=new z,f=new ge;let h=new z;const d=[],p=[],g=[],y=[];v(),this.setIndex(y),this.setAttribute("position",new Be(d,3)),this.setAttribute("normal",new Be(p,3)),this.setAttribute("uv",new Be(g,2));function v(){for(let S=0;S<t;S++)w(S);w(s===!1?t:0),_(),M()}function w(S){h=e.getPointAt(S/t,h);const T=o.normals[S],C=o.binormals[S];for(let P=0;P<=r;P++){const R=P/r*Math.PI*2,b=Math.sin(R),L=-Math.cos(R);u.x=L*T.x+b*C.x,u.y=L*T.y+b*C.y,u.z=L*T.z+b*C.z,u.normalize(),p.push(u.x,u.y,u.z),a.x=h.x+i*u.x,a.y=h.y+i*u.y,a.z=h.z+i*u.z,d.push(a.x,a.y,a.z)}}function M(){for(let S=1;S<=t;S++)for(let T=1;T<=r;T++){const C=(r+1)*(S-1)+(T-1),P=(r+1)*S+(T-1),R=(r+1)*S+T,b=(r+1)*(S-1)+T;y.push(C,P,b),y.push(P,R,b)}}function _(){for(let S=0;S<=t;S++)for(let T=0;T<=r;T++)f.x=S/t,f.y=T/r,g.push(f.x,f.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new sh(new F_[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class dP extends ut{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new z,s=new z;if(e.index!==null){const o=e.attributes.position,a=e.index;let u=e.groups;u.length===0&&(u=[{start:0,count:a.count,materialIndex:0}]);for(let f=0,h=u.length;f<h;++f){const d=u[f],p=d.start,g=d.count;for(let y=p,v=p+g;y<v;y+=3)for(let w=0;w<3;w++){const M=a.getX(y+w),_=a.getX(y+(w+1)%3);r.fromBufferAttribute(o,M),s.fromBufferAttribute(o,_),A3(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,u=o.count/3;a<u;a++)for(let f=0;f<3;f++){const h=3*a+f,d=3*a+(f+1)%3;r.fromBufferAttribute(o,h),s.fromBufferAttribute(o,d),A3(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new Be(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function A3(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var b3=Object.freeze({__proto__:null,BoxGeometry:Fo,CapsuleGeometry:Yf,CircleGeometry:qf,ConeGeometry:Jf,CylinderGeometry:ja,DodecahedronGeometry:Zf,EdgesGeometry:uP,ExtrudeGeometry:Kf,IcosahedronGeometry:$f,LatheGeometry:Au,OctahedronGeometry:bu,PlaneGeometry:Eu,PolyhedronGeometry:Fs,RingGeometry:eh,ShapeGeometry:th,SphereGeometry:Cu,TetrahedronGeometry:nh,TorusGeometry:ih,TorusKnotGeometry:rh,TubeGeometry:sh,WireframeGeometry:dP});class pP extends Un{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Ie(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class mP extends Jr{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class B_ extends Un{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Ie(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ie(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=zo,this.normalScale=new ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class gP extends B_{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ge(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return dn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Ie(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Ie(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Ie(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class yP extends Un{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Ie(16777215),this.specular=new Ie(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ie(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=zo,this.normalScale=new ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Hf,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class vP extends Un{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ie(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ie(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=zo,this.normalScale=new ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class xP extends Un{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=zo,this.normalScale=new ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class _P extends Un{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Ie(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ie(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=zo,this.normalScale=new ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Hf,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class wP extends Un{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ie(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=zo,this.normalScale=new ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class SP extends di{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function tr(n,e,t){return U_(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)}function wa(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function U_(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function MP(n){function e(r,s){return n[r]-n[s]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function B1(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,o=0;o!==i;++s){const a=t[s]*e;for(let u=0;u!==e;++u)r[o++]=n[a+u]}return r}function V_(n,e,t,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let o=s[i];if(o!==void 0)if(Array.isArray(o))do o=s[i],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[i],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[r++];while(s!==void 0);else do o=s[i],o!==void 0&&(e.push(s.time),t.push(o)),s=n[r++];while(s!==void 0)}function sF(n,e,t,i,r=30){const s=n.clone();s.name=e;const o=[];for(let u=0;u<s.tracks.length;++u){const f=s.tracks[u],h=f.getValueSize(),d=[],p=[];for(let g=0;g<f.times.length;++g){const y=f.times[g]*r;if(!(y<t||y>=i)){d.push(f.times[g]);for(let v=0;v<h;++v)p.push(f.values[g*h+v])}}d.length!==0&&(f.times=wa(d,f.times.constructor),f.values=wa(p,f.values.constructor),o.push(f))}s.tracks=o;let a=1/0;for(let u=0;u<s.tracks.length;++u)a>s.tracks[u].times[0]&&(a=s.tracks[u].times[0]);for(let u=0;u<s.tracks.length;++u)s.tracks[u].shift(-1*a);return s.resetDuration(),s}function oF(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,s=e/i;for(let o=0;o<r;++o){const a=t.tracks[o],u=a.ValueTypeName;if(u==="bool"||u==="string")continue;const f=n.tracks.find(function(M){return M.name===a.name&&M.ValueTypeName===u});if(f===void 0)continue;let h=0;const d=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=d/3);let p=0;const g=f.getValueSize();f.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=g/3);const y=a.times.length-1;let v;if(s<=a.times[0]){const M=h,_=d-h;v=tr(a.values,M,_)}else if(s>=a.times[y]){const M=y*d+h,_=M+d-h;v=tr(a.values,M,_)}else{const M=a.createInterpolant(),_=h,S=d-h;M.evaluate(s),v=tr(M.resultBuffer,_,S)}u==="quaternion"&&new Ti().fromArray(v).normalize().conjugate().toArray(v);const w=f.times.length;for(let M=0;M<w;++M){const _=M*g+p;if(u==="quaternion")Ti.multiplyQuaternionsFlat(f.values,_,v,0,f.values,_);else{const S=g-p*2;for(let T=0;T<S;++T)f.values[_+T]-=v[T]}}}return n.blendMode=y_,n}const aF={arraySlice:tr,convertArray:wa,isTypedArray:U_,getKeyframeOrder:MP,sortedArray:B1,flattenJSON:V_,subclip:sF,makeClipAdditive:oF};class oh{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=i+2;;){if(r===void 0){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(s=r,r=t[++i],e<r)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(i=2,s=a);for(let u=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===u)break;if(r=s,s=t[--i-1],e>=s)break t}o=i,i=0;break n}break e}for(;i<o;){const a=i+o>>>1;e<t[a]?o=a:i=a+1}if(r=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)t[o]=i[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class EP extends oh{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:va,endingEnd:va}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],u=r[o];if(a===void 0)switch(this.getSettings_().endingStart){case xa:s=e,a=2*t-i;break;case xf:s=r.length-2,a=t+r[s]-r[s+1];break;default:s=e,a=i}if(u===void 0)switch(this.getSettings_().endingEnd){case xa:o=e,u=2*i-t;break;case xf:o=1,u=i+r[1]-r[0];break;default:o=e-1,u=t}const f=(i-t)*.5,h=this.valueSize;this._weightPrev=f/(t-a),this._weightNext=f/(u-i),this._offsetPrev=s*h,this._offsetNext=o*h}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,u=e*a,f=u-a,h=this._offsetPrev,d=this._offsetNext,p=this._weightPrev,g=this._weightNext,y=(i-t)/(r-t),v=y*y,w=v*y,M=-p*w+2*p*v-p*y,_=(1+p)*w+(-1.5-2*p)*v+(-.5+p)*y+1,S=(-1-g)*w+(1.5+g)*v+.5*y,T=g*w-g*v;for(let C=0;C!==a;++C)s[C]=M*o[h+C]+_*o[f+C]+S*o[u+C]+T*o[d+C];return s}}class H_ extends oh{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,u=e*a,f=u-a,h=(i-t)/(r-t),d=1-h;for(let p=0;p!==a;++p)s[p]=o[f+p]*d+o[u+p]*h;return s}}class TP extends oh{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Rr{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=wa(t,this.TimeBufferType),this.values=wa(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:wa(e.times,Array),values:wa(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new TP(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new H_(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new EP(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case yf:t=this.InterpolantFactoryMethodDiscrete;break;case vf:t=this.InterpolantFactoryMethodLinear;break;case zp:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return yf;case this.InterpolantFactoryMethodLinear:return vf;case this.InterpolantFactoryMethodSmooth:return zp}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;o!==-1&&i[o]>t;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=tr(i,s,o),this.values=tr(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const u=i[a];if(typeof u=="number"&&isNaN(u)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,u),e=!1;break}if(o!==null&&o>u){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,u,o),e=!1;break}o=u}if(r!==void 0&&U_(r))for(let a=0,u=r.length;a!==u;++a){const f=r[a];if(isNaN(f)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,f),e=!1;break}}return e}optimize(){const e=tr(this.times),t=tr(this.values),i=this.getValueSize(),r=this.getInterpolation()===zp,s=e.length-1;let o=1;for(let a=1;a<s;++a){let u=!1;const f=e[a],h=e[a+1];if(f!==h&&(a!==1||f!==e[0]))if(r)u=!0;else{const d=a*i,p=d-i,g=d+i;for(let y=0;y!==i;++y){const v=t[d+y];if(v!==t[p+y]||v!==t[g+y]){u=!0;break}}}if(u){if(a!==o){e[o]=e[a];const d=a*i,p=o*i;for(let g=0;g!==i;++g)t[p+g]=t[d+g]}++o}}if(s>0){e[o]=e[s];for(let a=s*i,u=o*i,f=0;f!==i;++f)t[u+f]=t[a+f];++o}return o!==e.length?(this.times=tr(e,0,o),this.values=tr(t,0,o*i)):(this.times=e,this.values=t),this}clone(){const e=tr(this.times,0),t=tr(this.values,0),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}Rr.prototype.TimeBufferType=Float32Array;Rr.prototype.ValueBufferType=Float32Array;Rr.prototype.DefaultInterpolation=vf;class Xa extends Rr{}Xa.prototype.ValueTypeName="bool";Xa.prototype.ValueBufferType=Array;Xa.prototype.DefaultInterpolation=yf;Xa.prototype.InterpolantFactoryMethodLinear=void 0;Xa.prototype.InterpolantFactoryMethodSmooth=void 0;class G_ extends Rr{}G_.prototype.ValueTypeName="color";class bf extends Rr{}bf.prototype.ValueTypeName="number";class AP extends oh{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,u=(i-t)/(r-t);let f=e*a;for(let h=f+a;f!==h;f+=4)Ti.slerpFlat(s,0,o,f-a,o,f,u);return s}}class Pu extends Rr{InterpolantFactoryMethodLinear(e){return new AP(this.times,this.values,this.getValueSize(),e)}}Pu.prototype.ValueTypeName="quaternion";Pu.prototype.DefaultInterpolation=vf;Pu.prototype.InterpolantFactoryMethodSmooth=void 0;class Qa extends Rr{}Qa.prototype.ValueTypeName="string";Qa.prototype.ValueBufferType=Array;Qa.prototype.DefaultInterpolation=yf;Qa.prototype.InterpolantFactoryMethodLinear=void 0;Qa.prototype.InterpolantFactoryMethodSmooth=void 0;class Cf extends Rr{}Cf.prototype.ValueTypeName="vector";class Pf{constructor(e,t=-1,i,r=Zm){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=Oi(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,a=i.length;o!==a;++o)t.push(uF(i[o]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=i.length;s!==o;++s)t.push(Rr.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,o=[];for(let a=0;a<s;a++){let u=[],f=[];u.push((a+s-1)%s,a,(a+1)%s),f.push(0,1,0);const h=MP(u);u=B1(u,1,h),f=B1(f,1,h),!r&&u[0]===0&&(u.push(s),f.push(f[0])),o.push(new bf(".morphTargetInfluences["+t[a].name+"]",u,f).scale(1/i))}return new this(e,-1,o)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,u=e.length;a<u;a++){const f=e[a],h=f.name.match(s);if(h&&h.length>1){const d=h[1];let p=r[d];p||(r[d]=p=[]),p.push(f)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],t,i));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(d,p,g,y,v){if(g.length!==0){const w=[],M=[];V_(g,w,M,y),w.length!==0&&v.push(new d(p,w,M))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let u=e.length||-1;const f=e.hierarchy||[];for(let d=0;d<f.length;d++){const p=f[d].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const g={};let y;for(y=0;y<p.length;y++)if(p[y].morphTargets)for(let v=0;v<p[y].morphTargets.length;v++)g[p[y].morphTargets[v]]=-1;for(const v in g){const w=[],M=[];for(let _=0;_!==p[y].morphTargets.length;++_){const S=p[y];w.push(S.time),M.push(S.morphTarget===v?1:0)}r.push(new bf(".morphTargetInfluence["+v+"]",w,M))}u=g.length*o}else{const g=".bones["+t[d].name+"]";i(Cf,g+".position",p,"pos",r),i(Pu,g+".quaternion",p,"rot",r),i(Cf,g+".scale",p,"scl",r)}}return r.length===0?null:new this(s,u,r,a)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function lF(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return bf;case"vector":case"vector2":case"vector3":case"vector4":return Cf;case"color":return G_;case"quaternion":return Pu;case"bool":case"boolean":return Xa;case"string":return Qa}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function uF(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=lF(n.type);if(n.times===void 0){const t=[],i=[];V_(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Ba={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class W_{constructor(e,t,i){const r=this;let s=!1,o=0,a=0,u;const f=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(h){a++,s===!1&&r.onStart!==void 0&&r.onStart(h,o,a),s=!0},this.itemEnd=function(h){o++,r.onProgress!==void 0&&r.onProgress(h,o,a),o===a&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(h){r.onError!==void 0&&r.onError(h)},this.resolveURL=function(h){return u?u(h):h},this.setURLModifier=function(h){return u=h,this},this.addHandler=function(h,d){return f.push(h,d),this},this.removeHandler=function(h){const d=f.indexOf(h);return d!==-1&&f.splice(d,2),this},this.getHandler=function(h){for(let d=0,p=f.length;d<p;d+=2){const g=f[d],y=f[d+1];if(g.global&&(g.lastIndex=0),g.test(h))return y}return null}}}const bP=new W_;class Hi{constructor(e){this.manager=e!==void 0?e:bP,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const hs={};class cF extends Error{constructor(e,t){super(e),this.response=t}}class ks extends Hi{constructor(e){super(e)}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Ba.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(hs[e]!==void 0){hs[e].push({onLoad:t,onProgress:i,onError:r});return}hs[e]=[],hs[e].push({onLoad:t,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,u=this.responseType;fetch(o).then(f=>{if(f.status===200||f.status===0){if(f.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||f.body===void 0||f.body.getReader===void 0)return f;const h=hs[e],d=f.body.getReader(),p=f.headers.get("Content-Length")||f.headers.get("X-File-Size"),g=p?parseInt(p):0,y=g!==0;let v=0;const w=new ReadableStream({start(M){_();function _(){d.read().then(({done:S,value:T})=>{if(S)M.close();else{v+=T.byteLength;const C=new ProgressEvent("progress",{lengthComputable:y,loaded:v,total:g});for(let P=0,R=h.length;P<R;P++){const b=h[P];b.onProgress&&b.onProgress(C)}M.enqueue(T),_()}})}}});return new Response(w)}else throw new cF(`fetch for "${f.url}" responded with ${f.status}: ${f.statusText}`,f)}).then(f=>{switch(u){case"arraybuffer":return f.arrayBuffer();case"blob":return f.blob();case"document":return f.text().then(h=>new DOMParser().parseFromString(h,a));case"json":return f.json();default:if(a===void 0)return f.text();{const d=/charset="?([^;"\s]*)"?/i.exec(a),p=d&&d[1]?d[1].toLowerCase():void 0,g=new TextDecoder(p);return f.arrayBuffer().then(y=>g.decode(y))}}}).then(f=>{Ba.add(e,f);const h=hs[e];delete hs[e];for(let d=0,p=h.length;d<p;d++){const g=h[d];g.onLoad&&g.onLoad(f)}}).catch(f=>{const h=hs[e];if(h===void 0)throw this.manager.itemError(e),f;delete hs[e];for(let d=0,p=h.length;d<p;d++){const g=h[d];g.onError&&g.onError(f)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class fF extends Hi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new ks(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(u){r?r(u):console.error(u),s.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=Pf.parse(e[i]);t.push(r)}return t}}class hF extends Hi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=[],a=new I_,u=new ks(this.manager);u.setPath(this.path),u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setWithCredentials(s.withCredentials);let f=0;function h(d){u.load(e[d],function(p){const g=s.parse(p,!0);o[d]={width:g.width,height:g.height,format:g.format,mipmaps:g.mipmaps},f+=1,f===6&&(g.mipmapCount===1&&(a.minFilter=hn),a.image=o,a.format=g.format,a.needsUpdate=!0,t&&t(a))},i,r)}if(Array.isArray(e))for(let d=0,p=e.length;d<p;++d)h(d);else u.load(e,function(d){const p=s.parse(d,!0);if(p.isCubemap){const g=p.mipmaps.length/p.mipmapCount;for(let y=0;y<g;y++){o[y]={mipmaps:[]};for(let v=0;v<p.mipmapCount;v++)o[y].mipmaps.push(p.mipmaps[y*p.mipmapCount+v]),o[y].format=p.format,o[y].width=p.width,o[y].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=hn),a.format=p.format,a.needsUpdate=!0,t&&t(a)},i,r);return a}}class Lf extends Hi{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Ba.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=Sf("img");function u(){h(),Ba.add(e,this),t&&t(this),s.manager.itemEnd(e)}function f(d){h(),r&&r(d),s.manager.itemError(e),s.manager.itemEnd(e)}function h(){a.removeEventListener("load",u,!1),a.removeEventListener("error",f,!1)}return a.addEventListener("load",u,!1),a.addEventListener("error",f,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class dF extends Hi{constructor(e){super(e)}load(e,t,i,r){const s=new Xf,o=new Lf(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function u(f){o.load(e[f],function(h){s.images[f]=h,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let f=0;f<e.length;++f)u(f);return s}}class pF extends Hi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new su,a=new ks(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(u){const f=s.parse(u);f&&(f.image!==void 0?o.image=f.image:f.data!==void 0&&(o.image.width=f.width,o.image.height=f.height,o.image.data=f.data),o.wrapS=f.wrapS!==void 0?f.wrapS:Kn,o.wrapT=f.wrapT!==void 0?f.wrapT:Kn,o.magFilter=f.magFilter!==void 0?f.magFilter:hn,o.minFilter=f.minFilter!==void 0?f.minFilter:hn,o.anisotropy=f.anisotropy!==void 0?f.anisotropy:1,f.encoding!==void 0&&(o.encoding=f.encoding),f.flipY!==void 0&&(o.flipY=f.flipY),f.format!==void 0&&(o.format=f.format),f.type!==void 0&&(o.type=f.type),f.mipmaps!==void 0&&(o.mipmaps=f.mipmaps,o.minFilter=Po),f.mipmapCount===1&&(o.minFilter=hn),f.generateMipmaps!==void 0&&(o.generateMipmaps=f.generateMipmaps),o.needsUpdate=!0,t&&t(o,f))},i,r),o}}class mF extends Hi{constructor(e){super(e)}load(e,t,i,r){const s=new on,o=new Lf(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},i,r),s}}class Bo extends At{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Ie(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class CP extends Bo{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(At.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Ie(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const Dy=new st,C3=new z,P3=new z;class j_{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ge(512,512),this.map=null,this.mapPass=null,this.matrix=new st,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new $m,this._frameExtents=new ge(1,1),this._viewportCount=1,this._viewports=[new Pt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;C3.setFromMatrixPosition(e.matrixWorld),t.position.copy(C3),P3.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(P3),t.updateMatrixWorld(),Dy.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Dy),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(Dy)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class gF extends j_{constructor(){super(new Rn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=wf*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class PP extends Bo{constructor(e,t,i=0,r=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(At.DEFAULT_UP),this.updateMatrix(),this.target=new At,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new gF}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const L3=new st,pc=new z,ky=new z;class yF extends j_{constructor(){super(new Rn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new ge(4,2),this._viewportCount=6,this._viewports=[new Pt(2,1,1,1),new Pt(0,1,1,1),new Pt(3,1,1,1),new Pt(1,1,1,1),new Pt(3,0,1,1),new Pt(1,0,1,1)],this._cubeDirections=[new z(1,0,0),new z(-1,0,0),new z(0,0,1),new z(0,0,-1),new z(0,1,0),new z(0,-1,0)],this._cubeUps=[new z(0,1,0),new z(0,1,0),new z(0,1,0),new z(0,1,0),new z(0,0,1),new z(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),pc.setFromMatrixPosition(e.matrixWorld),i.position.copy(pc),ky.copy(i.position),ky.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(ky),i.updateMatrixWorld(),r.makeTranslation(-pc.x,-pc.y,-pc.z),L3.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(L3)}}class LP extends Bo{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new yF}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class vF extends j_{constructor(){super(new Qf(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class RP extends Bo{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(At.DEFAULT_UP),this.updateMatrix(),this.target=new At,this.shadow=new vF}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class IP extends Bo{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class DP extends Bo{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class kP{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new z)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*i),t.addScaledVector(o[4],1.092548*(i*r)),t.addScaledVector(o[5],1.092548*(r*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(i*s)),t.addScaledVector(o[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*r),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*i),t.addScaledVector(o[4],2*.429043*i*r),t.addScaledVector(o[5],2*.429043*r*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*i*s),t.addScaledVector(o[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*i*s,t[8]=.546274*(i*i-r*r)}}class cg extends Bo{constructor(e=new kP,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class fg extends Hi{constructor(e){super(e),this.textures={}}load(e,t,i,r){const s=this,o=new ks(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(u){r?r(u):console.error(u),s.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const r=fg.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Ie().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==1&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(r.uniforms[s]={},o.type){case"t":r.uniforms[s].value=i(o.value);break;case"c":r.uniforms[s].value=new Ie().setHex(o.value);break;case"v2":r.uniforms[s].value=new ge().fromArray(o.value);break;case"v3":r.uniforms[s].value=new z().fromArray(o.value);break;case"v4":r.uniforms[s].value=new Pt().fromArray(o.value);break;case"m3":r.uniforms[s].value=new zn().fromArray(o.value);break;case"m4":r.uniforms[s].value=new st().fromArray(o.value);break;default:r.uniforms[s].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new ge().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new ge().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:pP,SpriteMaterial:L_,RawShaderMaterial:mP,ShaderMaterial:Jr,PointsMaterial:og,MeshPhysicalMaterial:gP,MeshStandardMaterial:B_,MeshPhongMaterial:yP,MeshToonMaterial:vP,MeshNormalMaterial:xP,MeshLambertMaterial:_P,MeshDepthMaterial:b_,MeshDistanceMaterial:C_,MeshBasicMaterial:Oo,MeshMatcapMaterial:wP,LineDashedMaterial:SP,LineBasicMaterial:di,Material:Un};return new t[e]}}class U1{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let i=0,r=e.length;i<r;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class NP extends ut{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class zP extends Hi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new ks(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(u){r?r(u):console.error(u),s.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(g,y){if(t[y]!==void 0)return t[y];const w=g.interleavedBuffers[y],M=s(g,w.buffer),_=jl(w.type,M),S=new rg(_,w.stride);return S.uuid=w.uuid,t[y]=S,S}function s(g,y){if(i[y]!==void 0)return i[y];const w=g.arrayBuffers[y],M=new Uint32Array(w).buffer;return i[y]=M,M}const o=e.isInstancedBufferGeometry?new NP:new ut,a=e.data.index;if(a!==void 0){const g=jl(a.type,a.array);o.setIndex(new Nt(g,1))}const u=e.data.attributes;for(const g in u){const y=u[g];let v;if(y.isInterleavedBufferAttribute){const w=r(e.data,y.data);v=new Oa(w,y.itemSize,y.offset,y.normalized)}else{const w=jl(y.type,y.array),M=y.isInstancedBufferAttribute?yu:Nt;v=new M(w,y.itemSize,y.normalized)}y.name!==void 0&&(v.name=y.name),y.usage!==void 0&&v.setUsage(y.usage),y.updateRange!==void 0&&(v.updateRange.offset=y.updateRange.offset,v.updateRange.count=y.updateRange.count),o.setAttribute(g,v)}const f=e.data.morphAttributes;if(f)for(const g in f){const y=f[g],v=[];for(let w=0,M=y.length;w<M;w++){const _=y[w];let S;if(_.isInterleavedBufferAttribute){const T=r(e.data,_.data);S=new Oa(T,_.itemSize,_.offset,_.normalized)}else{const T=jl(_.type,_.array);S=new Nt(T,_.itemSize,_.normalized)}_.name!==void 0&&(S.name=_.name),v.push(S)}o.morphAttributes[g]=v}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let g=0,y=d.length;g!==y;++g){const v=d[g];o.addGroup(v.start,v.count,v.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const g=new z;p.center!==void 0&&g.fromArray(p.center),o.boundingSphere=new Wa(g,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class xF extends Hi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=this.path===""?U1.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new ks(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(u){let f=null;try{f=JSON.parse(u)}catch(d){r!==void 0&&r(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const h=f.metadata;if(h===void 0||h.type===void 0||h.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(f,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?U1.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new ks(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),u=a.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(a)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){t!==void 0&&t(f)}),a=this.parseTextures(e.textures,o),u=this.parseMaterials(e.materials,a),f=this.parseObject(e.object,s,u,a,i),h=this.parseSkeletons(e.skeletons,f);if(this.bindSkeletons(f,h),t!==void 0){let d=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){d=!0;break}d===!1&&t(f)}return f}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),u=this.parseObject(e.object,r,a,o,t),f=this.parseSkeletons(e.skeletons,u);return this.bindSkeletons(u,f),u}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new La().fromJSON(e[i]);t[s.uuid]=s}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new sg().fromJSON(e[s],r);i[a.uuid]=a}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new zP;for(let s=0,o=e.length;s<o;s++){let a;const u=e[s];switch(u.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(u);break;default:u.type in b3?a=b3[u.type].fromJSON(u,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${u.type}"`)}a.uuid=u.uuid,u.name!==void 0&&(a.name=u.name),u.userData!==void 0&&(a.userData=u.userData),i[u.uuid]=a}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const s=new fg;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const u=e[o];i[u.uuid]===void 0&&(i[u.uuid]=s.parse(u)),r[u.uuid]=i[u.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=Pf.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const i=this,r={};let s;function o(u){return i.manager.itemStart(u),s.load(u,function(){i.manager.itemEnd(u)},void 0,function(){i.manager.itemError(u),i.manager.itemEnd(u)})}function a(u){if(typeof u=="string"){const f=u,h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(f)?f:i.resourcePath+f;return o(h)}else return u.data?{data:jl(u.type,u.data),width:u.width,height:u.height}:null}if(e!==void 0&&e.length>0){const u=new W_(t);s=new Lf(u),s.setCrossOrigin(this.crossOrigin);for(let f=0,h=e.length;f<h;f++){const d=e[f],p=d.url;if(Array.isArray(p)){const g=[];for(let y=0,v=p.length;y<v;y++){const w=p[y],M=a(w);M!==null&&(M instanceof HTMLImageElement?g.push(M):g.push(new su(M.data,M.width,M.height)))}r[d.uuid]=new _a(g)}else{const g=a(d.url);r[d.uuid]=new _a(g)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function s(o){if(typeof o=="string"){const a=o,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await r.loadAsync(u)}else return o.data?{data:jl(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new Lf(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const u=e[o],f=u.url;if(Array.isArray(f)){const h=[];for(let d=0,p=f.length;d<p;d++){const g=f[d],y=await s(g);y!==null&&(y instanceof HTMLImageElement?h.push(y):h.push(new su(y.data,y.width,y.height)))}i[u.uuid]=new _a(h)}else{const h=await s(u.url);i[u.uuid]=new _a(h)}}}return i}parseTextures(e,t){function i(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const r={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const u=t[a.image],f=u.data;let h;Array.isArray(f)?(h=new Xf,f.length===6&&(h.needsUpdate=!0)):(f&&f.data?h=new su:h=new on,f&&(h.needsUpdate=!0)),h.source=u,h.uuid=a.uuid,a.name!==void 0&&(h.name=a.name),a.mapping!==void 0&&(h.mapping=i(a.mapping,_F)),a.offset!==void 0&&h.offset.fromArray(a.offset),a.repeat!==void 0&&h.repeat.fromArray(a.repeat),a.center!==void 0&&h.center.fromArray(a.center),a.rotation!==void 0&&(h.rotation=a.rotation),a.wrap!==void 0&&(h.wrapS=i(a.wrap[0],R3),h.wrapT=i(a.wrap[1],R3)),a.format!==void 0&&(h.format=a.format),a.internalFormat!==void 0&&(h.internalFormat=a.internalFormat),a.type!==void 0&&(h.type=a.type),a.encoding!==void 0&&(h.encoding=a.encoding),a.minFilter!==void 0&&(h.minFilter=i(a.minFilter,I3)),a.magFilter!==void 0&&(h.magFilter=i(a.magFilter,I3)),a.anisotropy!==void 0&&(h.anisotropy=a.anisotropy),a.flipY!==void 0&&(h.flipY=a.flipY),a.generateMipmaps!==void 0&&(h.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(h.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(h.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(h.userData=a.userData),r[a.uuid]=h}return r}parseObject(e,t,i,r,s){let o;function a(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}function u(p){if(p!==void 0){if(Array.isArray(p)){const g=[];for(let y=0,v=p.length;y<v;y++){const w=p[y];i[w]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",w),g.push(i[w])}return g}return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),i[p]}}function f(p){return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),r[p]}let h,d;switch(e.type){case"Scene":o=new P_,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Ie(e.background):o.background=f(e.background)),e.environment!==void 0&&(o.environment=f(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new ig(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new ng(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new Rn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Qf(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new IP(e.color,e.intensity);break;case"DirectionalLight":o=new RP(e.color,e.intensity);break;case"PointLight":o=new LP(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new DP(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new PP(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new CP(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new cg().fromJSON(e);break;case"SkinnedMesh":h=a(e.geometry),d=u(e.material),o=new eP(h,d),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":h=a(e.geometry),d=u(e.material),o=new On(h,d);break;case"InstancedMesh":h=a(e.geometry),d=u(e.material);const p=e.count,g=e.instanceMatrix,y=e.instanceColor;o=new tP(h,d,p),o.instanceMatrix=new yu(new Float32Array(g.array),16),y!==void 0&&(o.instanceColor=new yu(new Float32Array(y.array),y.itemSize));break;case"LOD":o=new $C;break;case"Line":o=new Lo(a(e.geometry),u(e.material));break;case"LineLoop":o=new nP(a(e.geometry),u(e.material));break;case"LineSegments":o=new Zr(a(e.geometry),u(e.material));break;case"PointCloud":case"Points":o=new iP(a(e.geometry),u(e.material));break;case"Sprite":o=new KC(u(e.material));break;case"Group":o=new Ql;break;case"Bone":o=new R_;break;default:o=new At}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let g=0;g<p.length;g++)o.add(this.parseObject(p[g],t,i,r,s))}if(e.animations!==void 0){const p=e.animations;for(let g=0;g<p.length;g++){const y=p[g];o.animations.push(s[y])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let g=0;g<p.length;g++){const y=p[g],v=o.getObjectByProperty("uuid",y.object);v!==void 0&&o.addLevel(v,y.distance,y.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}}const _F={UVMapping:Jm,CubeReflectionMapping:bo,CubeRefractionMapping:Co,EquirectangularReflectionMapping:df,EquirectangularRefractionMapping:pf,CubeUVReflectionMapping:Mu},R3={RepeatWrapping:mf,ClampToEdgeWrapping:Kn,MirroredRepeatWrapping:gf},I3={NearestFilter:cn,NearestMipmapNearestFilter:dm,NearestMipmapLinearFilter:Oc,LinearFilter:hn,LinearMipmapNearestFilter:m_,LinearMipmapLinearFilter:Po};class wF extends Hi{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Ba.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(u){return u.blob()}).then(function(u){return createImageBitmap(u,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(u){Ba.add(e,u),t&&t(u),s.manager.itemEnd(e)}).catch(function(u){r&&r(u),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let rp;class X_{static getContext(){return rp===void 0&&(rp=new(window.AudioContext||window.webkitAudioContext)),rp}static setContext(e){rp=e}}class SF extends Hi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new ks(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const u=a.slice(0);X_.getContext().decodeAudioData(u,function(h){t(h)})}catch(u){r?r(u):console.error(u),s.manager.itemError(e)}},i,r)}}class MF extends cg{constructor(e,t,i=1){super(void 0,i),this.isHemisphereLightProbe=!0;const r=new Ie().set(e),s=new Ie().set(t),o=new z(r.r,r.g,r.b),a=new z(s.r,s.g,s.b),u=Math.sqrt(Math.PI),f=u*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(u),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(f)}}class EF extends cg{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const i=new Ie().set(e);this.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const D3=new st,k3=new st,$o=new st;class TF{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Rn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Rn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,$o.copy(e.projectionMatrix);const r=t.eyeSep/2,s=r*t.near/t.focus,o=t.near*Math.tan(Ca*t.fov*.5)/t.zoom;let a,u;k3.elements[12]=-r,D3.elements[12]=r,a=-o*t.aspect+s,u=o*t.aspect+s,$o.elements[0]=2*t.near/(u-a),$o.elements[8]=(u+a)/(u-a),this.cameraL.projectionMatrix.copy($o),a=-o*t.aspect-s,u=o*t.aspect-s,$o.elements[0]=2*t.near/(u-a),$o.elements[8]=(u+a)/(u-a),this.cameraR.projectionMatrix.copy($o)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(k3),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(D3)}}class Q_{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=N3(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=N3();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function N3(){return(typeof performance>"u"?Date:performance).now()}const ea=new z,z3=new Ti,AF=new z,ta=new z;class bF extends At{constructor(){super(),this.type="AudioListener",this.context=X_.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Q_}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(ea,z3,AF),ta.set(0,0,-1).applyQuaternion(z3),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(ea.x,r),t.positionY.linearRampToValueAtTime(ea.y,r),t.positionZ.linearRampToValueAtTime(ea.z,r),t.forwardX.linearRampToValueAtTime(ta.x,r),t.forwardY.linearRampToValueAtTime(ta.y,r),t.forwardZ.linearRampToValueAtTime(ta.z,r),t.upX.linearRampToValueAtTime(i.x,r),t.upY.linearRampToValueAtTime(i.y,r),t.upZ.linearRampToValueAtTime(i.z,r)}else t.setPosition(ea.x,ea.y,ea.z),t.setOrientation(ta.x,ta.y,ta.z,i.x,i.y,i.z)}}class OP extends At{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const na=new z,O3=new Ti,CF=new z,ia=new z;class PF extends OP{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(na,O3,CF),ia.set(0,0,1).applyQuaternion(O3);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(na.x,i),t.positionY.linearRampToValueAtTime(na.y,i),t.positionZ.linearRampToValueAtTime(na.z,i),t.orientationX.linearRampToValueAtTime(ia.x,i),t.orientationY.linearRampToValueAtTime(ia.y,i),t.orientationZ.linearRampToValueAtTime(ia.z,i)}else t.setPosition(na.x,na.y,na.z),t.setOrientation(ia.x,ia.y,ia.z)}}class LF{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class FP{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,s,o;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==r;++a)i[s+a]=i[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(i,s,0,a,r)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const u=t*this._origIndex;this._mixBufferRegion(i,r,u,1-s,t)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let u=t,f=t+t;u!==f;++u)if(i[u]!==i[u+t]){a.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let s=i,o=r;s!==o;++s)t[s]=t[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[t+o]=e[i+o]}_slerp(e,t,i,r){Ti.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,s){const o=this._workIndex*s;Ti.multiplyQuaternionsFlat(e,o,e,t,e,i),Ti.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,i,r,s){const o=1-r;for(let a=0;a!==s;++a){const u=t+a;e[u]=e[u]*o+e[i+a]*r}}_lerpAdditive(e,t,i,r,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[i+o]*r}}}const Y_="\\[\\]\\.:\\/",RF=new RegExp("["+Y_+"]","g"),q_="[^"+Y_+"]",IF="[^"+Y_.replace("\\.","")+"]",DF=/((?:WC+[\/:])*)/.source.replace("WC",q_),kF=/(WCOD+)?/.source.replace("WCOD",IF),NF=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",q_),zF=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",q_),OF=new RegExp("^"+DF+kF+NF+zF+"$"),FF=["material","materials","bones","map"];class BF{constructor(e,t,i){const r=i||_t.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class _t{constructor(e,t,i){this.path=t,this.parsedPath=i||_t.parseTrackName(t),this.node=_t.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new _t.Composite(e,t,i):new _t(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(RF,"")}static parseTrackName(e){const t=OF.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);FF.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const u=i(a.children);if(u)return u}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=_t.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(i){let f=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let h=0;h<e.length;h++)if(e[h].name===f){f=h;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(f!==void 0){if(e[f]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[f]}}const o=e[r];if(o===void 0){const f=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+f+"."+r+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let u=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}u=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(u=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(u=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[u],this.setValue=this.SetterByBindingTypeAndVersioning[u][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}_t.Composite=BF;_t.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};_t.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};_t.prototype.GetterByBindingType=[_t.prototype._getValue_direct,_t.prototype._getValue_array,_t.prototype._getValue_arrayElement,_t.prototype._getValue_toArray];_t.prototype.SetterByBindingTypeAndVersioning=[[_t.prototype._setValue_direct,_t.prototype._setValue_direct_setNeedsUpdate,_t.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[_t.prototype._setValue_array,_t.prototype._setValue_array_setNeedsUpdate,_t.prototype._setValue_array_setMatrixWorldNeedsUpdate],[_t.prototype._setValue_arrayElement,_t.prototype._setValue_arrayElement_setNeedsUpdate,_t.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[_t.prototype._setValue_fromArray,_t.prototype._setValue_fromArray_setNeedsUpdate,_t.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class UF{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Oi(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length;let a,u=e.length,f=this.nCachedObjects_;for(let h=0,d=arguments.length;h!==d;++h){const p=arguments[h],g=p.uuid;let y=t[g];if(y===void 0){y=u++,t[g]=y,e.push(p);for(let v=0,w=o;v!==w;++v)s[v].push(new _t(p,i[v],r[v]))}else if(y<f){a=e[y];const v=--f,w=e[v];t[w.uuid]=y,e[y]=w,t[g]=v,e[v]=p;for(let M=0,_=o;M!==_;++M){const S=s[M],T=S[v];let C=S[y];S[y]=T,C===void 0&&(C=new _t(p,i[M],r[M])),S[v]=C}}else e[y]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=f}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const u=arguments[o],f=u.uuid,h=t[f];if(h!==void 0&&h>=s){const d=s++,p=e[d];t[p.uuid]=h,e[h]=p,t[f]=d,e[d]=u;for(let g=0,y=r;g!==y;++g){const v=i[g],w=v[d],M=v[h];v[h]=w,v[d]=M}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,u=arguments.length;a!==u;++a){const f=arguments[a],h=f.uuid,d=t[h];if(d!==void 0)if(delete t[h],d<s){const p=--s,g=e[p],y=--o,v=e[y];t[g.uuid]=d,e[d]=g,t[v.uuid]=p,e[p]=v,e.pop();for(let w=0,M=r;w!==M;++w){const _=i[w],S=_[p],T=_[y];_[d]=S,_[p]=T,_.pop()}}else{const p=--o,g=e[p];p>0&&(t[g.uuid]=d),e[d]=g,e.pop();for(let y=0,v=r;y!==v;++y){const w=i[y];w[d]=w[p],w.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const o=this._paths,a=this._parsedPaths,u=this._objects,f=u.length,h=this.nCachedObjects_,d=new Array(f);r=s.length,i[e]=r,o.push(e),a.push(t),s.push(d);for(let p=h,g=u.length;p!==g;++p){const y=u[p];d[p]=new _t(y,e,t)}return d}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,u=o[a],f=e[a];t[f]=i,o[i]=u,o.pop(),s[i]=s[a],s.pop(),r[i]=r[a],r.pop()}}}class VF{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const s=t.tracks,o=s.length,a=new Array(o),u={endingStart:va,endingEnd:va};for(let f=0;f!==o;++f){const h=s[f].createInterpolant(null);a[f]=h,h.settings=u}this._interpolantSettings=u,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=LC,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i){if(e.fadeOut(t),this.fadeIn(t),i){const r=this._clip.duration,s=e._clip.duration,o=s/r,a=r/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,i){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,s=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const u=a.parameterPositions,f=a.sampleValues;return u[0]=s,u[1]=s+i,f[0]=e/o,f[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const u=(e-s)*i;u<0||i===0?t=0:(this._startTime=null,t=i*u)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const u=this._interpolants,f=this._propertyBindings;switch(this.blendMode){case y_:for(let h=0,d=u.length;h!==d;++h)u[h].evaluate(o),f[h].accumulateAdditive(a);break;case Zm:default:for(let h=0,d=u.length;h!==d;++h)u[h].evaluate(o),f[h].accumulate(r,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const o=i===RC;if(e===0)return s===-1?r:o&&(s&1)===1?t-r:r;if(i===PC){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=t||r<0){const a=Math.floor(r/t);r-=t*a,s+=Math.abs(a);const u=this.repetitions-s;if(u<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(u===1){const f=e<0;this._setEndings(f,!f,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&(s&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=xa,r.endingEnd=xa):(e?r.endingStart=this.zeroSlopeAtStart?xa:va:r.endingStart=xf,t?r.endingEnd=this.zeroSlopeAtEnd?xa:va:r.endingEnd=xf)}_scheduleFading(e,t,i){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,u=o.sampleValues;return a[0]=s,u[0]=t,a[1]=s+e,u[1]=i,this}}const HF=new Float32Array(1);class GF extends Os{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,a=e._interpolants,u=i.uuid,f=this._bindingsByRootAndName;let h=f[u];h===void 0&&(h={},f[u]=h);for(let d=0;d!==s;++d){const p=r[d],g=p.name;let y=h[g];if(y!==void 0)++y.referenceCount,o[d]=y;else{if(y=o[d],y!==void 0){y._cacheIndex===null&&(++y.referenceCount,this._addInactiveBinding(y,u,g));continue}const v=t&&t._propertyBindings[d].binding.parsedPath;y=new FP(_t.create(i,g,v),p.ValueTypeName,p.getValueSize()),++y.referenceCount,this._addInactiveBinding(y,u,g),o[d]=y}a[d].resultBuffer=y.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],u=a.knownActions,f=u[u.length-1],h=e._byClipCacheIndex;f._byClipCacheIndex=h,u[h]=f,u.pop(),e._byClipCacheIndex=null;const d=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete d[p],u.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[t];o===void 0&&(o={},r[t]=o),o[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,o=this._bindingsByRootAndName,a=o[r],u=t[t.length-1],f=e._cacheIndex;u._cacheIndex=f,t[f]=u,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new H_(new Float32Array(2),new Float32Array(2),1,HF),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=i,t[i]=s}clipAction(e,t,i){const r=t||this._root,s=r.uuid;let o=typeof e=="string"?Pf.findByName(r,e):e;const a=o!==null?o.uuid:e,u=this._actionsByClip[a];let f=null;if(i===void 0&&(o!==null?i=o.blendMode:i=Zm),u!==void 0){const d=u.actionByRoot[s];if(d!==void 0&&d.blendMode===i)return d;f=u.knownActions[0],o===null&&(o=f._clip)}if(o===null)return null;const h=new VF(this,o,t,i);return this._bindAction(h,f),this._addInactiveAction(h,a,s),h}existingAction(e,t){const i=t||this._root,r=i.uuid,s=typeof e=="string"?Pf.findByName(i,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let f=0;f!==i;++f)t[f]._update(r,e,s,o);const a=this._bindings,u=this._nActiveBindings;for(let f=0;f!==u;++f)a[f].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const o=s.knownActions;for(let a=0,u=o.length;a!==u;++a){const f=o[a];this._deactivateAction(f);const h=f._cacheIndex,d=t[t.length-1];f._cacheIndex=null,f._byClipCacheIndex=null,d._cacheIndex=h,t[h]=d,t.pop(),this._removeInactiveBindingsForAction(f)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const o in i){const a=i[o].actionByRoot,u=a[t];u!==void 0&&(this._deactivateAction(u),this._removeInactiveAction(u))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class J_{constructor(e){this.value=e}clone(){return new J_(this.value.clone===void 0?this.value:this.value.clone())}}let WF=0;class jF extends Os{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:WF++}),this.name="",this.usage=_f,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++)this.uniforms.push(t[i].clone());return this}clone(){return new this.constructor().copy(this)}}class XF extends rg{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class QF{constructor(e,t,i,r,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class BP{constructor(e,t,i=0,r=1/0){this.ray=new Gf(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new Pa,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,i=[]){return V1(e,this,i,t),i.sort(F3),i}intersectObjects(e,t=!0,i=[]){for(let r=0,s=e.length;r<s;r++)V1(e[r],this,i,t);return i.sort(F3),i}}function F3(n,e){return n.distance-e.distance}function V1(n,e,t,i){if(n.layers.test(e.layers)&&n.raycast(e,t),i===!0){const r=n.children;for(let s=0,o=r.length;s<o;s++)V1(r[s],e,t,!0)}}class YF{constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(dn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class qF{constructor(e=1,t=0,i=0){return this.radius=e,this.theta=t,this.y=i,this}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}const B3=new ge;class JF{constructor(e=new ge(1/0,1/0),t=new ge(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=B3.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,B3).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const U3=new z,sp=new z;class ZF{constructor(e=new z,t=new z){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){U3.subVectors(e,this.start),sp.subVectors(this.end,this.start);const i=sp.dot(sp);let s=sp.dot(U3)/i;return t&&(s=dn(s,0,1)),s}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const V3=new z;class KF extends At{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new ut,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,u=32;o<u;o++,a++){const f=o/u*Math.PI*2,h=a/u*Math.PI*2;r.push(Math.cos(f),Math.sin(f),1,Math.cos(h),Math.sin(h),1)}i.setAttribute("position",new Be(r,3));const s=new di({fog:!1,toneMapped:!1});this.cone=new Zr(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),V3.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(V3),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Ks=new z,op=new st,Ny=new st;class $F extends Zr{constructor(e){const t=UP(e),i=new ut,r=[],s=[],o=new Ie(0,0,1),a=new Ie(0,1,0);for(let f=0;f<t.length;f++){const h=t[f];h.parent&&h.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}i.setAttribute("position",new Be(r,3)),i.setAttribute("color",new Be(s,3));const u=new di({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,u),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");Ny.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(op.multiplyMatrices(Ny,a.matrixWorld),Ks.setFromMatrixPosition(op),r.setXYZ(o,Ks.x,Ks.y,Ks.z),op.multiplyMatrices(Ny,a.parent.matrixWorld),Ks.setFromMatrixPosition(op),r.setXYZ(o+1,Ks.x,Ks.y,Ks.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function UP(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,UP(n.children[t]));return e}class eB extends On{constructor(e,t,i){const r=new Cu(t,4,2),s=new Oo({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const tB=new z,H3=new Ie,G3=new Ie;class nB extends At{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new bu(t);r.rotateY(Math.PI*.5),this.material=new Oo({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),o=new Float32Array(s.count*3);r.setAttribute("color",new Nt(o,3)),this.add(new On(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");H3.copy(this.light.color),G3.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const s=i<r/2?H3:G3;t.setXYZ(i,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(tB.setFromMatrixPosition(this.light.matrixWorld).negate())}}class iB extends Zr{constructor(e=10,t=10,i=4473924,r=8947848){i=new Ie(i),r=new Ie(r);const s=t/2,o=e/t,a=e/2,u=[],f=[];for(let p=0,g=0,y=-a;p<=t;p++,y+=o){u.push(-a,0,y,a,0,y),u.push(y,0,-a,y,0,a);const v=p===s?i:r;v.toArray(f,g),g+=3,v.toArray(f,g),g+=3,v.toArray(f,g),g+=3,v.toArray(f,g),g+=3}const h=new ut;h.setAttribute("position",new Be(u,3)),h.setAttribute("color",new Be(f,3));const d=new di({vertexColors:!0,toneMapped:!1});super(h,d),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class rB extends Zr{constructor(e=10,t=16,i=8,r=64,s=4473924,o=8947848){s=new Ie(s),o=new Ie(o);const a=[],u=[];if(t>1)for(let d=0;d<t;d++){const p=d/t*(Math.PI*2),g=Math.sin(p)*e,y=Math.cos(p)*e;a.push(0,0,0),a.push(g,0,y);const v=d&1?s:o;u.push(v.r,v.g,v.b),u.push(v.r,v.g,v.b)}for(let d=0;d<i;d++){const p=d&1?s:o,g=e-e/i*d;for(let y=0;y<r;y++){let v=y/r*(Math.PI*2),w=Math.sin(v)*g,M=Math.cos(v)*g;a.push(w,0,M),u.push(p.r,p.g,p.b),v=(y+1)/r*(Math.PI*2),w=Math.sin(v)*g,M=Math.cos(v)*g,a.push(w,0,M),u.push(p.r,p.g,p.b)}}const f=new ut;f.setAttribute("position",new Be(a,3)),f.setAttribute("color",new Be(u,3));const h=new di({vertexColors:!0,toneMapped:!1});super(f,h),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const W3=new z,ap=new z,j3=new z;class sB extends At{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new ut;r.setAttribute("position",new Be([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new di({fog:!1,toneMapped:!1});this.lightPlane=new Lo(r,s),this.add(this.lightPlane),r=new ut,r.setAttribute("position",new Be([0,0,0,0,0,1],3)),this.targetLine=new Lo(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),W3.setFromMatrixPosition(this.light.matrixWorld),ap.setFromMatrixPosition(this.light.target.matrixWorld),j3.subVectors(ap,W3),this.lightPlane.lookAt(ap),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(ap),this.targetLine.scale.z=j3.length()}}const lp=new z,rn=new jf;class oB extends Zr{constructor(e){const t=new ut,i=new di({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(y,v){u(y),u(v)}function u(y){r.push(0,0,0),s.push(0,0,0),o[y]===void 0&&(o[y]=[]),o[y].push(r.length/3-1)}t.setAttribute("position",new Be(r,3)),t.setAttribute("color",new Be(s,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const f=new Ie(16755200),h=new Ie(16711680),d=new Ie(43775),p=new Ie(16777215),g=new Ie(3355443);this.setColors(f,h,d,p,g)}setColors(e,t,i,r,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,i.r,i.g,i.b),a.setXYZ(33,i.r,i.g,i.b),a.setXYZ(34,i.r,i.g,i.b),a.setXYZ(35,i.r,i.g,i.b),a.setXYZ(36,i.r,i.g,i.b),a.setXYZ(37,i.r,i.g,i.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;rn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),un("c",t,e,rn,0,0,-1),un("t",t,e,rn,0,0,1),un("n1",t,e,rn,-i,-r,-1),un("n2",t,e,rn,i,-r,-1),un("n3",t,e,rn,-i,r,-1),un("n4",t,e,rn,i,r,-1),un("f1",t,e,rn,-i,-r,1),un("f2",t,e,rn,i,-r,1),un("f3",t,e,rn,-i,r,1),un("f4",t,e,rn,i,r,1),un("u1",t,e,rn,i*.7,r*1.1,-1),un("u2",t,e,rn,-i*.7,r*1.1,-1),un("u3",t,e,rn,0,r*2,-1),un("cf1",t,e,rn,-i,0,1),un("cf2",t,e,rn,i,0,1),un("cf3",t,e,rn,0,-r,1),un("cf4",t,e,rn,0,r,1),un("cn1",t,e,rn,-i,0,-1),un("cn2",t,e,rn,i,0,-1),un("cn3",t,e,rn,0,-r,-1),un("cn4",t,e,rn,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function un(n,e,t,i,r,s,o){lp.set(r,s,o).unproject(i);const a=e[n];if(a!==void 0){const u=t.getAttribute("position");for(let f=0,h=a.length;f<h;f++)u.setXYZ(a[f],lp.x,lp.y,lp.z)}}const up=new Ga;class aB extends Zr{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),s=new ut;s.setIndex(new Nt(i,1)),s.setAttribute("position",new Nt(r,3)),super(s,new di({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&up.setFromObject(this.object),up.isEmpty())return;const t=up.min,i=up.max,r=this.geometry.attributes.position,s=r.array;s[0]=i.x,s[1]=i.y,s[2]=i.z,s[3]=t.x,s[4]=i.y,s[5]=i.z,s[6]=t.x,s[7]=t.y,s[8]=i.z,s[9]=i.x,s[10]=t.y,s[11]=i.z,s[12]=i.x,s[13]=i.y,s[14]=t.z,s[15]=t.x,s[16]=i.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=i.x,s[22]=t.y,s[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class lB extends Zr{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new ut;s.setIndex(new Nt(i,1)),s.setAttribute("position",new Be(r,3)),super(s,new di({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class uB extends Lo{constructor(e,t=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new ut;o.setAttribute("position",new Be(s,3)),o.computeBoundingSphere(),super(o,new di({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],u=new ut;u.setAttribute("position",new Be(a,3)),u.computeBoundingSphere(),this.add(new On(u,new Oo({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const X3=new z;let cp,zy;class cB extends At{constructor(e=new z(0,0,1),t=new z(0,0,0),i=1,r=16776960,s=i*.2,o=s*.2){super(),this.type="ArrowHelper",cp===void 0&&(cp=new ut,cp.setAttribute("position",new Be([0,0,0,0,1,0],3)),zy=new ja(0,.5,1,5,1),zy.translate(0,-.5,0)),this.position.copy(t),this.line=new Lo(cp,new di({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new On(zy,new Oo({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{X3.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(X3,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class fB extends Zr{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new ut;r.setAttribute("position",new Be(t,3)),r.setAttribute("color",new Be(i,3));const s=new di({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,i){const r=new Ie,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class hB{constructor(){this.type="ShapePath",this.color=new Ie,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Mf,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,s,o){return this.currentPath.bezierCurveTo(e,t,i,r,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(M){const _=[];for(let S=0,T=M.length;S<T;S++){const C=M[S],P=new La;P.curves=C.curves,_.push(P)}return _}function i(M,_){const S=_.length;let T=!1;for(let C=S-1,P=0;P<S;C=P++){let R=_[C],b=_[P],L=b.x-R.x,D=b.y-R.y;if(Math.abs(D)>Number.EPSILON){if(D<0&&(R=_[P],L=-L,b=_[C],D=-D),M.y<R.y||M.y>b.y)continue;if(M.y===R.y){if(M.x===R.x)return!0}else{const V=D*(M.x-R.x)-L*(M.y-R.y);if(V===0)return!0;if(V<0)continue;T=!T}}else{if(M.y!==R.y)continue;if(b.x<=M.x&&M.x<=R.x||R.x<=M.x&&M.x<=b.x)return!0}}return T}const r=Yr.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,u;const f=[];if(s.length===1)return a=s[0],u=new La,u.curves=a.curves,f.push(u),f;let h=!r(s[0].getPoints());h=e?!h:h;const d=[],p=[];let g=[],y=0,v;p[y]=void 0,g[y]=[];for(let M=0,_=s.length;M<_;M++)a=s[M],v=a.getPoints(),o=r(v),o=e?!o:o,o?(!h&&p[y]&&y++,p[y]={s:new La,p:v},p[y].s.curves=a.curves,h&&y++,g[y]=[]):g[y].push({h:a,p:v[0]});if(!p[0])return t(s);if(p.length>1){let M=!1,_=0;for(let S=0,T=p.length;S<T;S++)d[S]=[];for(let S=0,T=p.length;S<T;S++){const C=g[S];for(let P=0;P<C.length;P++){const R=C[P];let b=!0;for(let L=0;L<p.length;L++)i(R.p,p[L].p)&&(S!==L&&_++,b?(b=!1,d[L].push(R)):M=!0);b&&d[S].push(R)}}_>0&&M===!1&&(g=d)}let w;for(let M=0,_=p.length;M<_;M++){u=p[M].s,f.push(u),w=g[M];for(let S=0,T=w.length;S<T;S++)u.holes.push(w[S].h)}return f}}const ms=dB();function dB(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let u=0;u<256;++u){const f=u-127;f<-27?(i[u]=0,i[u|256]=32768,r[u]=24,r[u|256]=24):f<-14?(i[u]=1024>>-f-14,i[u|256]=1024>>-f-14|32768,r[u]=-f-1,r[u|256]=-f-1):f<=15?(i[u]=f+15<<10,i[u|256]=f+15<<10|32768,r[u]=13,r[u|256]=13):f<128?(i[u]=31744,i[u|256]=64512,r[u]=24,r[u|256]=24):(i[u]=31744,i[u|256]=64512,r[u]=13,r[u|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let u=1;u<1024;++u){let f=u<<13,h=0;for(;!(f&8388608);)f<<=1,h-=8388608;f&=-8388609,h+=947912704,s[u]=f|h}for(let u=1024;u<2048;++u)s[u]=939524096+(u-1024<<13);for(let u=1;u<31;++u)o[u]=u<<23;o[31]=1199570944,o[32]=2147483648;for(let u=33;u<63;++u)o[u]=2147483648+(u-32<<23);o[63]=3347054592;for(let u=1;u<64;++u)u!==32&&(a[u]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:o,offsetTable:a}}function pB(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=dn(n,-65504,65504),ms.floatView[0]=n;const e=ms.uint32View[0],t=e>>23&511;return ms.baseTable[t]+((e&8388607)>>ms.shiftTable[t])}function mB(n){const e=n>>10;return ms.uint32View[0]=ms.mantissaTable[ms.offsetTable[e]+(n&1023)]+ms.exponentTable[e],ms.floatView[0]}const gB={toHalfFloat:pB,fromHalfFloat:mB};class yB extends Fo{constructor(e,t,i,r,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,t,i,r,s,o)}}class vB extends Yf{constructor(e,t,i,r){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,t,i,r)}}class xB extends qf{constructor(e,t,i,r){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,t,i,r)}}class _B extends Jf{constructor(e,t,i,r,s,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,t,i,r,s,o,a)}}class wB extends ja{constructor(e,t,i,r,s,o,a,u){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,t,i,r,s,o,a,u)}}class SB extends Zf{constructor(e,t){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,t)}}class MB extends Kf{constructor(e,t){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,t)}}class EB extends $f{constructor(e,t){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,t)}}class TB extends Au{constructor(e,t,i,r){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,t,i,r)}}class AB extends bu{constructor(e,t){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,t)}}class bB extends Eu{constructor(e,t,i,r){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,t,i,r)}}class CB extends Fs{constructor(e,t,i,r){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,t,i,r)}}class PB extends eh{constructor(e,t,i,r,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,t,i,r,s,o)}}class LB extends th{constructor(e,t){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,t)}}class RB extends Cu{constructor(e,t,i,r,s,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,t,i,r,s,o,a)}}class IB extends nh{constructor(e,t){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,t)}}class DB extends ih{constructor(e,t,i,r,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,t,i,r,s)}}class kB extends rh{constructor(e,t,i,r,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,t,i,r,s,o)}}class NB extends sh{constructor(e,t,i,r,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,t,i,r,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Ym}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Ym);const H1=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:p_,AddEquation:fa,AddOperation:uC,AdditiveAnimationBlendMode:y_,AdditiveBlending:r1,AlphaFormat:xC,AlwaysDepth:nC,AlwaysStencilFunc:NC,AmbientLight:IP,AmbientLightProbe:EF,AnimationClip:Pf,AnimationLoader:fF,AnimationMixer:GF,AnimationObjectGroup:UF,AnimationUtils:aF,ArcCurve:rP,ArrayCamera:YC,ArrowHelper:cB,Audio:OP,AudioAnalyser:LF,AudioContext:X_,AudioListener:bF,AudioLoader:SF,AxesHelper:fB,BackSide:Ei,BasicDepthPacking:IC,BasicShadowMap:Hb,Bone:R_,BooleanKeyframeTrack:Xa,Box2:JF,Box3:Ga,Box3Helper:lB,BoxBufferGeometry:yB,BoxGeometry:Fo,BoxHelper:aB,BufferAttribute:Nt,BufferGeometry:ut,BufferGeometryLoader:zP,ByteType:pC,Cache:Ba,Camera:jf,CameraHelper:oB,CanvasTexture:RO,CapsuleBufferGeometry:vB,CapsuleGeometry:Yf,CatmullRomCurve3:sP,CineonToneMapping:hC,CircleBufferGeometry:xB,CircleGeometry:qf,ClampToEdgeWrapping:Kn,Clock:Q_,Color:Ie,ColorKeyframeTrack:G_,ColorManagement:Jn,CompressedArrayTexture:LO,CompressedTexture:I_,CompressedTextureLoader:hF,ConeBufferGeometry:_B,ConeGeometry:Jf,CubeCamera:E_,CubeReflectionMapping:bo,CubeRefractionMapping:Co,CubeTexture:Xf,CubeTextureLoader:dF,CubeUVReflectionMapping:Mu,CubicBezierCurve:k_,CubicBezierCurve3:oP,CubicInterpolant:EP,CullFaceBack:i1,CullFaceFront:Vb,CullFaceFrontBack:b5,CullFaceNone:Ub,Curve:Lr,CurvePath:lP,CustomBlending:Gb,CustomToneMapping:dC,CylinderBufferGeometry:wB,CylinderGeometry:ja,Cylindrical:qF,Data3DTexture:w_,DataArrayTexture:Km,DataTexture:su,DataTextureLoader:pF,DataUtils:gB,DecrementStencilOp:U5,DecrementWrapStencilOp:H5,DefaultLoadingManager:bP,DepthFormat:Mo,DepthStencilFormat:za,DepthTexture:qC,DirectionalLight:RP,DirectionalLightHelper:sB,DiscreteInterpolant:TP,DisplayP3ColorSpace:v_,DodecahedronBufferGeometry:SB,DodecahedronGeometry:Zf,DoubleSide:xs,DstAlphaFactor:Jb,DstColorFactor:Kb,DynamicCopyUsage:nk,DynamicDrawUsage:ba,DynamicReadUsage:$5,EdgesGeometry:uP,EllipseCurve:ag,EqualDepth:rC,EqualStencilFunc:X5,EquirectangularReflectionMapping:df,EquirectangularRefractionMapping:pf,Euler:Wf,EventDispatcher:Os,ExtrudeBufferGeometry:MB,ExtrudeGeometry:Kf,FileLoader:ks,Float16BufferAttribute:Gk,Float32BufferAttribute:Be,Float64BufferAttribute:Wk,FloatType:_s,Fog:ig,FogExp2:ng,FramebufferTexture:PO,FrontSide:Rs,Frustum:$m,GLBufferAttribute:QF,GLSL1:rk,GLSL3:I1,GreaterDepth:oC,GreaterEqualDepth:sC,GreaterEqualStencilFunc:J5,GreaterStencilFunc:Y5,GridHelper:iB,Group:Ql,HalfFloatType:pu,HemisphereLight:CP,HemisphereLightHelper:nB,HemisphereLightProbe:MF,IcosahedronBufferGeometry:EB,IcosahedronGeometry:$f,ImageBitmapLoader:wF,ImageLoader:Lf,ImageUtils:__,IncrementStencilOp:B5,IncrementWrapStencilOp:V5,InstancedBufferAttribute:yu,InstancedBufferGeometry:NP,InstancedInterleavedBuffer:XF,InstancedMesh:tP,Int16BufferAttribute:Vk,Int32BufferAttribute:Hk,Int8BufferAttribute:Fk,IntType:gC,InterleavedBuffer:rg,InterleavedBufferAttribute:Oa,Interpolant:oh,InterpolateDiscrete:yf,InterpolateLinear:vf,InterpolateSmooth:zp,InvertStencilOp:G5,KeepStencilOp:Op,KeyframeTrack:Rr,LOD:$C,LatheBufferGeometry:TB,LatheGeometry:Au,Layers:Pa,LessDepth:iC,LessEqualDepth:hm,LessEqualStencilFunc:Q5,LessStencilFunc:j5,Light:Bo,LightProbe:cg,Line:Lo,Line3:ZF,LineBasicMaterial:di,LineCurve:lg,LineCurve3:aP,LineDashedMaterial:SP,LineLoop:nP,LineSegments:Zr,LinearEncoding:Ds,LinearFilter:hn,LinearInterpolant:H_,LinearMipMapLinearFilter:I5,LinearMipMapNearestFilter:R5,LinearMipmapLinearFilter:Po,LinearMipmapNearestFilter:m_,LinearSRGBColorSpace:mu,LinearToneMapping:cC,Loader:Hi,LoaderUtils:U1,LoadingManager:W_,LoopOnce:PC,LoopPingPong:RC,LoopRepeat:LC,LuminanceAlphaFormat:wC,LuminanceFormat:_C,MOUSE:T5,Material:Un,MaterialLoader:fg,MathUtils:vk,Matrix3:zn,Matrix4:st,MaxEquation:l1,Mesh:On,MeshBasicMaterial:Oo,MeshDepthMaterial:b_,MeshDistanceMaterial:C_,MeshLambertMaterial:_P,MeshMatcapMaterial:wP,MeshNormalMaterial:xP,MeshPhongMaterial:yP,MeshPhysicalMaterial:gP,MeshStandardMaterial:B_,MeshToonMaterial:vP,MinEquation:a1,MirroredRepeatWrapping:gf,MixOperation:lC,MultiplyBlending:o1,MultiplyOperation:Hf,NearestFilter:cn,NearestMipMapLinearFilter:L5,NearestMipMapNearestFilter:P5,NearestMipmapLinearFilter:Oc,NearestMipmapNearestFilter:dm,NeverDepth:tC,NeverStencilFunc:W5,NoBlending:Es,NoColorSpace:z5,NoToneMapping:br,NormalAnimationBlendMode:Zm,NormalBlending:Ta,NotEqualDepth:aC,NotEqualStencilFunc:q5,NumberKeyframeTrack:bf,Object3D:At,ObjectLoader:xF,ObjectSpaceNormalMap:kC,OctahedronBufferGeometry:AB,OctahedronGeometry:bu,OneFactor:Qb,OneMinusDstAlphaFactor:Zb,OneMinusDstColorFactor:$b,OneMinusSrcAlphaFactor:d_,OneMinusSrcColorFactor:qb,OrthographicCamera:Qf,PCFShadowMap:qm,PCFSoftShadowMap:zc,PMREMGenerator:k1,Path:Mf,PerspectiveCamera:Rn,Plane:ro,PlaneBufferGeometry:bB,PlaneGeometry:Eu,PlaneHelper:uB,PointLight:LP,PointLightHelper:eB,Points:iP,PointsMaterial:og,PolarGridHelper:rB,PolyhedronBufferGeometry:CB,PolyhedronGeometry:Fs,PositionalAudio:PF,PropertyBinding:_t,PropertyMixer:FP,QuadraticBezierCurve:N_,QuadraticBezierCurve3:z_,Quaternion:Ti,QuaternionKeyframeTrack:Pu,QuaternionLinearInterpolant:AP,RED_GREEN_RGTC2_Format:L1,RED_RGTC1_Format:CC,REVISION:Ym,RGBADepthPacking:DC,RGBAFormat:xi,RGBAIntegerFormat:AC,RGBA_ASTC_10x10_Format:A1,RGBA_ASTC_10x5_Format:M1,RGBA_ASTC_10x6_Format:E1,RGBA_ASTC_10x8_Format:T1,RGBA_ASTC_12x10_Format:b1,RGBA_ASTC_12x12_Format:C1,RGBA_ASTC_4x4_Format:m1,RGBA_ASTC_5x4_Format:g1,RGBA_ASTC_5x5_Format:y1,RGBA_ASTC_6x5_Format:v1,RGBA_ASTC_6x6_Format:x1,RGBA_ASTC_8x5_Format:_1,RGBA_ASTC_8x6_Format:w1,RGBA_ASTC_8x8_Format:S1,RGBA_BPTC_Format:Np,RGBA_ETC2_EAC_Format:p1,RGBA_PVRTC_2BPPV1_Format:h1,RGBA_PVRTC_4BPPV1_Format:f1,RGBA_S3TC_DXT1_Format:Ip,RGBA_S3TC_DXT3_Format:Dp,RGBA_S3TC_DXT5_Format:kp,RGB_ETC1_Format:bC,RGB_ETC2_Format:d1,RGB_PVRTC_2BPPV1_Format:c1,RGB_PVRTC_4BPPV1_Format:u1,RGB_S3TC_DXT1_Format:Rp,RGFormat:EC,RGIntegerFormat:TC,RawShaderMaterial:mP,Ray:Gf,Raycaster:BP,RectAreaLight:DP,RedFormat:SC,RedIntegerFormat:MC,ReinhardToneMapping:fC,RepeatWrapping:mf,ReplaceStencilOp:F5,ReverseSubtractEquation:jb,RingBufferGeometry:PB,RingGeometry:eh,SIGNED_RED_GREEN_RGTC2_Format:R1,SIGNED_RED_RGTC1_Format:P1,SRGBColorSpace:Sr,Scene:P_,ShaderChunk:lt,ShaderLib:Er,ShaderMaterial:Jr,ShadowMaterial:pP,Shape:La,ShapeBufferGeometry:LB,ShapeGeometry:th,ShapePath:hB,ShapeUtils:Yr,ShortType:mC,Skeleton:sg,SkeletonHelper:$F,SkinnedMesh:eP,Source:_a,Sphere:Wa,SphereBufferGeometry:RB,SphereGeometry:Cu,Spherical:YF,SphericalHarmonics3:kP,SplineCurve:O_,SpotLight:PP,SpotLightHelper:KF,Sprite:KC,SpriteMaterial:L_,SrcAlphaFactor:h_,SrcAlphaSaturateFactor:eC,SrcColorFactor:Yb,StaticCopyUsage:tk,StaticDrawUsage:_f,StaticReadUsage:K5,StereoCamera:TF,StreamCopyUsage:ik,StreamDrawUsage:Z5,StreamReadUsage:ek,StringKeyframeTrack:Qa,SubtractEquation:Wb,SubtractiveBlending:s1,TOUCH:A5,TangentSpaceNormalMap:zo,TetrahedronBufferGeometry:IB,TetrahedronGeometry:nh,Texture:on,TextureLoader:mF,TorusBufferGeometry:DB,TorusGeometry:ih,TorusKnotBufferGeometry:kB,TorusKnotGeometry:rh,Triangle:rr,TriangleFanDrawMode:N5,TriangleStripDrawMode:k5,TrianglesDrawMode:D5,TubeBufferGeometry:NB,TubeGeometry:sh,TwoPassDoubleSide:C5,UVMapping:Jm,Uint16BufferAttribute:S_,Uint32BufferAttribute:M_,Uint8BufferAttribute:Bk,Uint8ClampedBufferAttribute:Uk,Uniform:J_,UniformsGroup:jF,UniformsLib:Te,UniformsUtils:VC,UnsignedByteType:Is,UnsignedInt248Type:Aa,UnsignedIntType:co,UnsignedShort4444Type:yC,UnsignedShort5551Type:vC,UnsignedShortType:g_,VSMShadowMap:ya,Vector2:ge,Vector3:z,Vector4:Pt,VectorKeyframeTrack:Cf,VideoTexture:CO,WebGL1Renderer:JC,WebGL3DRenderTarget:Ck,WebGLArrayRenderTarget:bk,WebGLCubeRenderTarget:T_,WebGLMultipleRenderTargets:Pk,WebGLRenderTarget:Pr,WebGLRenderer:tg,WebGLUtils:QC,WireframeGeometry:dP,WrapAroundEnding:xf,ZeroCurvatureEnding:va,ZeroFactor:Xb,ZeroSlopeEnding:xa,ZeroStencilOp:O5,_SRGBAFormat:pm,sRGBEncoding:It},Symbol.toStringTag,{value:"Module"}));var ho={},zB={get exports(){return ho},set exports(n){ho=n}},Ya={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Ya.ConcurrentRoot=1;Ya.ContinuousEventPriority=4;Ya.DefaultEventPriority=16;Ya.DiscreteEventPriority=1;Ya.IdleEventPriority=536870912;Ya.LegacyRoot=0;(function(n){n.exports=Ya})(zB);function OB(n){let e;const t=new Set,i=(f,h)=>{const d=typeof f=="function"?f(e):f;if(d!==e){const p=e;e=h?d:Object.assign({},e,d),t.forEach(g=>g(e,p))}},r=()=>e,s=(f,h=r,d=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=h(e);function g(){const y=h(e);if(!d(p,y)){const v=p;f(p=y,v)}}return t.add(g),()=>t.delete(g)},u={setState:i,getState:r,subscribe:(f,h,d)=>h||d?s(f,h,d):(t.add(f),()=>t.delete(f)),destroy:()=>t.clear()};return e=n(i,r,u),u}const FB=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Q3=FB?G.useEffect:G.useLayoutEffect;function BB(n){const e=typeof n=="function"?OB(n):n,t=(i=e.getState,r=Object.is)=>{const[,s]=G.useReducer(w=>w+1,0),o=e.getState(),a=G.useRef(o),u=G.useRef(i),f=G.useRef(r),h=G.useRef(!1),d=G.useRef();d.current===void 0&&(d.current=i(o));let p,g=!1;(a.current!==o||u.current!==i||f.current!==r||h.current)&&(p=i(o),g=!r(d.current,p)),Q3(()=>{g&&(d.current=p),a.current=o,u.current=i,f.current=r,h.current=!1});const y=G.useRef(o);Q3(()=>{const w=()=>{try{const _=e.getState(),S=u.current(_);f.current(d.current,S)||(a.current=_,d.current=S,s())}catch{h.current=!0,s()}},M=e.subscribe(w);return e.getState()!==y.current&&w(),M},[]);const v=g?p:d.current;return G.useDebugValue(v),v};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const i=[t,e];return{next(){const r=i.length<=0;return{value:i.shift(),done:r}}}},t}var G1={},UB={get exports(){return G1},set exports(n){G1=n}},mm={},VB={get exports(){return mm},set exports(n){mm=n}},Oy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y3;function HB(){return Y3||(Y3=1,function(n){function e(I,B){var U=I.length;I.push(B);e:for(;0<U;){var te=U-1>>>1,H=I[te];if(0<r(H,B))I[te]=B,I[U]=H,U=te;else break e}}function t(I){return I.length===0?null:I[0]}function i(I){if(I.length===0)return null;var B=I[0],U=I.pop();if(U!==B){I[0]=U;e:for(var te=0,H=I.length,ue=H>>>1;te<ue;){var me=2*(te+1)-1,q=I[me],xe=me+1,_e=I[xe];if(0>r(q,U))xe<H&&0>r(_e,q)?(I[te]=_e,I[xe]=U,te=xe):(I[te]=q,I[me]=U,te=me);else if(xe<H&&0>r(_e,U))I[te]=_e,I[xe]=U,te=xe;else break e}}return B}function r(I,B){var U=I.sortIndex-B.sortIndex;return U!==0?U:I.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var u=[],f=[],h=1,d=null,p=3,g=!1,y=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(I){for(var B=t(f);B!==null;){if(B.callback===null)i(f);else if(B.startTime<=I)i(f),B.sortIndex=B.expirationTime,e(u,B);else break;B=t(f)}}function T(I){if(v=!1,S(I),!y)if(t(u)!==null)y=!0,ne(C);else{var B=t(f);B!==null&&fe(T,B.startTime-I)}}function C(I,B){y=!1,v&&(v=!1,M(b),b=-1),g=!0;var U=p;try{for(S(B),d=t(u);d!==null&&(!(d.expirationTime>B)||I&&!V());){var te=d.callback;if(typeof te=="function"){d.callback=null,p=d.priorityLevel;var H=te(d.expirationTime<=B);B=n.unstable_now(),typeof H=="function"?d.callback=H:d===t(u)&&i(u),S(B)}else i(u);d=t(u)}if(d!==null)var ue=!0;else{var me=t(f);me!==null&&fe(T,me.startTime-B),ue=!1}return ue}finally{d=null,p=U,g=!1}}var P=!1,R=null,b=-1,L=5,D=-1;function V(){return!(n.unstable_now()-D<L)}function K(){if(R!==null){var I=n.unstable_now();D=I;var B=!0;try{B=R(!0,I)}finally{B?Y():(P=!1,R=null)}}else P=!1}var Y;if(typeof _=="function")Y=function(){_(K)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,J=W.port2;W.port1.onmessage=K,Y=function(){J.postMessage(null)}}else Y=function(){w(K,0)};function ne(I){R=I,P||(P=!0,Y())}function fe(I,B){b=w(function(){I(n.unstable_now())},B)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(I){I.callback=null},n.unstable_continueExecution=function(){y||g||(y=!0,ne(C))},n.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<I?Math.floor(1e3/I):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(u)},n.unstable_next=function(I){switch(p){case 1:case 2:case 3:var B=3;break;default:B=p}var U=p;p=B;try{return I()}finally{p=U}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(I,B){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var U=p;p=I;try{return B()}finally{p=U}},n.unstable_scheduleCallback=function(I,B,U){var te=n.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?te+U:te):U=te,I){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=U+H,I={id:h++,callback:B,priorityLevel:I,startTime:U,expirationTime:H,sortIndex:-1},U>te?(I.sortIndex=U,e(f,I),t(u)===null&&I===t(f)&&(v?(M(b),b=-1):v=!0,fe(T,U-te))):(I.sortIndex=H,e(u,I),y||g||(y=!0,ne(C))),I},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(I){var B=p;return function(){var U=p;p=B;try{return I.apply(this,arguments)}finally{p=U}}}}(Oy)),Oy}var q3;function GB(){return q3||(q3=1,function(n){n.exports=HB()}(VB)),mm}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WB=function(e){var t={},i=G,r=GB(),s=Object.assign;function o(l){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+l,m=1;m<arguments.length;m++)c+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,u=Symbol.for("react.element"),f=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),y=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),T=Symbol.for("react.offscreen"),C=Symbol.iterator;function P(l){return l===null||typeof l!="object"?null:(l=C&&l[C]||l["@@iterator"],typeof l=="function"?l:null)}function R(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case h:return"Fragment";case f:return"Portal";case p:return"Profiler";case d:return"StrictMode";case w:return"Suspense";case M:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case y:return(l.displayName||"Context")+".Consumer";case g:return(l._context.displayName||"Context")+".Provider";case v:var c=l.render;return l=l.displayName,l||(l=c.displayName||c.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case _:return c=l.displayName||null,c!==null?c:R(l.type)||"Memo";case S:c=l._payload,l=l._init;try{return R(l(c))}catch{}}return null}function b(l){var c=l.type;switch(l.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=c.render,l=l.displayName||l.name||"",c.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return R(c);case 8:return c===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function L(l){var c=l,m=l;if(l.alternate)for(;c.return;)c=c.return;else{l=c;do c=l,c.flags&4098&&(m=c.return),l=c.return;while(l)}return c.tag===3?m:null}function D(l){if(L(l)!==l)throw Error(o(188))}function V(l){var c=l.alternate;if(!c){if(c=L(l),c===null)throw Error(o(188));return c!==l?null:l}for(var m=l,x=c;;){var E=m.return;if(E===null)break;var A=E.alternate;if(A===null){if(x=E.return,x!==null){m=x;continue}break}if(E.child===A.child){for(A=E.child;A;){if(A===m)return D(E),l;if(A===x)return D(E),c;A=A.sibling}throw Error(o(188))}if(m.return!==x.return)m=E,x=A;else{for(var O=!1,j=E.child;j;){if(j===m){O=!0,m=E,x=A;break}if(j===x){O=!0,x=E,m=A;break}j=j.sibling}if(!O){for(j=A.child;j;){if(j===m){O=!0,m=A,x=E;break}if(j===x){O=!0,x=A,m=E;break}j=j.sibling}if(!O)throw Error(o(189))}}if(m.alternate!==x)throw Error(o(190))}if(m.tag!==3)throw Error(o(188));return m.stateNode.current===m?l:c}function K(l){return l=V(l),l!==null?Y(l):null}function Y(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var c=Y(l);if(c!==null)return c;l=l.sibling}return null}function W(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){if(l.tag!==4){var c=W(l);if(c!==null)return c}l=l.sibling}return null}var J=Array.isArray,ne=e.getPublicInstance,fe=e.getRootHostContext,I=e.getChildHostContext,B=e.prepareForCommit,U=e.resetAfterCommit,te=e.createInstance,H=e.appendInitialChild,ue=e.finalizeInitialChildren,me=e.prepareUpdate,q=e.shouldSetTextContent,xe=e.createTextInstance,_e=e.scheduleTimeout,ke=e.cancelTimeout,ze=e.noTimeout,Oe=e.isPrimaryRenderer,Ve=e.supportsMutation,he=e.supportsPersistence,pe=e.supportsHydration,Ee=e.getInstanceFromNode,He=e.preparePortalMount,Ae=e.getCurrentEventPriority,$e=e.detachDeletedInstance,Xe=e.supportsMicrotasks,et=e.scheduleMicrotask,St=e.supportsTestSelectors,bt=e.findFiberRoot,F=e.getBoundingRect,k=e.getTextContent,re=e.isHiddenSubtree,Se=e.matchAccessibilityRole,Me=e.setFocusIfFocusable,Ce=e.setupIntersectionObserver,je=e.appendChild,Le=e.appendChildToContainer,de=e.commitTextUpdate,qe=e.commitMount,Ue=e.commitUpdate,tt=e.insertBefore,Ze=e.insertInContainerBefore,Qe=e.removeChild,yt=e.removeChildFromContainer,zt=e.resetTextContent,pn=e.hideInstance,X=e.hideTextInstance,le=e.unhideInstance,ye=e.unhideTextInstance,Re=e.clearContainer,Fe=e.cloneInstance,Rt=e.createContainerChildSet,an=e.appendChildToContainerChildSet,Dn=e.finalizeContainerChildren,bi=e.replaceContainerChildren,Vt=e.cloneHiddenInstance,ei=e.cloneHiddenTextInstance,Gi=e.canHydrateInstance,Eg=e.canHydrateTextInstance,Tg=e.canHydrateSuspenseInstance,dh=e.isSuspenseInstancePending,N=e.isSuspenseInstanceFallback,ee=e.registerSuspenseInstanceRetry,oe=e.getNextHydratableSibling,Z=e.getFirstHydratableChild,ce=e.getFirstHydratableChildWithinContainer,Ye=e.getFirstHydratableChildWithinSuspenseInstance,nt=e.hydrateInstance,ot=e.hydrateTextInstance,ct=e.hydrateSuspenseInstance,vt=e.getNextHydratableInstanceAfterSuspenseInstance,dt=e.commitHydratedContainer,pt=e.commitHydratedSuspenseInstance,Kt=e.clearSuspenseBoundary,ti=e.clearSuspenseBoundaryFromContainer,fr=e.shouldDeleteUnhydratedTailInstances,Kr=e.didNotMatchHydratedContainerTextInstance,$t=e.didNotMatchHydratedTextInstance,ht;function $r(l){if(ht===void 0)try{throw Error()}catch(m){var c=m.stack.trim().match(/\n( *(at )?)/);ht=c&&c[1]||""}return`
`+ht+l}var en=!1;function hr(l,c){if(!l||en)return"";en=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(we){var x=we}Reflect.construct(l,[],c)}else{try{c.call()}catch(we){x=we}l.call(c.prototype)}else{try{throw Error()}catch(we){x=we}l()}}catch(we){if(we&&x&&typeof we.stack=="string"){for(var E=we.stack.split(`
`),A=x.stack.split(`
`),O=E.length-1,j=A.length-1;1<=O&&0<=j&&E[O]!==A[j];)j--;for(;1<=O&&0<=j;O--,j--)if(E[O]!==A[j]){if(O!==1||j!==1)do if(O--,j--,0>j||E[O]!==A[j]){var se=`
`+E[O].replace(" at new "," at ");return l.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",l.displayName)),se}while(1<=O&&0<=j);break}}}finally{en=!1,Error.prepareStackTrace=m}return(l=l?l.displayName||l.name:"")?$r(l):""}var ph=Object.prototype.hasOwnProperty,es=[],Ir=-1;function Ht(l){return{current:l}}function xt(l){0>Ir||(l.current=es[Ir],es[Ir]=null,Ir--)}function Ct(l,c){Ir++,es[Ir]=l.current,l.current=c}var tn={},mn=Ht(tn),Vn=Ht(!1),Dr=tn;function Za(l,c){var m=l.type.contextTypes;if(!m)return tn;var x=l.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===c)return x.__reactInternalMemoizedMaskedChildContext;var E={},A;for(A in m)E[A]=c[A];return x&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=c,l.__reactInternalMemoizedMaskedChildContext=E),E}function pi(l){return l=l.childContextTypes,l!=null}function mh(){xt(Vn),xt(mn)}function Pw(l,c,m){if(mn.current!==tn)throw Error(o(168));Ct(mn,c),Ct(Vn,m)}function Lw(l,c,m){var x=l.stateNode;if(c=c.childContextTypes,typeof x.getChildContext!="function")return m;x=x.getChildContext();for(var E in x)if(!(E in c))throw Error(o(108,b(l)||"Unknown",E));return s({},m,x)}function gh(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||tn,Dr=mn.current,Ct(mn,l),Ct(Vn,Vn.current),!0}function Rw(l,c,m){var x=l.stateNode;if(!x)throw Error(o(169));m?(l=Lw(l,c,Dr),x.__reactInternalMemoizedMergedChildContext=l,xt(Vn),xt(mn),Ct(mn,l)):xt(Vn),Ct(Vn,m)}var dr=Math.clz32?Math.clz32:PR,bR=Math.log,CR=Math.LN2;function PR(l){return l>>>=0,l===0?32:31-(bR(l)/CR|0)|0}var yh=64,vh=4194304;function Lu(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function xh(l,c){var m=l.pendingLanes;if(m===0)return 0;var x=0,E=l.suspendedLanes,A=l.pingedLanes,O=m&268435455;if(O!==0){var j=O&~E;j!==0?x=Lu(j):(A&=O,A!==0&&(x=Lu(A)))}else O=m&~E,O!==0?x=Lu(O):A!==0&&(x=Lu(A));if(x===0)return 0;if(c!==0&&c!==x&&!(c&E)&&(E=x&-x,A=c&-c,E>=A||E===16&&(A&4194240)!==0))return c;if(x&4&&(x|=m&16),c=l.entangledLanes,c!==0)for(l=l.entanglements,c&=x;0<c;)m=31-dr(c),E=1<<m,x|=l[m],c&=~E;return x}function LR(l,c){switch(l){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function RR(l,c){for(var m=l.suspendedLanes,x=l.pingedLanes,E=l.expirationTimes,A=l.pendingLanes;0<A;){var O=31-dr(A),j=1<<O,se=E[O];se===-1?(!(j&m)||j&x)&&(E[O]=LR(j,c)):se<=c&&(l.expiredLanes|=j),A&=~j}}function Ag(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function bg(l){for(var c=[],m=0;31>m;m++)c.push(l);return c}function Ru(l,c,m){l.pendingLanes|=c,c!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,c=31-dr(c),l[c]=m}function IR(l,c){var m=l.pendingLanes&~c;l.pendingLanes=c,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=c,l.mutableReadLanes&=c,l.entangledLanes&=c,c=l.entanglements;var x=l.eventTimes;for(l=l.expirationTimes;0<m;){var E=31-dr(m),A=1<<E;c[E]=0,x[E]=-1,l[E]=-1,m&=~A}}function Cg(l,c){var m=l.entangledLanes|=c;for(l=l.entanglements;m;){var x=31-dr(m),E=1<<x;E&c|l[x]&c&&(l[x]|=c),m&=~E}}var Mt=0;function Iw(l){return l&=-l,1<l?4<l?l&268435455?16:536870912:4:1}var Pg=r.unstable_scheduleCallback,Dw=r.unstable_cancelCallback,DR=r.unstable_shouldYield,kR=r.unstable_requestPaint,An=r.unstable_now,Lg=r.unstable_ImmediatePriority,NR=r.unstable_UserBlockingPriority,Rg=r.unstable_NormalPriority,zR=r.unstable_IdlePriority,_h=null,kr=null;function OR(l){if(kr&&typeof kr.onCommitFiberRoot=="function")try{kr.onCommitFiberRoot(_h,l,void 0,(l.current.flags&128)===128)}catch{}}function FR(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var Nr=typeof Object.is=="function"?Object.is:FR,ts=null,wh=!1,Ig=!1;function kw(l){ts===null?ts=[l]:ts.push(l)}function BR(l){wh=!0,kw(l)}function zr(){if(!Ig&&ts!==null){Ig=!0;var l=0,c=Mt;try{var m=ts;for(Mt=1;l<m.length;l++){var x=m[l];do x=x(!0);while(x!==null)}ts=null,wh=!1}catch(E){throw ts!==null&&(ts=ts.slice(l+1)),Pg(Lg,zr),E}finally{Mt=c,Ig=!1}}return null}var UR=a.ReactCurrentBatchConfig;function Sh(l,c){if(Nr(l,c))return!0;if(typeof l!="object"||l===null||typeof c!="object"||c===null)return!1;var m=Object.keys(l),x=Object.keys(c);if(m.length!==x.length)return!1;for(x=0;x<m.length;x++){var E=m[x];if(!ph.call(c,E)||!Nr(l[E],c[E]))return!1}return!0}function VR(l){switch(l.tag){case 5:return $r(l.type);case 16:return $r("Lazy");case 13:return $r("Suspense");case 19:return $r("SuspenseList");case 0:case 2:case 15:return l=hr(l.type,!1),l;case 11:return l=hr(l.type.render,!1),l;case 1:return l=hr(l.type,!0),l;default:return""}}function pr(l,c){if(l&&l.defaultProps){c=s({},c),l=l.defaultProps;for(var m in l)c[m]===void 0&&(c[m]=l[m]);return c}return c}var Mh=Ht(null),Eh=null,Ka=null,Dg=null;function kg(){Dg=Ka=Eh=null}function Nw(l,c,m){Oe?(Ct(Mh,c._currentValue),c._currentValue=m):(Ct(Mh,c._currentValue2),c._currentValue2=m)}function Ng(l){var c=Mh.current;xt(Mh),Oe?l._currentValue=c:l._currentValue2=c}function zg(l,c,m){for(;l!==null;){var x=l.alternate;if((l.childLanes&c)!==c?(l.childLanes|=c,x!==null&&(x.childLanes|=c)):x!==null&&(x.childLanes&c)!==c&&(x.childLanes|=c),l===m)break;l=l.return}}function $a(l,c){Eh=l,Dg=Ka=null,l=l.dependencies,l!==null&&l.firstContext!==null&&(l.lanes&c&&(Li=!0),l.firstContext=null)}function Wi(l){var c=Oe?l._currentValue:l._currentValue2;if(Dg!==l)if(l={context:l,memoizedValue:c,next:null},Ka===null){if(Eh===null)throw Error(o(308));Ka=l,Eh.dependencies={lanes:0,firstContext:l}}else Ka=Ka.next=l;return c}var Or=null,Bs=!1;function Og(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zw(l,c){l=l.updateQueue,c.updateQueue===l&&(c.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function ns(l,c){return{eventTime:l,lane:c,tag:0,payload:null,callback:null,next:null}}function Us(l,c){var m=l.updateQueue;m!==null&&(m=m.shared,gn!==null&&l.mode&1&&!(ft&2)?(l=m.interleaved,l===null?(c.next=c,Or===null?Or=[m]:Or.push(m)):(c.next=l.next,l.next=c),m.interleaved=c):(l=m.pending,l===null?c.next=c:(c.next=l.next,l.next=c),m.pending=c))}function Th(l,c,m){if(c=c.updateQueue,c!==null&&(c=c.shared,(m&4194240)!==0)){var x=c.lanes;x&=l.pendingLanes,m|=x,c.lanes=m,Cg(l,m)}}function Ow(l,c){var m=l.updateQueue,x=l.alternate;if(x!==null&&(x=x.updateQueue,m===x)){var E=null,A=null;if(m=m.firstBaseUpdate,m!==null){do{var O={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};A===null?E=A=O:A=A.next=O,m=m.next}while(m!==null);A===null?E=A=c:A=A.next=c}else E=A=c;m={baseState:x.baseState,firstBaseUpdate:E,lastBaseUpdate:A,shared:x.shared,effects:x.effects},l.updateQueue=m;return}l=m.lastBaseUpdate,l===null?m.firstBaseUpdate=c:l.next=c,m.lastBaseUpdate=c}function Ah(l,c,m,x){var E=l.updateQueue;Bs=!1;var A=E.firstBaseUpdate,O=E.lastBaseUpdate,j=E.shared.pending;if(j!==null){E.shared.pending=null;var se=j,we=se.next;se.next=null,O===null?A=we:O.next=we,O=se;var Ne=l.alternate;Ne!==null&&(Ne=Ne.updateQueue,j=Ne.lastBaseUpdate,j!==O&&(j===null?Ne.firstBaseUpdate=we:j.next=we,Ne.lastBaseUpdate=se))}if(A!==null){var it=E.baseState;O=0,Ne=we=se=null,j=A;do{var Je=j.lane,Dt=j.eventTime;if((x&Je)===Je){Ne!==null&&(Ne=Ne.next={eventTime:Dt,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var We=l,jn=j;switch(Je=c,Dt=m,jn.tag){case 1:if(We=jn.payload,typeof We=="function"){it=We.call(Dt,it,Je);break e}it=We;break e;case 3:We.flags=We.flags&-65537|128;case 0:if(We=jn.payload,Je=typeof We=="function"?We.call(Dt,it,Je):We,Je==null)break e;it=s({},it,Je);break e;case 2:Bs=!0}}j.callback!==null&&j.lane!==0&&(l.flags|=64,Je=E.effects,Je===null?E.effects=[j]:Je.push(j))}else Dt={eventTime:Dt,lane:Je,tag:j.tag,payload:j.payload,callback:j.callback,next:null},Ne===null?(we=Ne=Dt,se=it):Ne=Ne.next=Dt,O|=Je;if(j=j.next,j===null){if(j=E.shared.pending,j===null)break;Je=j,j=Je.next,Je.next=null,E.lastBaseUpdate=Je,E.shared.pending=null}}while(1);if(Ne===null&&(se=it),E.baseState=se,E.firstBaseUpdate=we,E.lastBaseUpdate=Ne,c=E.shared.interleaved,c!==null){E=c;do O|=E.lane,E=E.next;while(E!==c)}else A===null&&(E.shared.lanes=0);ll|=O,l.lanes=O,l.memoizedState=it}}function Fw(l,c,m){if(l=c.effects,c.effects=null,l!==null)for(c=0;c<l.length;c++){var x=l[c],E=x.callback;if(E!==null){if(x.callback=null,x=m,typeof E!="function")throw Error(o(191,E));E.call(x)}}}var Bw=new i.Component().refs;function Fg(l,c,m,x){c=l.memoizedState,m=m(x,c),m=m==null?c:s({},c,m),l.memoizedState=m,l.lanes===0&&(l.updateQueue.baseState=m)}var bh={isMounted:function(l){return(l=l._reactInternals)?L(l)===l:!1},enqueueSetState:function(l,c,m){l=l._reactInternals;var x=ii(),E=Gs(l),A=ns(x,E);A.payload=c,m!=null&&(A.callback=m),Us(l,A),c=qi(l,E,x),c!==null&&Th(c,l,E)},enqueueReplaceState:function(l,c,m){l=l._reactInternals;var x=ii(),E=Gs(l),A=ns(x,E);A.tag=1,A.payload=c,m!=null&&(A.callback=m),Us(l,A),c=qi(l,E,x),c!==null&&Th(c,l,E)},enqueueForceUpdate:function(l,c){l=l._reactInternals;var m=ii(),x=Gs(l),E=ns(m,x);E.tag=2,c!=null&&(E.callback=c),Us(l,E),c=qi(l,x,m),c!==null&&Th(c,l,x)}};function Uw(l,c,m,x,E,A,O){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(x,A,O):c.prototype&&c.prototype.isPureReactComponent?!Sh(m,x)||!Sh(E,A):!0}function Vw(l,c,m){var x=!1,E=tn,A=c.contextType;return typeof A=="object"&&A!==null?A=Wi(A):(E=pi(c)?Dr:mn.current,x=c.contextTypes,A=(x=x!=null)?Za(l,E):tn),c=new c(m,A),l.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=bh,l.stateNode=c,c._reactInternals=l,x&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=E,l.__reactInternalMemoizedMaskedChildContext=A),c}function Hw(l,c,m,x){l=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(m,x),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(m,x),c.state!==l&&bh.enqueueReplaceState(c,c.state,null)}function Bg(l,c,m,x){var E=l.stateNode;E.props=m,E.state=l.memoizedState,E.refs=Bw,Og(l);var A=c.contextType;typeof A=="object"&&A!==null?E.context=Wi(A):(A=pi(c)?Dr:mn.current,E.context=Za(l,A)),E.state=l.memoizedState,A=c.getDerivedStateFromProps,typeof A=="function"&&(Fg(l,c,A,m),E.state=l.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(c=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),c!==E.state&&bh.enqueueReplaceState(E,E.state,null),Ah(l,m,E,x),E.state=l.memoizedState),typeof E.componentDidMount=="function"&&(l.flags|=4194308)}var el=[],tl=0,Ch=null,Ph=0,ji=[],Xi=0,Vo=null,is=1,rs="";function Ho(l,c){el[tl++]=Ph,el[tl++]=Ch,Ch=l,Ph=c}function Gw(l,c,m){ji[Xi++]=is,ji[Xi++]=rs,ji[Xi++]=Vo,Vo=l;var x=is;l=rs;var E=32-dr(x)-1;x&=~(1<<E),m+=1;var A=32-dr(c)+E;if(30<A){var O=E-E%5;A=(x&(1<<O)-1).toString(32),x>>=O,E-=O,is=1<<32-dr(c)+E|m<<E|x,rs=A+l}else is=1<<A|m<<E|x,rs=l}function Ug(l){l.return!==null&&(Ho(l,1),Gw(l,1,0))}function Vg(l){for(;l===Ch;)Ch=el[--tl],el[tl]=null,Ph=el[--tl],el[tl]=null;for(;l===Vo;)Vo=ji[--Xi],ji[Xi]=null,rs=ji[--Xi],ji[Xi]=null,is=ji[--Xi],ji[Xi]=null}var Ci=null,Pi=null,Gt=!1,Iu=!1,mr=null;function Ww(l,c){var m=Ji(5,null,null,0);m.elementType="DELETED",m.stateNode=c,m.return=l,c=l.deletions,c===null?(l.deletions=[m],l.flags|=16):c.push(m)}function jw(l,c){switch(l.tag){case 5:return c=Gi(c,l.type,l.pendingProps),c!==null?(l.stateNode=c,Ci=l,Pi=Z(c),!0):!1;case 6:return c=Eg(c,l.pendingProps),c!==null?(l.stateNode=c,Ci=l,Pi=null,!0):!1;case 13:if(c=Tg(c),c!==null){var m=Vo!==null?{id:is,overflow:rs}:null;return l.memoizedState={dehydrated:c,treeContext:m,retryLane:1073741824},m=Ji(18,null,null,0),m.stateNode=c,m.return=l,l.child=m,Ci=l,Pi=null,!0}return!1;default:return!1}}function Hg(l){return(l.mode&1)!==0&&(l.flags&128)===0}function Gg(l){if(Gt){var c=Pi;if(c){var m=c;if(!jw(l,c)){if(Hg(l))throw Error(o(418));c=oe(m);var x=Ci;c&&jw(l,c)?Ww(x,m):(l.flags=l.flags&-4097|2,Gt=!1,Ci=l)}}else{if(Hg(l))throw Error(o(418));l.flags=l.flags&-4097|2,Gt=!1,Ci=l}}}function Xw(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;Ci=l}function Du(l){if(!pe||l!==Ci)return!1;if(!Gt)return Xw(l),Gt=!0,!1;if(l.tag!==3&&(l.tag!==5||fr(l.type)&&!q(l.type,l.memoizedProps))){var c=Pi;if(c){if(Hg(l)){for(l=Pi;l;)l=oe(l);throw Error(o(418))}for(;c;)Ww(l,c),c=oe(c)}}if(Xw(l),l.tag===13){if(!pe)throw Error(o(316));if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(o(317));Pi=vt(l)}else Pi=Ci?oe(l.stateNode):null;return!0}function nl(){pe&&(Pi=Ci=null,Iu=Gt=!1)}function Wg(l){mr===null?mr=[l]:mr.push(l)}function ku(l,c,m){if(l=m.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(o(309));var x=m.stateNode}if(!x)throw Error(o(147,l));var E=x,A=""+l;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===A?c.ref:(c=function(O){var j=E.refs;j===Bw&&(j=E.refs={}),O===null?delete j[A]:j[A]=O},c._stringRef=A,c)}if(typeof l!="string")throw Error(o(284));if(!m._owner)throw Error(o(290,l))}return l}function Lh(l,c){throw l=Object.prototype.toString.call(c),Error(o(31,l==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":l))}function Qw(l){var c=l._init;return c(l._payload)}function Yw(l){function c($,Q){if(l){var ie=$.deletions;ie===null?($.deletions=[Q],$.flags|=16):ie.push(Q)}}function m($,Q){if(!l)return null;for(;Q!==null;)c($,Q),Q=Q.sibling;return null}function x($,Q){for($=new Map;Q!==null;)Q.key!==null?$.set(Q.key,Q):$.set(Q.index,Q),Q=Q.sibling;return $}function E($,Q){return $=js($,Q),$.index=0,$.sibling=null,$}function A($,Q,ie){return $.index=ie,l?(ie=$.alternate,ie!==null?(ie=ie.index,ie<Q?($.flags|=2,Q):ie):($.flags|=2,Q)):($.flags|=1048576,Q)}function O($){return l&&$.alternate===null&&($.flags|=2),$}function j($,Q,ie,Pe){return Q===null||Q.tag!==6?(Q=b0(ie,$.mode,Pe),Q.return=$,Q):(Q=E(Q,ie),Q.return=$,Q)}function se($,Q,ie,Pe){var Ge=ie.type;return Ge===h?Ne($,Q,ie.props.children,Pe,ie.key):Q!==null&&(Q.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===S&&Qw(Ge)===Q.type)?(Pe=E(Q,ie.props),Pe.ref=ku($,Q,ie),Pe.return=$,Pe):(Pe=ad(ie.type,ie.key,ie.props,null,$.mode,Pe),Pe.ref=ku($,Q,ie),Pe.return=$,Pe)}function we($,Q,ie,Pe){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==ie.containerInfo||Q.stateNode.implementation!==ie.implementation?(Q=C0(ie,$.mode,Pe),Q.return=$,Q):(Q=E(Q,ie.children||[]),Q.return=$,Q)}function Ne($,Q,ie,Pe,Ge){return Q===null||Q.tag!==7?(Q=qo(ie,$.mode,Pe,Ge),Q.return=$,Q):(Q=E(Q,ie),Q.return=$,Q)}function it($,Q,ie){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Q=b0(""+Q,$.mode,ie),Q.return=$,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case u:return ie=ad(Q.type,Q.key,Q.props,null,$.mode,ie),ie.ref=ku($,null,Q),ie.return=$,ie;case f:return Q=C0(Q,$.mode,ie),Q.return=$,Q;case S:var Pe=Q._init;return it($,Pe(Q._payload),ie)}if(J(Q)||P(Q))return Q=qo(Q,$.mode,ie,null),Q.return=$,Q;Lh($,Q)}return null}function Je($,Q,ie,Pe){var Ge=Q!==null?Q.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number")return Ge!==null?null:j($,Q,""+ie,Pe);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case u:return ie.key===Ge?se($,Q,ie,Pe):null;case f:return ie.key===Ge?we($,Q,ie,Pe):null;case S:return Ge=ie._init,Je($,Q,Ge(ie._payload),Pe)}if(J(ie)||P(ie))return Ge!==null?null:Ne($,Q,ie,Pe,null);Lh($,ie)}return null}function Dt($,Q,ie,Pe,Ge){if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number")return $=$.get(ie)||null,j(Q,$,""+Pe,Ge);if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case u:return $=$.get(Pe.key===null?ie:Pe.key)||null,se(Q,$,Pe,Ge);case f:return $=$.get(Pe.key===null?ie:Pe.key)||null,we(Q,$,Pe,Ge);case S:var at=Pe._init;return Dt($,Q,ie,at(Pe._payload),Ge)}if(J(Pe)||P(Pe))return $=$.get(ie)||null,Ne(Q,$,Pe,Ge,null);Lh(Q,Pe)}return null}function We($,Q,ie,Pe){for(var Ge=null,at=null,rt=Q,Et=Q=0,Cn=null;rt!==null&&Et<ie.length;Et++){rt.index>Et?(Cn=rt,rt=null):Cn=rt.sibling;var Tt=Je($,rt,ie[Et],Pe);if(Tt===null){rt===null&&(rt=Cn);break}l&&rt&&Tt.alternate===null&&c($,rt),Q=A(Tt,Q,Et),at===null?Ge=Tt:at.sibling=Tt,at=Tt,rt=Cn}if(Et===ie.length)return m($,rt),Gt&&Ho($,Et),Ge;if(rt===null){for(;Et<ie.length;Et++)rt=it($,ie[Et],Pe),rt!==null&&(Q=A(rt,Q,Et),at===null?Ge=rt:at.sibling=rt,at=rt);return Gt&&Ho($,Et),Ge}for(rt=x($,rt);Et<ie.length;Et++)Cn=Dt(rt,$,Et,ie[Et],Pe),Cn!==null&&(l&&Cn.alternate!==null&&rt.delete(Cn.key===null?Et:Cn.key),Q=A(Cn,Q,Et),at===null?Ge=Cn:at.sibling=Cn,at=Cn);return l&&rt.forEach(function(Xs){return c($,Xs)}),Gt&&Ho($,Et),Ge}function jn($,Q,ie,Pe){var Ge=P(ie);if(typeof Ge!="function")throw Error(o(150));if(ie=Ge.call(ie),ie==null)throw Error(o(151));for(var at=Ge=null,rt=Q,Et=Q=0,Cn=null,Tt=ie.next();rt!==null&&!Tt.done;Et++,Tt=ie.next()){rt.index>Et?(Cn=rt,rt=null):Cn=rt.sibling;var Xs=Je($,rt,Tt.value,Pe);if(Xs===null){rt===null&&(rt=Cn);break}l&&rt&&Xs.alternate===null&&c($,rt),Q=A(Xs,Q,Et),at===null?Ge=Xs:at.sibling=Xs,at=Xs,rt=Cn}if(Tt.done)return m($,rt),Gt&&Ho($,Et),Ge;if(rt===null){for(;!Tt.done;Et++,Tt=ie.next())Tt=it($,Tt.value,Pe),Tt!==null&&(Q=A(Tt,Q,Et),at===null?Ge=Tt:at.sibling=Tt,at=Tt);return Gt&&Ho($,Et),Ge}for(rt=x($,rt);!Tt.done;Et++,Tt=ie.next())Tt=Dt(rt,$,Et,Tt.value,Pe),Tt!==null&&(l&&Tt.alternate!==null&&rt.delete(Tt.key===null?Et:Tt.key),Q=A(Tt,Q,Et),at===null?Ge=Tt:at.sibling=Tt,at=Tt);return l&&rt.forEach(function(y4){return c($,y4)}),Gt&&Ho($,Et),Ge}function Zi($,Q,ie,Pe){if(typeof ie=="object"&&ie!==null&&ie.type===h&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case u:e:{for(var Ge=ie.key,at=Q;at!==null;){if(at.key===Ge){if(Ge=ie.type,Ge===h){if(at.tag===7){m($,at.sibling),Q=E(at,ie.props.children),Q.return=$,$=Q;break e}}else if(at.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===S&&Qw(Ge)===at.type){m($,at.sibling),Q=E(at,ie.props),Q.ref=ku($,at,ie),Q.return=$,$=Q;break e}m($,at);break}else c($,at);at=at.sibling}ie.type===h?(Q=qo(ie.props.children,$.mode,Pe,ie.key),Q.return=$,$=Q):(Pe=ad(ie.type,ie.key,ie.props,null,$.mode,Pe),Pe.ref=ku($,Q,ie),Pe.return=$,$=Pe)}return O($);case f:e:{for(at=ie.key;Q!==null;){if(Q.key===at)if(Q.tag===4&&Q.stateNode.containerInfo===ie.containerInfo&&Q.stateNode.implementation===ie.implementation){m($,Q.sibling),Q=E(Q,ie.children||[]),Q.return=$,$=Q;break e}else{m($,Q);break}else c($,Q);Q=Q.sibling}Q=C0(ie,$.mode,Pe),Q.return=$,$=Q}return O($);case S:return at=ie._init,Zi($,Q,at(ie._payload),Pe)}if(J(ie))return We($,Q,ie,Pe);if(P(ie))return jn($,Q,ie,Pe);Lh($,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"?(ie=""+ie,Q!==null&&Q.tag===6?(m($,Q.sibling),Q=E(Q,ie),Q.return=$,$=Q):(m($,Q),Q=b0(ie,$.mode,Pe),Q.return=$,$=Q),O($)):m($,Q)}return Zi}var il=Yw(!0),qw=Yw(!1),Nu={},Qi=Ht(Nu),zu=Ht(Nu),rl=Ht(Nu);function Fr(l){if(l===Nu)throw Error(o(174));return l}function jg(l,c){Ct(rl,c),Ct(zu,l),Ct(Qi,Nu),l=fe(c),xt(Qi),Ct(Qi,l)}function sl(){xt(Qi),xt(zu),xt(rl)}function Jw(l){var c=Fr(rl.current),m=Fr(Qi.current);c=I(m,l.type,c),m!==c&&(Ct(zu,l),Ct(Qi,c))}function Xg(l){zu.current===l&&(xt(Qi),xt(zu))}var Xt=Ht(0);function Rh(l){for(var c=l;c!==null;){if(c.tag===13){var m=c.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||dh(m)||N(m)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if(c.flags&128)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Qg=[];function Yg(){for(var l=0;l<Qg.length;l++){var c=Qg[l];Oe?c._workInProgressVersionPrimary=null:c._workInProgressVersionSecondary=null}Qg.length=0}var Ih=a.ReactCurrentDispatcher,Yi=a.ReactCurrentBatchConfig,ol=0,nn=null,Hn=null,bn=null,Dh=!1,Ou=!1,Fu=0,HR=0;function Gn(){throw Error(o(321))}function qg(l,c){if(c===null)return!1;for(var m=0;m<c.length&&m<l.length;m++)if(!Nr(l[m],c[m]))return!1;return!0}function Jg(l,c,m,x,E,A){if(ol=A,nn=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Ih.current=l===null||l.memoizedState===null?XR:QR,l=m(x,E),Ou){A=0;do{if(Ou=!1,Fu=0,25<=A)throw Error(o(301));A+=1,bn=Hn=null,c.updateQueue=null,Ih.current=YR,l=m(x,E)}while(Ou)}if(Ih.current=Fh,c=Hn!==null&&Hn.next!==null,ol=0,bn=Hn=nn=null,Dh=!1,c)throw Error(o(300));return l}function Zg(){var l=Fu!==0;return Fu=0,l}function ss(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bn===null?nn.memoizedState=bn=l:bn=bn.next=l,bn}function Br(){if(Hn===null){var l=nn.alternate;l=l!==null?l.memoizedState:null}else l=Hn.next;var c=bn===null?nn.memoizedState:bn.next;if(c!==null)bn=c,Hn=l;else{if(l===null)throw Error(o(310));Hn=l,l={memoizedState:Hn.memoizedState,baseState:Hn.baseState,baseQueue:Hn.baseQueue,queue:Hn.queue,next:null},bn===null?nn.memoizedState=bn=l:bn=bn.next=l}return bn}function Go(l,c){return typeof c=="function"?c(l):c}function kh(l){var c=Br(),m=c.queue;if(m===null)throw Error(o(311));m.lastRenderedReducer=l;var x=Hn,E=x.baseQueue,A=m.pending;if(A!==null){if(E!==null){var O=E.next;E.next=A.next,A.next=O}x.baseQueue=E=A,m.pending=null}if(E!==null){A=E.next,x=x.baseState;var j=O=null,se=null,we=A;do{var Ne=we.lane;if((ol&Ne)===Ne)se!==null&&(se=se.next={lane:0,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null}),x=we.hasEagerState?we.eagerState:l(x,we.action);else{var it={lane:Ne,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null};se===null?(j=se=it,O=x):se=se.next=it,nn.lanes|=Ne,ll|=Ne}we=we.next}while(we!==null&&we!==A);se===null?O=x:se.next=j,Nr(x,c.memoizedState)||(Li=!0),c.memoizedState=x,c.baseState=O,c.baseQueue=se,m.lastRenderedState=x}if(l=m.interleaved,l!==null){E=l;do A=E.lane,nn.lanes|=A,ll|=A,E=E.next;while(E!==l)}else E===null&&(m.lanes=0);return[c.memoizedState,m.dispatch]}function Nh(l){var c=Br(),m=c.queue;if(m===null)throw Error(o(311));m.lastRenderedReducer=l;var x=m.dispatch,E=m.pending,A=c.memoizedState;if(E!==null){m.pending=null;var O=E=E.next;do A=l(A,O.action),O=O.next;while(O!==E);Nr(A,c.memoizedState)||(Li=!0),c.memoizedState=A,c.baseQueue===null&&(c.baseState=A),m.lastRenderedState=A}return[A,x]}function Zw(){}function Kw(l,c){var m=nn,x=Br(),E=c(),A=!Nr(x.memoizedState,E);if(A&&(x.memoizedState=E,Li=!0),x=x.queue,Uu(tS.bind(null,m,x,l),[l]),x.getSnapshot!==c||A||bn!==null&&bn.memoizedState.tag&1){if(m.flags|=2048,Bu(9,eS.bind(null,m,x,E,c),void 0,null),gn===null)throw Error(o(349));ol&30||$w(m,c,E)}return E}function $w(l,c,m){l.flags|=16384,l={getSnapshot:c,value:m},c=nn.updateQueue,c===null?(c={lastEffect:null,stores:null},nn.updateQueue=c,c.stores=[l]):(m=c.stores,m===null?c.stores=[l]:m.push(l))}function eS(l,c,m,x){c.value=m,c.getSnapshot=x,nS(c)&&qi(l,1,-1)}function tS(l,c,m){return m(function(){nS(c)&&qi(l,1,-1)})}function nS(l){var c=l.getSnapshot;l=l.value;try{var m=c();return!Nr(l,m)}catch{return!0}}function Kg(l){var c=ss();return typeof l=="function"&&(l=l()),c.memoizedState=c.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Go,lastRenderedState:l},c.queue=l,l=l.dispatch=jR.bind(null,nn,l),[c.memoizedState,l]}function Bu(l,c,m,x){return l={tag:l,create:c,destroy:m,deps:x,next:null},c=nn.updateQueue,c===null?(c={lastEffect:null,stores:null},nn.updateQueue=c,c.lastEffect=l.next=l):(m=c.lastEffect,m===null?c.lastEffect=l.next=l:(x=m.next,m.next=l,l.next=x,c.lastEffect=l)),l}function iS(){return Br().memoizedState}function zh(l,c,m,x){var E=ss();nn.flags|=l,E.memoizedState=Bu(1|c,m,void 0,x===void 0?null:x)}function Oh(l,c,m,x){var E=Br();x=x===void 0?null:x;var A=void 0;if(Hn!==null){var O=Hn.memoizedState;if(A=O.destroy,x!==null&&qg(x,O.deps)){E.memoizedState=Bu(c,m,A,x);return}}nn.flags|=l,E.memoizedState=Bu(1|c,m,A,x)}function $g(l,c){return zh(8390656,8,l,c)}function Uu(l,c){return Oh(2048,8,l,c)}function rS(l,c){return Oh(4,2,l,c)}function sS(l,c){return Oh(4,4,l,c)}function oS(l,c){if(typeof c=="function")return l=l(),c(l),function(){c(null)};if(c!=null)return l=l(),c.current=l,function(){c.current=null}}function aS(l,c,m){return m=m!=null?m.concat([l]):null,Oh(4,4,oS.bind(null,c,l),m)}function e0(){}function lS(l,c){var m=Br();c=c===void 0?null:c;var x=m.memoizedState;return x!==null&&c!==null&&qg(c,x[1])?x[0]:(m.memoizedState=[l,c],l)}function uS(l,c){var m=Br();c=c===void 0?null:c;var x=m.memoizedState;return x!==null&&c!==null&&qg(c,x[1])?x[0]:(l=l(),m.memoizedState=[l,c],l)}function GR(l,c){var m=Mt;Mt=m!==0&&4>m?m:4,l(!0);var x=Yi.transition;Yi.transition={};try{l(!1),c()}finally{Mt=m,Yi.transition=x}}function cS(){return Br().memoizedState}function WR(l,c,m){var x=Gs(l);m={lane:x,action:m,hasEagerState:!1,eagerState:null,next:null},fS(l)?hS(c,m):(dS(l,c,m),m=ii(),l=qi(l,x,m),l!==null&&pS(l,c,x))}function jR(l,c,m){var x=Gs(l),E={lane:x,action:m,hasEagerState:!1,eagerState:null,next:null};if(fS(l))hS(c,E);else{dS(l,c,E);var A=l.alternate;if(l.lanes===0&&(A===null||A.lanes===0)&&(A=c.lastRenderedReducer,A!==null))try{var O=c.lastRenderedState,j=A(O,m);if(E.hasEagerState=!0,E.eagerState=j,Nr(j,O))return}catch{}finally{}m=ii(),l=qi(l,x,m),l!==null&&pS(l,c,x)}}function fS(l){var c=l.alternate;return l===nn||c!==null&&c===nn}function hS(l,c){Ou=Dh=!0;var m=l.pending;m===null?c.next=c:(c.next=m.next,m.next=c),l.pending=c}function dS(l,c,m){gn!==null&&l.mode&1&&!(ft&2)?(l=c.interleaved,l===null?(m.next=m,Or===null?Or=[c]:Or.push(c)):(m.next=l.next,l.next=m),c.interleaved=m):(l=c.pending,l===null?m.next=m:(m.next=l.next,l.next=m),c.pending=m)}function pS(l,c,m){if(m&4194240){var x=c.lanes;x&=l.pendingLanes,m|=x,c.lanes=m,Cg(l,m)}}var Fh={readContext:Wi,useCallback:Gn,useContext:Gn,useEffect:Gn,useImperativeHandle:Gn,useInsertionEffect:Gn,useLayoutEffect:Gn,useMemo:Gn,useReducer:Gn,useRef:Gn,useState:Gn,useDebugValue:Gn,useDeferredValue:Gn,useTransition:Gn,useMutableSource:Gn,useSyncExternalStore:Gn,useId:Gn,unstable_isNewReconciler:!1},XR={readContext:Wi,useCallback:function(l,c){return ss().memoizedState=[l,c===void 0?null:c],l},useContext:Wi,useEffect:$g,useImperativeHandle:function(l,c,m){return m=m!=null?m.concat([l]):null,zh(4194308,4,oS.bind(null,c,l),m)},useLayoutEffect:function(l,c){return zh(4194308,4,l,c)},useInsertionEffect:function(l,c){return zh(4,2,l,c)},useMemo:function(l,c){var m=ss();return c=c===void 0?null:c,l=l(),m.memoizedState=[l,c],l},useReducer:function(l,c,m){var x=ss();return c=m!==void 0?m(c):c,x.memoizedState=x.baseState=c,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:c},x.queue=l,l=l.dispatch=WR.bind(null,nn,l),[x.memoizedState,l]},useRef:function(l){var c=ss();return l={current:l},c.memoizedState=l},useState:Kg,useDebugValue:e0,useDeferredValue:function(l){var c=Kg(l),m=c[0],x=c[1];return $g(function(){var E=Yi.transition;Yi.transition={};try{x(l)}finally{Yi.transition=E}},[l]),m},useTransition:function(){var l=Kg(!1),c=l[0];return l=GR.bind(null,l[1]),ss().memoizedState=l,[c,l]},useMutableSource:function(){},useSyncExternalStore:function(l,c,m){var x=nn,E=ss();if(Gt){if(m===void 0)throw Error(o(407));m=m()}else{if(m=c(),gn===null)throw Error(o(349));ol&30||$w(x,c,m)}E.memoizedState=m;var A={value:m,getSnapshot:c};return E.queue=A,$g(tS.bind(null,x,A,l),[l]),x.flags|=2048,Bu(9,eS.bind(null,x,A,m,c),void 0,null),m},useId:function(){var l=ss(),c=gn.identifierPrefix;if(Gt){var m=rs,x=is;m=(x&~(1<<32-dr(x)-1)).toString(32)+m,c=":"+c+"R"+m,m=Fu++,0<m&&(c+="H"+m.toString(32)),c+=":"}else m=HR++,c=":"+c+"r"+m.toString(32)+":";return l.memoizedState=c},unstable_isNewReconciler:!1},QR={readContext:Wi,useCallback:lS,useContext:Wi,useEffect:Uu,useImperativeHandle:aS,useInsertionEffect:rS,useLayoutEffect:sS,useMemo:uS,useReducer:kh,useRef:iS,useState:function(){return kh(Go)},useDebugValue:e0,useDeferredValue:function(l){var c=kh(Go),m=c[0],x=c[1];return Uu(function(){var E=Yi.transition;Yi.transition={};try{x(l)}finally{Yi.transition=E}},[l]),m},useTransition:function(){var l=kh(Go)[0],c=Br().memoizedState;return[l,c]},useMutableSource:Zw,useSyncExternalStore:Kw,useId:cS,unstable_isNewReconciler:!1},YR={readContext:Wi,useCallback:lS,useContext:Wi,useEffect:Uu,useImperativeHandle:aS,useInsertionEffect:rS,useLayoutEffect:sS,useMemo:uS,useReducer:Nh,useRef:iS,useState:function(){return Nh(Go)},useDebugValue:e0,useDeferredValue:function(l){var c=Nh(Go),m=c[0],x=c[1];return Uu(function(){var E=Yi.transition;Yi.transition={};try{x(l)}finally{Yi.transition=E}},[l]),m},useTransition:function(){var l=Nh(Go)[0],c=Br().memoizedState;return[l,c]},useMutableSource:Zw,useSyncExternalStore:Kw,useId:cS,unstable_isNewReconciler:!1};function t0(l,c){try{var m="",x=c;do m+=VR(x),x=x.return;while(x);var E=m}catch(A){E=`
Error generating stack: `+A.message+`
`+A.stack}return{value:l,source:c,stack:E}}function n0(l,c){try{console.error(c.value)}catch(m){setTimeout(function(){throw m})}}var qR=typeof WeakMap=="function"?WeakMap:Map;function mS(l,c,m){m=ns(-1,m),m.tag=3,m.payload={element:null};var x=c.value;return m.callback=function(){ed||(ed=!0,_0=x),n0(l,c)},m}function gS(l,c,m){m=ns(-1,m),m.tag=3;var x=l.type.getDerivedStateFromError;if(typeof x=="function"){var E=c.value;m.payload=function(){return x(E)},m.callback=function(){n0(l,c)}}var A=l.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(m.callback=function(){n0(l,c),typeof x!="function"&&(Vs===null?Vs=new Set([this]):Vs.add(this));var O=c.stack;this.componentDidCatch(c.value,{componentStack:O!==null?O:""})}),m}function yS(l,c,m){var x=l.pingCache;if(x===null){x=l.pingCache=new qR;var E=new Set;x.set(c,E)}else E=x.get(c),E===void 0&&(E=new Set,x.set(c,E));E.has(m)||(E.add(m),l=u4.bind(null,l,c,m),c.then(l,l))}function vS(l){do{var c;if((c=l.tag===13)&&(c=l.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return l;l=l.return}while(l!==null);return null}function xS(l,c,m,x,E){return l.mode&1?(l.flags|=65536,l.lanes=E,l):(l===c?l.flags|=65536:(l.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(c=ns(-1,1),c.tag=2,Us(m,c))),m.lanes|=1),l)}function Ur(l){l.flags|=4}function _S(l,c){if(l!==null&&l.child===c.child)return!0;if(c.flags&16)return!1;for(l=c.child;l!==null;){if(l.flags&12854||l.subtreeFlags&12854)return!1;l=l.sibling}return!0}var Vu,Hu,Bh,Uh;if(Ve)Vu=function(l,c){for(var m=c.child;m!==null;){if(m.tag===5||m.tag===6)H(l,m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===c)break;for(;m.sibling===null;){if(m.return===null||m.return===c)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},Hu=function(){},Bh=function(l,c,m,x,E){if(l=l.memoizedProps,l!==x){var A=c.stateNode,O=Fr(Qi.current);m=me(A,m,l,x,E,O),(c.updateQueue=m)&&Ur(c)}},Uh=function(l,c,m,x){m!==x&&Ur(c)};else if(he){Vu=function(l,c,m,x){for(var E=c.child;E!==null;){if(E.tag===5){var A=E.stateNode;m&&x&&(A=Vt(A,E.type,E.memoizedProps,E)),H(l,A)}else if(E.tag===6)A=E.stateNode,m&&x&&(A=ei(A,E.memoizedProps,E)),H(l,A);else if(E.tag!==4){if(E.tag===22&&E.memoizedState!==null)A=E.child,A!==null&&(A.return=E),Vu(l,E,!0,!0);else if(E.child!==null){E.child.return=E,E=E.child;continue}}if(E===c)break;for(;E.sibling===null;){if(E.return===null||E.return===c)return;E=E.return}E.sibling.return=E.return,E=E.sibling}};var wS=function(l,c,m,x){for(var E=c.child;E!==null;){if(E.tag===5){var A=E.stateNode;m&&x&&(A=Vt(A,E.type,E.memoizedProps,E)),an(l,A)}else if(E.tag===6)A=E.stateNode,m&&x&&(A=ei(A,E.memoizedProps,E)),an(l,A);else if(E.tag!==4){if(E.tag===22&&E.memoizedState!==null)A=E.child,A!==null&&(A.return=E),wS(l,E,!0,!0);else if(E.child!==null){E.child.return=E,E=E.child;continue}}if(E===c)break;for(;E.sibling===null;){if(E.return===null||E.return===c)return;E=E.return}E.sibling.return=E.return,E=E.sibling}};Hu=function(l,c){var m=c.stateNode;if(!_S(l,c)){l=m.containerInfo;var x=Rt(l);wS(x,c,!1,!1),m.pendingChildren=x,Ur(c),Dn(l,x)}},Bh=function(l,c,m,x,E){var A=l.stateNode,O=l.memoizedProps;if((l=_S(l,c))&&O===x)c.stateNode=A;else{var j=c.stateNode,se=Fr(Qi.current),we=null;O!==x&&(we=me(j,m,O,x,E,se)),l&&we===null?c.stateNode=A:(A=Fe(A,we,m,O,x,c,l,j),ue(A,m,x,E,se)&&Ur(c),c.stateNode=A,l?Ur(c):Vu(A,c,!1,!1))}},Uh=function(l,c,m,x){m!==x?(l=Fr(rl.current),m=Fr(Qi.current),c.stateNode=xe(x,l,m,c),Ur(c)):c.stateNode=l.stateNode}}else Hu=function(){},Bh=function(){},Uh=function(){};function Gu(l,c){if(!Gt)switch(l.tailMode){case"hidden":c=l.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?l.tail=null:m.sibling=null;break;case"collapsed":m=l.tail;for(var x=null;m!==null;)m.alternate!==null&&(x=m),m=m.sibling;x===null?c||l.tail===null?l.tail=null:l.tail.sibling=null:x.sibling=null}}function Wn(l){var c=l.alternate!==null&&l.alternate.child===l.child,m=0,x=0;if(c)for(var E=l.child;E!==null;)m|=E.lanes|E.childLanes,x|=E.subtreeFlags&14680064,x|=E.flags&14680064,E.return=l,E=E.sibling;else for(E=l.child;E!==null;)m|=E.lanes|E.childLanes,x|=E.subtreeFlags,x|=E.flags,E.return=l,E=E.sibling;return l.subtreeFlags|=x,l.childLanes=m,c}function JR(l,c,m){var x=c.pendingProps;switch(Vg(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wn(c),null;case 1:return pi(c.type)&&mh(),Wn(c),null;case 3:return x=c.stateNode,sl(),xt(Vn),xt(mn),Yg(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(l===null||l.child===null)&&(Du(c)?Ur(c):l===null||l.memoizedState.isDehydrated&&!(c.flags&256)||(c.flags|=1024,mr!==null&&(M0(mr),mr=null))),Hu(l,c),Wn(c),null;case 5:Xg(c),m=Fr(rl.current);var E=c.type;if(l!==null&&c.stateNode!=null)Bh(l,c,E,x,m),l.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!x){if(c.stateNode===null)throw Error(o(166));return Wn(c),null}if(l=Fr(Qi.current),Du(c)){if(!pe)throw Error(o(175));l=nt(c.stateNode,c.type,c.memoizedProps,m,l,c,!Iu),c.updateQueue=l,l!==null&&Ur(c)}else{var A=te(E,x,m,l,c);Vu(A,c,!1,!1),c.stateNode=A,ue(A,E,x,m,l)&&Ur(c)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return Wn(c),null;case 6:if(l&&c.stateNode!=null)Uh(l,c,l.memoizedProps,x);else{if(typeof x!="string"&&c.stateNode===null)throw Error(o(166));if(l=Fr(rl.current),m=Fr(Qi.current),Du(c)){if(!pe)throw Error(o(176));if(l=c.stateNode,x=c.memoizedProps,(m=ot(l,x,c,!Iu))&&(E=Ci,E!==null))switch(A=(E.mode&1)!==0,E.tag){case 3:Kr(E.stateNode.containerInfo,l,x,A);break;case 5:$t(E.type,E.memoizedProps,E.stateNode,l,x,A)}m&&Ur(c)}else c.stateNode=xe(x,l,m,c)}return Wn(c),null;case 13:if(xt(Xt),x=c.memoizedState,Gt&&Pi!==null&&c.mode&1&&!(c.flags&128)){for(l=Pi;l;)l=oe(l);return nl(),c.flags|=98560,c}if(x!==null&&x.dehydrated!==null){if(x=Du(c),l===null){if(!x)throw Error(o(318));if(!pe)throw Error(o(344));if(l=c.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(o(317));ct(l,c)}else nl(),!(c.flags&128)&&(c.memoizedState=null),c.flags|=4;return Wn(c),null}return mr!==null&&(M0(mr),mr=null),c.flags&128?(c.lanes=m,c):(x=x!==null,m=!1,l===null?Du(c):m=l.memoizedState!==null,x&&!m&&(c.child.flags|=8192,c.mode&1&&(l===null||Xt.current&1?wn===0&&(wn=3):T0())),c.updateQueue!==null&&(c.flags|=4),Wn(c),null);case 4:return sl(),Hu(l,c),l===null&&He(c.stateNode.containerInfo),Wn(c),null;case 10:return Ng(c.type._context),Wn(c),null;case 17:return pi(c.type)&&mh(),Wn(c),null;case 19:if(xt(Xt),E=c.memoizedState,E===null)return Wn(c),null;if(x=(c.flags&128)!==0,A=E.rendering,A===null)if(x)Gu(E,!1);else{if(wn!==0||l!==null&&l.flags&128)for(l=c.child;l!==null;){if(A=Rh(l),A!==null){for(c.flags|=128,Gu(E,!1),l=A.updateQueue,l!==null&&(c.updateQueue=l,c.flags|=4),c.subtreeFlags=0,l=m,x=c.child;x!==null;)m=x,E=l,m.flags&=14680066,A=m.alternate,A===null?(m.childLanes=0,m.lanes=E,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=A.childLanes,m.lanes=A.lanes,m.child=A.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=A.memoizedProps,m.memoizedState=A.memoizedState,m.updateQueue=A.updateQueue,m.type=A.type,E=A.dependencies,m.dependencies=E===null?null:{lanes:E.lanes,firstContext:E.firstContext}),x=x.sibling;return Ct(Xt,Xt.current&1|2),c.child}l=l.sibling}E.tail!==null&&An()>x0&&(c.flags|=128,x=!0,Gu(E,!1),c.lanes=4194304)}else{if(!x)if(l=Rh(A),l!==null){if(c.flags|=128,x=!0,l=l.updateQueue,l!==null&&(c.updateQueue=l,c.flags|=4),Gu(E,!0),E.tail===null&&E.tailMode==="hidden"&&!A.alternate&&!Gt)return Wn(c),null}else 2*An()-E.renderingStartTime>x0&&m!==1073741824&&(c.flags|=128,x=!0,Gu(E,!1),c.lanes=4194304);E.isBackwards?(A.sibling=c.child,c.child=A):(l=E.last,l!==null?l.sibling=A:c.child=A,E.last=A)}return E.tail!==null?(c=E.tail,E.rendering=c,E.tail=c.sibling,E.renderingStartTime=An(),c.sibling=null,l=Xt.current,Ct(Xt,x?l&1|2:l&1),c):(Wn(c),null);case 22:case 23:return E0(),x=c.memoizedState!==null,l!==null&&l.memoizedState!==null!==x&&(c.flags|=8192),x&&c.mode&1?Ri&1073741824&&(Wn(c),Ve&&c.subtreeFlags&6&&(c.flags|=8192)):Wn(c),null;case 24:return null;case 25:return null}throw Error(o(156,c.tag))}var ZR=a.ReactCurrentOwner,Li=!1;function ni(l,c,m,x){c.child=l===null?qw(c,null,m,x):il(c,l.child,m,x)}function SS(l,c,m,x,E){m=m.render;var A=c.ref;return $a(c,E),x=Jg(l,c,m,x,A,E),m=Zg(),l!==null&&!Li?(c.updateQueue=l.updateQueue,c.flags&=-2053,l.lanes&=~E,os(l,c,E)):(Gt&&m&&Ug(c),c.flags|=1,ni(l,c,x,E),c.child)}function MS(l,c,m,x,E){if(l===null){var A=m.type;return typeof A=="function"&&!A0(A)&&A.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(c.tag=15,c.type=A,ES(l,c,A,x,E)):(l=ad(m.type,null,x,c,c.mode,E),l.ref=c.ref,l.return=c,c.child=l)}if(A=l.child,!(l.lanes&E)){var O=A.memoizedProps;if(m=m.compare,m=m!==null?m:Sh,m(O,x)&&l.ref===c.ref)return os(l,c,E)}return c.flags|=1,l=js(A,x),l.ref=c.ref,l.return=c,c.child=l}function ES(l,c,m,x,E){if(l!==null&&Sh(l.memoizedProps,x)&&l.ref===c.ref)if(Li=!1,(l.lanes&E)!==0)l.flags&131072&&(Li=!0);else return c.lanes=l.lanes,os(l,c,E);return i0(l,c,m,x,E)}function TS(l,c,m){var x=c.pendingProps,E=x.children,A=l!==null?l.memoizedState:null;if(x.mode==="hidden")if(!(c.mode&1))c.memoizedState={baseLanes:0,cachePool:null},Ct(al,Ri),Ri|=m;else if(m&1073741824)c.memoizedState={baseLanes:0,cachePool:null},x=A!==null?A.baseLanes:m,Ct(al,Ri),Ri|=x;else return l=A!==null?A.baseLanes|m:m,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:l,cachePool:null},c.updateQueue=null,Ct(al,Ri),Ri|=l,null;else A!==null?(x=A.baseLanes|m,c.memoizedState=null):x=m,Ct(al,Ri),Ri|=x;return ni(l,c,E,m),c.child}function AS(l,c){var m=c.ref;(l===null&&m!==null||l!==null&&l.ref!==m)&&(c.flags|=512,c.flags|=2097152)}function i0(l,c,m,x,E){var A=pi(m)?Dr:mn.current;return A=Za(c,A),$a(c,E),m=Jg(l,c,m,x,A,E),x=Zg(),l!==null&&!Li?(c.updateQueue=l.updateQueue,c.flags&=-2053,l.lanes&=~E,os(l,c,E)):(Gt&&x&&Ug(c),c.flags|=1,ni(l,c,m,E),c.child)}function bS(l,c,m,x,E){if(pi(m)){var A=!0;gh(c)}else A=!1;if($a(c,E),c.stateNode===null)l!==null&&(l.alternate=null,c.alternate=null,c.flags|=2),Vw(c,m,x),Bg(c,m,x,E),x=!0;else if(l===null){var O=c.stateNode,j=c.memoizedProps;O.props=j;var se=O.context,we=m.contextType;typeof we=="object"&&we!==null?we=Wi(we):(we=pi(m)?Dr:mn.current,we=Za(c,we));var Ne=m.getDerivedStateFromProps,it=typeof Ne=="function"||typeof O.getSnapshotBeforeUpdate=="function";it||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(j!==x||se!==we)&&Hw(c,O,x,we),Bs=!1;var Je=c.memoizedState;O.state=Je,Ah(c,x,O,E),se=c.memoizedState,j!==x||Je!==se||Vn.current||Bs?(typeof Ne=="function"&&(Fg(c,m,Ne,x),se=c.memoizedState),(j=Bs||Uw(c,m,j,x,Je,se,we))?(it||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(c.flags|=4194308)):(typeof O.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=x,c.memoizedState=se),O.props=x,O.state=se,O.context=we,x=j):(typeof O.componentDidMount=="function"&&(c.flags|=4194308),x=!1)}else{O=c.stateNode,zw(l,c),j=c.memoizedProps,we=c.type===c.elementType?j:pr(c.type,j),O.props=we,it=c.pendingProps,Je=O.context,se=m.contextType,typeof se=="object"&&se!==null?se=Wi(se):(se=pi(m)?Dr:mn.current,se=Za(c,se));var Dt=m.getDerivedStateFromProps;(Ne=typeof Dt=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(j!==it||Je!==se)&&Hw(c,O,x,se),Bs=!1,Je=c.memoizedState,O.state=Je,Ah(c,x,O,E);var We=c.memoizedState;j!==it||Je!==We||Vn.current||Bs?(typeof Dt=="function"&&(Fg(c,m,Dt,x),We=c.memoizedState),(we=Bs||Uw(c,m,we,x,Je,We,se)||!1)?(Ne||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(x,We,se),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(x,We,se)),typeof O.componentDidUpdate=="function"&&(c.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof O.componentDidUpdate!="function"||j===l.memoizedProps&&Je===l.memoizedState||(c.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||j===l.memoizedProps&&Je===l.memoizedState||(c.flags|=1024),c.memoizedProps=x,c.memoizedState=We),O.props=x,O.state=We,O.context=se,x=we):(typeof O.componentDidUpdate!="function"||j===l.memoizedProps&&Je===l.memoizedState||(c.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||j===l.memoizedProps&&Je===l.memoizedState||(c.flags|=1024),x=!1)}return r0(l,c,m,x,A,E)}function r0(l,c,m,x,E,A){AS(l,c);var O=(c.flags&128)!==0;if(!x&&!O)return E&&Rw(c,m,!1),os(l,c,A);x=c.stateNode,ZR.current=c;var j=O&&typeof m.getDerivedStateFromError!="function"?null:x.render();return c.flags|=1,l!==null&&O?(c.child=il(c,l.child,null,A),c.child=il(c,null,j,A)):ni(l,c,j,A),c.memoizedState=x.state,E&&Rw(c,m,!0),c.child}function CS(l){var c=l.stateNode;c.pendingContext?Pw(l,c.pendingContext,c.pendingContext!==c.context):c.context&&Pw(l,c.context,!1),jg(l,c.containerInfo)}function PS(l,c,m,x,E){return nl(),Wg(E),c.flags|=256,ni(l,c,m,x),c.child}var Vh={dehydrated:null,treeContext:null,retryLane:0};function Hh(l){return{baseLanes:l,cachePool:null}}function LS(l,c,m){var x=c.pendingProps,E=Xt.current,A=!1,O=(c.flags&128)!==0,j;if((j=O)||(j=l!==null&&l.memoizedState===null?!1:(E&2)!==0),j?(A=!0,c.flags&=-129):(l===null||l.memoizedState!==null)&&(E|=1),Ct(Xt,E&1),l===null)return Gg(c),l=c.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?(c.mode&1?N(l)?c.lanes=8:c.lanes=1073741824:c.lanes=1,null):(E=x.children,l=x.fallback,A?(x=c.mode,A=c.child,E={mode:"hidden",children:E},!(x&1)&&A!==null?(A.childLanes=0,A.pendingProps=E):A=ld(E,x,0,null),l=qo(l,x,m,null),A.return=c,l.return=c,A.sibling=l,c.child=A,c.child.memoizedState=Hh(m),c.memoizedState=Vh,l):s0(c,E));if(E=l.memoizedState,E!==null){if(j=E.dehydrated,j!==null){if(O)return c.flags&256?(c.flags&=-257,Gh(l,c,m,Error(o(422)))):c.memoizedState!==null?(c.child=l.child,c.flags|=128,null):(A=x.fallback,E=c.mode,x=ld({mode:"visible",children:x.children},E,0,null),A=qo(A,E,m,null),A.flags|=2,x.return=c,A.return=c,x.sibling=A,c.child=x,c.mode&1&&il(c,l.child,null,m),c.child.memoizedState=Hh(m),c.memoizedState=Vh,A);if(!(c.mode&1))c=Gh(l,c,m,null);else if(N(j))c=Gh(l,c,m,Error(o(419)));else if(x=(m&l.childLanes)!==0,Li||x){if(x=gn,x!==null){switch(m&-m){case 4:A=2;break;case 16:A=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:A=32;break;case 536870912:A=268435456;break;default:A=0}x=A&(x.suspendedLanes|m)?0:A,x!==0&&x!==E.retryLane&&(E.retryLane=x,qi(l,x,-1))}T0(),c=Gh(l,c,m,Error(o(421)))}else dh(j)?(c.flags|=128,c.child=l.child,c=c4.bind(null,l),ee(j,c),c=null):(m=E.treeContext,pe&&(Pi=Ye(j),Ci=c,Gt=!0,mr=null,Iu=!1,m!==null&&(ji[Xi++]=is,ji[Xi++]=rs,ji[Xi++]=Vo,is=m.id,rs=m.overflow,Vo=c)),c=s0(c,c.pendingProps.children),c.flags|=4096);return c}return A?(x=IS(l,c,x.children,x.fallback,m),A=c.child,E=l.child.memoizedState,A.memoizedState=E===null?Hh(m):{baseLanes:E.baseLanes|m,cachePool:null},A.childLanes=l.childLanes&~m,c.memoizedState=Vh,x):(m=RS(l,c,x.children,m),c.memoizedState=null,m)}return A?(x=IS(l,c,x.children,x.fallback,m),A=c.child,E=l.child.memoizedState,A.memoizedState=E===null?Hh(m):{baseLanes:E.baseLanes|m,cachePool:null},A.childLanes=l.childLanes&~m,c.memoizedState=Vh,x):(m=RS(l,c,x.children,m),c.memoizedState=null,m)}function s0(l,c){return c=ld({mode:"visible",children:c},l.mode,0,null),c.return=l,l.child=c}function RS(l,c,m,x){var E=l.child;return l=E.sibling,m=js(E,{mode:"visible",children:m}),!(c.mode&1)&&(m.lanes=x),m.return=c,m.sibling=null,l!==null&&(x=c.deletions,x===null?(c.deletions=[l],c.flags|=16):x.push(l)),c.child=m}function IS(l,c,m,x,E){var A=c.mode;l=l.child;var O=l.sibling,j={mode:"hidden",children:m};return!(A&1)&&c.child!==l?(m=c.child,m.childLanes=0,m.pendingProps=j,c.deletions=null):(m=js(l,j),m.subtreeFlags=l.subtreeFlags&14680064),O!==null?x=js(O,x):(x=qo(x,A,E,null),x.flags|=2),x.return=c,m.return=c,m.sibling=x,c.child=m,x}function Gh(l,c,m,x){return x!==null&&Wg(x),il(c,l.child,null,m),l=s0(c,c.pendingProps.children),l.flags|=2,c.memoizedState=null,l}function DS(l,c,m){l.lanes|=c;var x=l.alternate;x!==null&&(x.lanes|=c),zg(l.return,c,m)}function o0(l,c,m,x,E){var A=l.memoizedState;A===null?l.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:x,tail:m,tailMode:E}:(A.isBackwards=c,A.rendering=null,A.renderingStartTime=0,A.last=x,A.tail=m,A.tailMode=E)}function kS(l,c,m){var x=c.pendingProps,E=x.revealOrder,A=x.tail;if(ni(l,c,x.children,m),x=Xt.current,x&2)x=x&1|2,c.flags|=128;else{if(l!==null&&l.flags&128)e:for(l=c.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&DS(l,m,c);else if(l.tag===19)DS(l,m,c);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===c)break e;for(;l.sibling===null;){if(l.return===null||l.return===c)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}x&=1}if(Ct(Xt,x),!(c.mode&1))c.memoizedState=null;else switch(E){case"forwards":for(m=c.child,E=null;m!==null;)l=m.alternate,l!==null&&Rh(l)===null&&(E=m),m=m.sibling;m=E,m===null?(E=c.child,c.child=null):(E=m.sibling,m.sibling=null),o0(c,!1,E,m,A);break;case"backwards":for(m=null,E=c.child,c.child=null;E!==null;){if(l=E.alternate,l!==null&&Rh(l)===null){c.child=E;break}l=E.sibling,E.sibling=m,m=E,E=l}o0(c,!0,m,null,A);break;case"together":o0(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function os(l,c,m){if(l!==null&&(c.dependencies=l.dependencies),ll|=c.lanes,!(m&c.childLanes))return null;if(l!==null&&c.child!==l.child)throw Error(o(153));if(c.child!==null){for(l=c.child,m=js(l,l.pendingProps),c.child=m,m.return=c;l.sibling!==null;)l=l.sibling,m=m.sibling=js(l,l.pendingProps),m.return=c;m.sibling=null}return c.child}function KR(l,c,m){switch(c.tag){case 3:CS(c),nl();break;case 5:Jw(c);break;case 1:pi(c.type)&&gh(c);break;case 4:jg(c,c.stateNode.containerInfo);break;case 10:Nw(c,c.type._context,c.memoizedProps.value);break;case 13:var x=c.memoizedState;if(x!==null)return x.dehydrated!==null?(Ct(Xt,Xt.current&1),c.flags|=128,null):m&c.child.childLanes?LS(l,c,m):(Ct(Xt,Xt.current&1),l=os(l,c,m),l!==null?l.sibling:null);Ct(Xt,Xt.current&1);break;case 19:if(x=(m&c.childLanes)!==0,l.flags&128){if(x)return kS(l,c,m);c.flags|=128}var E=c.memoizedState;if(E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),Ct(Xt,Xt.current),x)break;return null;case 22:case 23:return c.lanes=0,TS(l,c,m)}return os(l,c,m)}function $R(l,c){switch(Vg(c),c.tag){case 1:return pi(c.type)&&mh(),l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 3:return sl(),xt(Vn),xt(mn),Yg(),l=c.flags,l&65536&&!(l&128)?(c.flags=l&-65537|128,c):null;case 5:return Xg(c),null;case 13:if(xt(Xt),l=c.memoizedState,l!==null&&l.dehydrated!==null){if(c.alternate===null)throw Error(o(340));nl()}return l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 19:return xt(Xt),null;case 4:return sl(),null;case 10:return Ng(c.type._context),null;case 22:case 23:return E0(),null;case 24:return null;default:return null}}var Wh=!1,Wo=!1,e4=typeof WeakSet=="function"?WeakSet:Set,be=null;function jh(l,c){var m=l.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(x){yi(l,c,x)}else m.current=null}function a0(l,c,m){try{m()}catch(x){yi(l,c,x)}}var NS=!1;function t4(l,c){for(B(l.containerInfo),be=c;be!==null;)if(l=be,c=l.child,(l.subtreeFlags&1028)!==0&&c!==null)c.return=l,be=c;else for(;be!==null;){l=be;try{var m=l.alternate;if(l.flags&1024)switch(l.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var x=m.memoizedProps,E=m.memoizedState,A=l.stateNode,O=A.getSnapshotBeforeUpdate(l.elementType===l.type?x:pr(l.type,x),E);A.__reactInternalSnapshotBeforeUpdate=O}break;case 3:Ve&&Re(l.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(j){yi(l,l.return,j)}if(c=l.sibling,c!==null){c.return=l.return,be=c;break}be=l.return}return m=NS,NS=!1,m}function jo(l,c,m){var x=c.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var E=x=x.next;do{if((E.tag&l)===l){var A=E.destroy;E.destroy=void 0,A!==void 0&&a0(c,m,A)}E=E.next}while(E!==x)}}function Wu(l,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var m=c=c.next;do{if((m.tag&l)===l){var x=m.create;m.destroy=x()}m=m.next}while(m!==c)}}function l0(l){var c=l.ref;if(c!==null){var m=l.stateNode;switch(l.tag){case 5:l=ne(m);break;default:l=m}typeof c=="function"?c(l):c.current=l}}function zS(l,c,m){if(kr&&typeof kr.onCommitFiberUnmount=="function")try{kr.onCommitFiberUnmount(_h,c)}catch{}switch(c.tag){case 0:case 11:case 14:case 15:if(l=c.updateQueue,l!==null&&(l=l.lastEffect,l!==null)){var x=l=l.next;do{var E=x,A=E.destroy;E=E.tag,A!==void 0&&(E&2||E&4)&&a0(c,m,A),x=x.next}while(x!==l)}break;case 1:if(jh(c,m),l=c.stateNode,typeof l.componentWillUnmount=="function")try{l.props=c.memoizedProps,l.state=c.memoizedState,l.componentWillUnmount()}catch(O){yi(c,m,O)}break;case 5:jh(c,m);break;case 4:Ve?HS(l,c,m):he&&he&&(c=c.stateNode.containerInfo,m=Rt(c),bi(c,m))}}function OS(l,c,m){for(var x=c;;)if(zS(l,x,m),x.child===null||Ve&&x.tag===4){if(x===c)break;for(;x.sibling===null;){if(x.return===null||x.return===c)return;x=x.return}x.sibling.return=x.return,x=x.sibling}else x.child.return=x,x=x.child}function FS(l){var c=l.alternate;c!==null&&(l.alternate=null,FS(c)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(c=l.stateNode,c!==null&&$e(c)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function BS(l){return l.tag===5||l.tag===3||l.tag===4}function US(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||BS(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function VS(l){if(Ve){e:{for(var c=l.return;c!==null;){if(BS(c))break e;c=c.return}throw Error(o(160))}var m=c;switch(m.tag){case 5:c=m.stateNode,m.flags&32&&(zt(c),m.flags&=-33),m=US(l),c0(l,m,c);break;case 3:case 4:c=m.stateNode.containerInfo,m=US(l),u0(l,m,c);break;default:throw Error(o(161))}}}function u0(l,c,m){var x=l.tag;if(x===5||x===6)l=l.stateNode,c?Ze(m,l,c):Le(m,l);else if(x!==4&&(l=l.child,l!==null))for(u0(l,c,m),l=l.sibling;l!==null;)u0(l,c,m),l=l.sibling}function c0(l,c,m){var x=l.tag;if(x===5||x===6)l=l.stateNode,c?tt(m,l,c):je(m,l);else if(x!==4&&(l=l.child,l!==null))for(c0(l,c,m),l=l.sibling;l!==null;)c0(l,c,m),l=l.sibling}function HS(l,c,m){for(var x=c,E=!1,A,O;;){if(!E){E=x.return;e:for(;;){if(E===null)throw Error(o(160));switch(A=E.stateNode,E.tag){case 5:O=!1;break e;case 3:A=A.containerInfo,O=!0;break e;case 4:A=A.containerInfo,O=!0;break e}E=E.return}E=!0}if(x.tag===5||x.tag===6)OS(l,x,m),O?yt(A,x.stateNode):Qe(A,x.stateNode);else if(x.tag===18)O?ti(A,x.stateNode):Kt(A,x.stateNode);else if(x.tag===4){if(x.child!==null){A=x.stateNode.containerInfo,O=!0,x.child.return=x,x=x.child;continue}}else if(zS(l,x,m),x.child!==null){x.child.return=x,x=x.child;continue}if(x===c)break;for(;x.sibling===null;){if(x.return===null||x.return===c)return;x=x.return,x.tag===4&&(E=!1)}x.sibling.return=x.return,x=x.sibling}}function f0(l,c){if(Ve){switch(c.tag){case 0:case 11:case 14:case 15:jo(3,c,c.return),Wu(3,c),jo(5,c,c.return);return;case 1:return;case 5:var m=c.stateNode;if(m!=null){var x=c.memoizedProps;l=l!==null?l.memoizedProps:x;var E=c.type,A=c.updateQueue;c.updateQueue=null,A!==null&&Ue(m,A,E,l,x,c)}return;case 6:if(c.stateNode===null)throw Error(o(162));m=c.memoizedProps,de(c.stateNode,l!==null?l.memoizedProps:m,m);return;case 3:pe&&l!==null&&l.memoizedState.isDehydrated&&dt(c.stateNode.containerInfo);return;case 12:return;case 13:Xh(c);return;case 19:Xh(c);return;case 17:return}throw Error(o(163))}switch(c.tag){case 0:case 11:case 14:case 15:jo(3,c,c.return),Wu(3,c),jo(5,c,c.return);return;case 12:return;case 13:Xh(c);return;case 19:Xh(c);return;case 3:pe&&l!==null&&l.memoizedState.isDehydrated&&dt(c.stateNode.containerInfo);break;case 22:case 23:return}e:if(he){switch(c.tag){case 1:case 5:case 6:break e;case 3:case 4:c=c.stateNode,bi(c.containerInfo,c.pendingChildren);break e}throw Error(o(163))}}function Xh(l){var c=l.updateQueue;if(c!==null){l.updateQueue=null;var m=l.stateNode;m===null&&(m=l.stateNode=new e4),c.forEach(function(x){var E=f4.bind(null,l,x);m.has(x)||(m.add(x),x.then(E,E))})}}function n4(l,c){for(be=c;be!==null;){c=be;var m=c.deletions;if(m!==null)for(var x=0;x<m.length;x++){var E=m[x];try{var A=l;Ve?HS(A,E,c):OS(A,E,c);var O=E.alternate;O!==null&&(O.return=null),E.return=null}catch(Ge){yi(E,c,Ge)}}if(m=c.child,c.subtreeFlags&12854&&m!==null)m.return=c,be=m;else for(;be!==null;){c=be;try{var j=c.flags;if(j&32&&Ve&&zt(c.stateNode),j&512){var se=c.alternate;if(se!==null){var we=se.ref;we!==null&&(typeof we=="function"?we(null):we.current=null)}}if(j&8192)switch(c.tag){case 13:if(c.memoizedState!==null){var Ne=c.alternate;(Ne===null||Ne.memoizedState===null)&&(v0=An())}break;case 22:var it=c.memoizedState!==null,Je=c.alternate,Dt=Je!==null&&Je.memoizedState!==null;if(m=c,Ve){e:if(x=m,E=it,A=null,Ve)for(var We=x;;){if(We.tag===5){if(A===null){A=We;var jn=We.stateNode;E?pn(jn):le(We.stateNode,We.memoizedProps)}}else if(We.tag===6){if(A===null){var Zi=We.stateNode;E?X(Zi):ye(Zi,We.memoizedProps)}}else if((We.tag!==22&&We.tag!==23||We.memoizedState===null||We===x)&&We.child!==null){We.child.return=We,We=We.child;continue}if(We===x)break;for(;We.sibling===null;){if(We.return===null||We.return===x)break e;A===We&&(A=null),We=We.return}A===We&&(A=null),We.sibling.return=We.return,We=We.sibling}}if(it&&!Dt&&m.mode&1){be=m;for(var $=m.child;$!==null;){for(m=be=$;be!==null;){x=be;var Q=x.child;switch(x.tag){case 0:case 11:case 14:case 15:jo(4,x,x.return);break;case 1:jh(x,x.return);var ie=x.stateNode;if(typeof ie.componentWillUnmount=="function"){var Pe=x.return;try{ie.props=x.memoizedProps,ie.state=x.memoizedState,ie.componentWillUnmount()}catch(Ge){yi(x,Pe,Ge)}}break;case 5:jh(x,x.return);break;case 22:if(x.memoizedState!==null){jS(m);continue}}Q!==null?(Q.return=x,be=Q):jS(m)}$=$.sibling}}}switch(j&4102){case 2:VS(c),c.flags&=-3;break;case 6:VS(c),c.flags&=-3,f0(c.alternate,c);break;case 4096:c.flags&=-4097;break;case 4100:c.flags&=-4097,f0(c.alternate,c);break;case 4:f0(c.alternate,c)}}catch(Ge){yi(c,c.return,Ge)}if(m=c.sibling,m!==null){m.return=c.return,be=m;break}be=c.return}}}function i4(l,c,m){be=l,GS(l)}function GS(l,c,m){for(var x=(l.mode&1)!==0;be!==null;){var E=be,A=E.child;if(E.tag===22&&x){var O=E.memoizedState!==null||Wh;if(!O){var j=E.alternate,se=j!==null&&j.memoizedState!==null||Wo;j=Wh;var we=Wo;if(Wh=O,(Wo=se)&&!we)for(be=E;be!==null;)O=be,se=O.child,O.tag===22&&O.memoizedState!==null?XS(E):se!==null?(se.return=O,be=se):XS(E);for(;A!==null;)be=A,GS(A),A=A.sibling;be=E,Wh=j,Wo=we}WS(l)}else E.subtreeFlags&8772&&A!==null?(A.return=E,be=A):WS(l)}}function WS(l){for(;be!==null;){var c=be;if(c.flags&8772){var m=c.alternate;try{if(c.flags&8772)switch(c.tag){case 0:case 11:case 15:Wo||Wu(5,c);break;case 1:var x=c.stateNode;if(c.flags&4&&!Wo)if(m===null)x.componentDidMount();else{var E=c.elementType===c.type?m.memoizedProps:pr(c.type,m.memoizedProps);x.componentDidUpdate(E,m.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var A=c.updateQueue;A!==null&&Fw(c,A,x);break;case 3:var O=c.updateQueue;if(O!==null){if(m=null,c.child!==null)switch(c.child.tag){case 5:m=ne(c.child.stateNode);break;case 1:m=c.child.stateNode}Fw(c,O,m)}break;case 5:var j=c.stateNode;m===null&&c.flags&4&&qe(j,c.type,c.memoizedProps,c);break;case 6:break;case 4:break;case 12:break;case 13:if(pe&&c.memoizedState===null){var se=c.alternate;if(se!==null){var we=se.memoizedState;if(we!==null){var Ne=we.dehydrated;Ne!==null&&pt(Ne)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}Wo||c.flags&512&&l0(c)}catch(it){yi(c,c.return,it)}}if(c===l){be=null;break}if(m=c.sibling,m!==null){m.return=c.return,be=m;break}be=c.return}}function jS(l){for(;be!==null;){var c=be;if(c===l){be=null;break}var m=c.sibling;if(m!==null){m.return=c.return,be=m;break}be=c.return}}function XS(l){for(;be!==null;){var c=be;try{switch(c.tag){case 0:case 11:case 15:var m=c.return;try{Wu(4,c)}catch(se){yi(c,m,se)}break;case 1:var x=c.stateNode;if(typeof x.componentDidMount=="function"){var E=c.return;try{x.componentDidMount()}catch(se){yi(c,E,se)}}var A=c.return;try{l0(c)}catch(se){yi(c,A,se)}break;case 5:var O=c.return;try{l0(c)}catch(se){yi(c,O,se)}}}catch(se){yi(c,c.return,se)}if(c===l){be=null;break}var j=c.sibling;if(j!==null){j.return=c.return,be=j;break}be=c.return}}var Qh=0,Yh=1,qh=2,Jh=3,Zh=4;if(typeof Symbol=="function"&&Symbol.for){var ju=Symbol.for;Qh=ju("selector.component"),Yh=ju("selector.has_pseudo_class"),qh=ju("selector.role"),Jh=ju("selector.test_id"),Zh=ju("selector.text")}function h0(l){var c=Ee(l);if(c!=null){if(typeof c.memoizedProps["data-testname"]!="string")throw Error(o(364));return c}if(l=bt(l),l===null)throw Error(o(362));return l.stateNode.current}function d0(l,c){switch(c.$$typeof){case Qh:if(l.type===c.value)return!0;break;case Yh:e:{c=c.value,l=[l,0];for(var m=0;m<l.length;){var x=l[m++],E=l[m++],A=c[E];if(x.tag!==5||!re(x)){for(;A!=null&&d0(x,A);)E++,A=c[E];if(E===c.length){c=!0;break e}else for(x=x.child;x!==null;)l.push(x,E),x=x.sibling}}c=!1}return c;case qh:if(l.tag===5&&Se(l.stateNode,c.value))return!0;break;case Zh:if((l.tag===5||l.tag===6)&&(l=k(l),l!==null&&0<=l.indexOf(c.value)))return!0;break;case Jh:if(l.tag===5&&(l=l.memoizedProps["data-testname"],typeof l=="string"&&l.toLowerCase()===c.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function p0(l){switch(l.$$typeof){case Qh:return"<"+(R(l.value)||"Unknown")+">";case Yh:return":has("+(p0(l)||"")+")";case qh:return'[role="'+l.value+'"]';case Zh:return'"'+l.value+'"';case Jh:return'[data-testname="'+l.value+'"]';default:throw Error(o(365))}}function QS(l,c){var m=[];l=[l,0];for(var x=0;x<l.length;){var E=l[x++],A=l[x++],O=c[A];if(E.tag!==5||!re(E)){for(;O!=null&&d0(E,O);)A++,O=c[A];if(A===c.length)m.push(E);else for(E=E.child;E!==null;)l.push(E,A),E=E.sibling}}return m}function m0(l,c){if(!St)throw Error(o(363));l=h0(l),l=QS(l,c),c=[],l=Array.from(l);for(var m=0;m<l.length;){var x=l[m++];if(x.tag===5)re(x)||c.push(x.stateNode);else for(x=x.child;x!==null;)l.push(x),x=x.sibling}return c}var r4=Math.ceil,Kh=a.ReactCurrentDispatcher,g0=a.ReactCurrentOwner,ln=a.ReactCurrentBatchConfig,ft=0,gn=null,yn=null,kn=0,Ri=0,al=Ht(0),wn=0,Xu=null,ll=0,$h=0,y0=0,Qu=null,mi=null,v0=0,x0=1/0;function ul(){x0=An()+500}var ed=!1,_0=null,Vs=null,td=!1,Hs=null,nd=0,Yu=0,w0=null,id=-1,rd=0;function ii(){return ft&6?An():id!==-1?id:id=An()}function Gs(l){return l.mode&1?ft&2&&kn!==0?kn&-kn:UR.transition!==null?(rd===0&&(l=yh,yh<<=1,!(yh&4194240)&&(yh=64),rd=l),rd):(l=Mt,l!==0?l:Ae()):1}function qi(l,c,m){if(50<Yu)throw Yu=0,w0=null,Error(o(185));var x=sd(l,c);return x===null?null:(Ru(x,c,m),(!(ft&2)||x!==gn)&&(x===gn&&(!(ft&2)&&($h|=c),wn===4&&Ws(x,kn)),gi(x,m),c===1&&ft===0&&!(l.mode&1)&&(ul(),wh&&zr())),x)}function sd(l,c){l.lanes|=c;var m=l.alternate;for(m!==null&&(m.lanes|=c),m=l,l=l.return;l!==null;)l.childLanes|=c,m=l.alternate,m!==null&&(m.childLanes|=c),m=l,l=l.return;return m.tag===3?m.stateNode:null}function gi(l,c){var m=l.callbackNode;RR(l,c);var x=xh(l,l===gn?kn:0);if(x===0)m!==null&&Dw(m),l.callbackNode=null,l.callbackPriority=0;else if(c=x&-x,l.callbackPriority!==c){if(m!=null&&Dw(m),c===1)l.tag===0?BR(qS.bind(null,l)):kw(qS.bind(null,l)),Xe?et(function(){ft===0&&zr()}):Pg(Lg,zr),m=null;else{switch(Iw(x)){case 1:m=Lg;break;case 4:m=NR;break;case 16:m=Rg;break;case 536870912:m=zR;break;default:m=Rg}m=rM(m,YS.bind(null,l))}l.callbackPriority=c,l.callbackNode=m}}function YS(l,c){if(id=-1,rd=0,ft&6)throw Error(o(327));var m=l.callbackNode;if(Yo()&&l.callbackNode!==m)return null;var x=xh(l,l===gn?kn:0);if(x===0)return null;if(x&30||x&l.expiredLanes||c)c=od(l,x);else{c=x;var E=ft;ft|=2;var A=KS();(gn!==l||kn!==c)&&(ul(),Xo(l,c));do try{a4();break}catch(j){ZS(l,j)}while(1);kg(),Kh.current=A,ft=E,yn!==null?c=0:(gn=null,kn=0,c=wn)}if(c!==0){if(c===2&&(E=Ag(l),E!==0&&(x=E,c=S0(l,E))),c===1)throw m=Xu,Xo(l,0),Ws(l,x),gi(l,An()),m;if(c===6)Ws(l,x);else{if(E=l.current.alternate,!(x&30)&&!s4(E)&&(c=od(l,x),c===2&&(A=Ag(l),A!==0&&(x=A,c=S0(l,A))),c===1))throw m=Xu,Xo(l,0),Ws(l,x),gi(l,An()),m;switch(l.finishedWork=E,l.finishedLanes=x,c){case 0:case 1:throw Error(o(345));case 2:Qo(l,mi);break;case 3:if(Ws(l,x),(x&130023424)===x&&(c=v0+500-An(),10<c)){if(xh(l,0)!==0)break;if(E=l.suspendedLanes,(E&x)!==x){ii(),l.pingedLanes|=l.suspendedLanes&E;break}l.timeoutHandle=_e(Qo.bind(null,l,mi),c);break}Qo(l,mi);break;case 4:if(Ws(l,x),(x&4194240)===x)break;for(c=l.eventTimes,E=-1;0<x;){var O=31-dr(x);A=1<<O,O=c[O],O>E&&(E=O),x&=~A}if(x=E,x=An()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*r4(x/1960))-x,10<x){l.timeoutHandle=_e(Qo.bind(null,l,mi),x);break}Qo(l,mi);break;case 5:Qo(l,mi);break;default:throw Error(o(329))}}}return gi(l,An()),l.callbackNode===m?YS.bind(null,l):null}function S0(l,c){var m=Qu;return l.current.memoizedState.isDehydrated&&(Xo(l,c).flags|=256),l=od(l,c),l!==2&&(c=mi,mi=m,c!==null&&M0(c)),l}function M0(l){mi===null?mi=l:mi.push.apply(mi,l)}function s4(l){for(var c=l;;){if(c.flags&16384){var m=c.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var x=0;x<m.length;x++){var E=m[x],A=E.getSnapshot;E=E.value;try{if(!Nr(A(),E))return!1}catch{return!1}}}if(m=c.child,c.subtreeFlags&16384&&m!==null)m.return=c,c=m;else{if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Ws(l,c){for(c&=~y0,c&=~$h,l.suspendedLanes|=c,l.pingedLanes&=~c,l=l.expirationTimes;0<c;){var m=31-dr(c),x=1<<m;l[m]=-1,c&=~x}}function qS(l){if(ft&6)throw Error(o(327));Yo();var c=xh(l,0);if(!(c&1))return gi(l,An()),null;var m=od(l,c);if(l.tag!==0&&m===2){var x=Ag(l);x!==0&&(c=x,m=S0(l,x))}if(m===1)throw m=Xu,Xo(l,0),Ws(l,c),gi(l,An()),m;if(m===6)throw Error(o(345));return l.finishedWork=l.current.alternate,l.finishedLanes=c,Qo(l,mi),gi(l,An()),null}function JS(l){Hs!==null&&Hs.tag===0&&!(ft&6)&&Yo();var c=ft;ft|=1;var m=ln.transition,x=Mt;try{if(ln.transition=null,Mt=1,l)return l()}finally{Mt=x,ln.transition=m,ft=c,!(ft&6)&&zr()}}function E0(){Ri=al.current,xt(al)}function Xo(l,c){l.finishedWork=null,l.finishedLanes=0;var m=l.timeoutHandle;if(m!==ze&&(l.timeoutHandle=ze,ke(m)),yn!==null)for(m=yn.return;m!==null;){var x=m;switch(Vg(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&mh();break;case 3:sl(),xt(Vn),xt(mn),Yg();break;case 5:Xg(x);break;case 4:sl();break;case 13:xt(Xt);break;case 19:xt(Xt);break;case 10:Ng(x.type._context);break;case 22:case 23:E0()}m=m.return}if(gn=l,yn=l=js(l.current,null),kn=Ri=c,wn=0,Xu=null,y0=$h=ll=0,mi=Qu=null,Or!==null){for(c=0;c<Or.length;c++)if(m=Or[c],x=m.interleaved,x!==null){m.interleaved=null;var E=x.next,A=m.pending;if(A!==null){var O=A.next;A.next=E,x.next=O}m.pending=x}Or=null}return l}function ZS(l,c){do{var m=yn;try{if(kg(),Ih.current=Fh,Dh){for(var x=nn.memoizedState;x!==null;){var E=x.queue;E!==null&&(E.pending=null),x=x.next}Dh=!1}if(ol=0,bn=Hn=nn=null,Ou=!1,Fu=0,g0.current=null,m===null||m.return===null){wn=1,Xu=c,yn=null;break}e:{var A=l,O=m.return,j=m,se=c;if(c=kn,j.flags|=32768,se!==null&&typeof se=="object"&&typeof se.then=="function"){var we=se,Ne=j,it=Ne.tag;if(!(Ne.mode&1)&&(it===0||it===11||it===15)){var Je=Ne.alternate;Je?(Ne.updateQueue=Je.updateQueue,Ne.memoizedState=Je.memoizedState,Ne.lanes=Je.lanes):(Ne.updateQueue=null,Ne.memoizedState=null)}var Dt=vS(O);if(Dt!==null){Dt.flags&=-257,xS(Dt,O,j,A,c),Dt.mode&1&&yS(A,we,c),c=Dt,se=we;var We=c.updateQueue;if(We===null){var jn=new Set;jn.add(se),c.updateQueue=jn}else We.add(se);break e}else{if(!(c&1)){yS(A,we,c),T0();break e}se=Error(o(426))}}else if(Gt&&j.mode&1){var Zi=vS(O);if(Zi!==null){!(Zi.flags&65536)&&(Zi.flags|=256),xS(Zi,O,j,A,c),Wg(se);break e}}A=se,wn!==4&&(wn=2),Qu===null?Qu=[A]:Qu.push(A),se=t0(se,j),j=O;do{switch(j.tag){case 3:j.flags|=65536,c&=-c,j.lanes|=c;var $=mS(j,se,c);Ow(j,$);break e;case 1:A=se;var Q=j.type,ie=j.stateNode;if(!(j.flags&128)&&(typeof Q.getDerivedStateFromError=="function"||ie!==null&&typeof ie.componentDidCatch=="function"&&(Vs===null||!Vs.has(ie)))){j.flags|=65536,c&=-c,j.lanes|=c;var Pe=gS(j,A,c);Ow(j,Pe);break e}}j=j.return}while(j!==null)}eM(m)}catch(Ge){c=Ge,yn===m&&m!==null&&(yn=m=m.return);continue}break}while(1)}function KS(){var l=Kh.current;return Kh.current=Fh,l===null?Fh:l}function T0(){(wn===0||wn===3||wn===2)&&(wn=4),gn===null||!(ll&268435455)&&!($h&268435455)||Ws(gn,kn)}function od(l,c){var m=ft;ft|=2;var x=KS();gn===l&&kn===c||Xo(l,c);do try{o4();break}catch(E){ZS(l,E)}while(1);if(kg(),ft=m,Kh.current=x,yn!==null)throw Error(o(261));return gn=null,kn=0,wn}function o4(){for(;yn!==null;)$S(yn)}function a4(){for(;yn!==null&&!DR();)$S(yn)}function $S(l){var c=iM(l.alternate,l,Ri);l.memoizedProps=l.pendingProps,c===null?eM(l):yn=c,g0.current=null}function eM(l){var c=l;do{var m=c.alternate;if(l=c.return,c.flags&32768){if(m=$R(m,c),m!==null){m.flags&=32767,yn=m;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{wn=6,yn=null;return}}else if(m=JR(m,c,Ri),m!==null){yn=m;return}if(c=c.sibling,c!==null){yn=c;return}yn=c=l}while(c!==null);wn===0&&(wn=5)}function Qo(l,c){var m=Mt,x=ln.transition;try{ln.transition=null,Mt=1,l4(l,c,m)}finally{ln.transition=x,Mt=m}return null}function l4(l,c,m){do Yo();while(Hs!==null);if(ft&6)throw Error(o(327));var x=l.finishedWork,E=l.finishedLanes;if(x===null)return null;if(l.finishedWork=null,l.finishedLanes=0,x===l.current)throw Error(o(177));l.callbackNode=null,l.callbackPriority=0;var A=x.lanes|x.childLanes;if(IR(l,A),l===gn&&(yn=gn=null,kn=0),!(x.subtreeFlags&2064)&&!(x.flags&2064)||td||(td=!0,rM(Rg,function(){return Yo(),null})),A=(x.flags&15990)!==0,x.subtreeFlags&15990||A){A=ln.transition,ln.transition=null;var O=Mt;Mt=1;var j=ft;ft|=4,g0.current=null,t4(l,x),n4(l,x),U(l.containerInfo),l.current=x,i4(x),kR(),ft=j,Mt=O,ln.transition=A}else l.current=x;if(td&&(td=!1,Hs=l,nd=E),A=l.pendingLanes,A===0&&(Vs=null),OR(x.stateNode),gi(l,An()),c!==null)for(m=l.onRecoverableError,x=0;x<c.length;x++)m(c[x]);if(ed)throw ed=!1,l=_0,_0=null,l;return nd&1&&l.tag!==0&&Yo(),A=l.pendingLanes,A&1?l===w0?Yu++:(Yu=0,w0=l):Yu=0,zr(),null}function Yo(){if(Hs!==null){var l=Iw(nd),c=ln.transition,m=Mt;try{if(ln.transition=null,Mt=16>l?16:l,Hs===null)var x=!1;else{if(l=Hs,Hs=null,nd=0,ft&6)throw Error(o(331));var E=ft;for(ft|=4,be=l.current;be!==null;){var A=be,O=A.child;if(be.flags&16){var j=A.deletions;if(j!==null){for(var se=0;se<j.length;se++){var we=j[se];for(be=we;be!==null;){var Ne=be;switch(Ne.tag){case 0:case 11:case 15:jo(8,Ne,A)}var it=Ne.child;if(it!==null)it.return=Ne,be=it;else for(;be!==null;){Ne=be;var Je=Ne.sibling,Dt=Ne.return;if(FS(Ne),Ne===we){be=null;break}if(Je!==null){Je.return=Dt,be=Je;break}be=Dt}}}var We=A.alternate;if(We!==null){var jn=We.child;if(jn!==null){We.child=null;do{var Zi=jn.sibling;jn.sibling=null,jn=Zi}while(jn!==null)}}be=A}}if(A.subtreeFlags&2064&&O!==null)O.return=A,be=O;else e:for(;be!==null;){if(A=be,A.flags&2048)switch(A.tag){case 0:case 11:case 15:jo(9,A,A.return)}var $=A.sibling;if($!==null){$.return=A.return,be=$;break e}be=A.return}}var Q=l.current;for(be=Q;be!==null;){O=be;var ie=O.child;if(O.subtreeFlags&2064&&ie!==null)ie.return=O,be=ie;else e:for(O=Q;be!==null;){if(j=be,j.flags&2048)try{switch(j.tag){case 0:case 11:case 15:Wu(9,j)}}catch(Ge){yi(j,j.return,Ge)}if(j===O){be=null;break e}var Pe=j.sibling;if(Pe!==null){Pe.return=j.return,be=Pe;break e}be=j.return}}if(ft=E,zr(),kr&&typeof kr.onPostCommitFiberRoot=="function")try{kr.onPostCommitFiberRoot(_h,l)}catch{}x=!0}return x}finally{Mt=m,ln.transition=c}}return!1}function tM(l,c,m){c=t0(m,c),c=mS(l,c,1),Us(l,c),c=ii(),l=sd(l,1),l!==null&&(Ru(l,1,c),gi(l,c))}function yi(l,c,m){if(l.tag===3)tM(l,l,m);else for(;c!==null;){if(c.tag===3){tM(c,l,m);break}else if(c.tag===1){var x=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Vs===null||!Vs.has(x))){l=t0(m,l),l=gS(c,l,1),Us(c,l),l=ii(),c=sd(c,1),c!==null&&(Ru(c,1,l),gi(c,l));break}}c=c.return}}function u4(l,c,m){var x=l.pingCache;x!==null&&x.delete(c),c=ii(),l.pingedLanes|=l.suspendedLanes&m,gn===l&&(kn&m)===m&&(wn===4||wn===3&&(kn&130023424)===kn&&500>An()-v0?Xo(l,0):y0|=m),gi(l,c)}function nM(l,c){c===0&&(l.mode&1?(c=vh,vh<<=1,!(vh&130023424)&&(vh=4194304)):c=1);var m=ii();l=sd(l,c),l!==null&&(Ru(l,c,m),gi(l,m))}function c4(l){var c=l.memoizedState,m=0;c!==null&&(m=c.retryLane),nM(l,m)}function f4(l,c){var m=0;switch(l.tag){case 13:var x=l.stateNode,E=l.memoizedState;E!==null&&(m=E.retryLane);break;case 19:x=l.stateNode;break;default:throw Error(o(314))}x!==null&&x.delete(c),nM(l,m)}var iM;iM=function(l,c,m){if(l!==null)if(l.memoizedProps!==c.pendingProps||Vn.current)Li=!0;else{if(!(l.lanes&m)&&!(c.flags&128))return Li=!1,KR(l,c,m);Li=!!(l.flags&131072)}else Li=!1,Gt&&c.flags&1048576&&Gw(c,Ph,c.index);switch(c.lanes=0,c.tag){case 2:var x=c.type;l!==null&&(l.alternate=null,c.alternate=null,c.flags|=2),l=c.pendingProps;var E=Za(c,mn.current);$a(c,m),E=Jg(null,c,x,l,E,m);var A=Zg();return c.flags|=1,typeof E=="object"&&E!==null&&typeof E.render=="function"&&E.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,pi(x)?(A=!0,gh(c)):A=!1,c.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,Og(c),E.updater=bh,c.stateNode=E,E._reactInternals=c,Bg(c,x,l,m),c=r0(null,c,x,!0,A,m)):(c.tag=0,Gt&&A&&Ug(c),ni(null,c,E,m),c=c.child),c;case 16:x=c.elementType;e:{switch(l!==null&&(l.alternate=null,c.alternate=null,c.flags|=2),l=c.pendingProps,E=x._init,x=E(x._payload),c.type=x,E=c.tag=d4(x),l=pr(x,l),E){case 0:c=i0(null,c,x,l,m);break e;case 1:c=bS(null,c,x,l,m);break e;case 11:c=SS(null,c,x,l,m);break e;case 14:c=MS(null,c,x,pr(x.type,l),m);break e}throw Error(o(306,x,""))}return c;case 0:return x=c.type,E=c.pendingProps,E=c.elementType===x?E:pr(x,E),i0(l,c,x,E,m);case 1:return x=c.type,E=c.pendingProps,E=c.elementType===x?E:pr(x,E),bS(l,c,x,E,m);case 3:e:{if(CS(c),l===null)throw Error(o(387));x=c.pendingProps,A=c.memoizedState,E=A.element,zw(l,c),Ah(c,x,null,m);var O=c.memoizedState;if(x=O.element,pe&&A.isDehydrated)if(A={element:x,isDehydrated:!1,cache:O.cache,transitions:O.transitions},c.updateQueue.baseState=A,c.memoizedState=A,c.flags&256){E=Error(o(423)),c=PS(l,c,x,m,E);break e}else if(x!==E){E=Error(o(424)),c=PS(l,c,x,m,E);break e}else for(pe&&(Pi=ce(c.stateNode.containerInfo),Ci=c,Gt=!0,mr=null,Iu=!1),m=qw(c,null,x,m),c.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(nl(),x===E){c=os(l,c,m);break e}ni(l,c,x,m)}c=c.child}return c;case 5:return Jw(c),l===null&&Gg(c),x=c.type,E=c.pendingProps,A=l!==null?l.memoizedProps:null,O=E.children,q(x,E)?O=null:A!==null&&q(x,A)&&(c.flags|=32),AS(l,c),ni(l,c,O,m),c.child;case 6:return l===null&&Gg(c),null;case 13:return LS(l,c,m);case 4:return jg(c,c.stateNode.containerInfo),x=c.pendingProps,l===null?c.child=il(c,null,x,m):ni(l,c,x,m),c.child;case 11:return x=c.type,E=c.pendingProps,E=c.elementType===x?E:pr(x,E),SS(l,c,x,E,m);case 7:return ni(l,c,c.pendingProps,m),c.child;case 8:return ni(l,c,c.pendingProps.children,m),c.child;case 12:return ni(l,c,c.pendingProps.children,m),c.child;case 10:e:{if(x=c.type._context,E=c.pendingProps,A=c.memoizedProps,O=E.value,Nw(c,x,O),A!==null)if(Nr(A.value,O)){if(A.children===E.children&&!Vn.current){c=os(l,c,m);break e}}else for(A=c.child,A!==null&&(A.return=c);A!==null;){var j=A.dependencies;if(j!==null){O=A.child;for(var se=j.firstContext;se!==null;){if(se.context===x){if(A.tag===1){se=ns(-1,m&-m),se.tag=2;var we=A.updateQueue;if(we!==null){we=we.shared;var Ne=we.pending;Ne===null?se.next=se:(se.next=Ne.next,Ne.next=se),we.pending=se}}A.lanes|=m,se=A.alternate,se!==null&&(se.lanes|=m),zg(A.return,m,c),j.lanes|=m;break}se=se.next}}else if(A.tag===10)O=A.type===c.type?null:A.child;else if(A.tag===18){if(O=A.return,O===null)throw Error(o(341));O.lanes|=m,j=O.alternate,j!==null&&(j.lanes|=m),zg(O,m,c),O=A.sibling}else O=A.child;if(O!==null)O.return=A;else for(O=A;O!==null;){if(O===c){O=null;break}if(A=O.sibling,A!==null){A.return=O.return,O=A;break}O=O.return}A=O}ni(l,c,E.children,m),c=c.child}return c;case 9:return E=c.type,x=c.pendingProps.children,$a(c,m),E=Wi(E),x=x(E),c.flags|=1,ni(l,c,x,m),c.child;case 14:return x=c.type,E=pr(x,c.pendingProps),E=pr(x.type,E),MS(l,c,x,E,m);case 15:return ES(l,c,c.type,c.pendingProps,m);case 17:return x=c.type,E=c.pendingProps,E=c.elementType===x?E:pr(x,E),l!==null&&(l.alternate=null,c.alternate=null,c.flags|=2),c.tag=1,pi(x)?(l=!0,gh(c)):l=!1,$a(c,m),Vw(c,x,E),Bg(c,x,E,m),r0(null,c,x,!0,l,m);case 19:return kS(l,c,m);case 22:return TS(l,c,m)}throw Error(o(156,c.tag))};function rM(l,c){return Pg(l,c)}function h4(l,c,m,x){this.tag=l,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ji(l,c,m,x){return new h4(l,c,m,x)}function A0(l){return l=l.prototype,!(!l||!l.isReactComponent)}function d4(l){if(typeof l=="function")return A0(l)?1:0;if(l!=null){if(l=l.$$typeof,l===v)return 11;if(l===_)return 14}return 2}function js(l,c){var m=l.alternate;return m===null?(m=Ji(l.tag,c,l.key,l.mode),m.elementType=l.elementType,m.type=l.type,m.stateNode=l.stateNode,m.alternate=l,l.alternate=m):(m.pendingProps=c,m.type=l.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=l.flags&14680064,m.childLanes=l.childLanes,m.lanes=l.lanes,m.child=l.child,m.memoizedProps=l.memoizedProps,m.memoizedState=l.memoizedState,m.updateQueue=l.updateQueue,c=l.dependencies,m.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},m.sibling=l.sibling,m.index=l.index,m.ref=l.ref,m}function ad(l,c,m,x,E,A){var O=2;if(x=l,typeof l=="function")A0(l)&&(O=1);else if(typeof l=="string")O=5;else e:switch(l){case h:return qo(m.children,E,A,c);case d:O=8,E|=8;break;case p:return l=Ji(12,m,c,E|2),l.elementType=p,l.lanes=A,l;case w:return l=Ji(13,m,c,E),l.elementType=w,l.lanes=A,l;case M:return l=Ji(19,m,c,E),l.elementType=M,l.lanes=A,l;case T:return ld(m,E,A,c);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case g:O=10;break e;case y:O=9;break e;case v:O=11;break e;case _:O=14;break e;case S:O=16,x=null;break e}throw Error(o(130,l==null?l:typeof l,""))}return c=Ji(O,m,c,E),c.elementType=l,c.type=x,c.lanes=A,c}function qo(l,c,m,x){return l=Ji(7,l,x,c),l.lanes=m,l}function ld(l,c,m,x){return l=Ji(22,l,x,c),l.elementType=T,l.lanes=m,l.stateNode={},l}function b0(l,c,m){return l=Ji(6,l,null,c),l.lanes=m,l}function C0(l,c,m){return c=Ji(4,l.children!==null?l.children:[],l.key,c),c.lanes=m,c.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},c}function p4(l,c,m,x,E){this.tag=c,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ze,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bg(0),this.expirationTimes=bg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bg(0),this.identifierPrefix=x,this.onRecoverableError=E,pe&&(this.mutableSourceEagerHydrationData=null)}function sM(l,c,m,x,E,A,O,j,se){return l=new p4(l,c,m,j,se),c===1?(c=1,A===!0&&(c|=8)):c=0,A=Ji(3,null,null,c),l.current=A,A.stateNode=l,A.memoizedState={element:x,isDehydrated:m,cache:null,transitions:null},Og(A),l}function oM(l){if(!l)return tn;l=l._reactInternals;e:{if(L(l)!==l||l.tag!==1)throw Error(o(170));var c=l;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(pi(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(o(171))}if(l.tag===1){var m=l.type;if(pi(m))return Lw(l,m,c)}return c}function aM(l){var c=l._reactInternals;if(c===void 0)throw typeof l.render=="function"?Error(o(188)):(l=Object.keys(l).join(","),Error(o(268,l)));return l=K(c),l===null?null:l.stateNode}function lM(l,c){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var m=l.retryLane;l.retryLane=m!==0&&m<c?m:c}}function P0(l,c){lM(l,c),(l=l.alternate)&&lM(l,c)}function m4(l){return l=K(l),l===null?null:l.stateNode}function g4(){return null}return t.attemptContinuousHydration=function(l){if(l.tag===13){var c=ii();qi(l,134217728,c),P0(l,134217728)}},t.attemptHydrationAtCurrentPriority=function(l){if(l.tag===13){var c=ii(),m=Gs(l);qi(l,m,c),P0(l,m)}},t.attemptSynchronousHydration=function(l){switch(l.tag){case 3:var c=l.stateNode;if(c.current.memoizedState.isDehydrated){var m=Lu(c.pendingLanes);m!==0&&(Cg(c,m|1),gi(c,An()),!(ft&6)&&(ul(),zr()))}break;case 13:var x=ii();JS(function(){return qi(l,1,x)}),P0(l,1)}},t.batchedUpdates=function(l,c){var m=ft;ft|=1;try{return l(c)}finally{ft=m,ft===0&&(ul(),wh&&zr())}},t.createComponentSelector=function(l){return{$$typeof:Qh,value:l}},t.createContainer=function(l,c,m,x,E,A,O){return sM(l,c,!1,null,m,x,E,A,O)},t.createHasPseudoClassSelector=function(l){return{$$typeof:Yh,value:l}},t.createHydrationContainer=function(l,c,m,x,E,A,O,j,se){return l=sM(m,x,!0,l,E,A,O,j,se),l.context=oM(null),m=l.current,x=ii(),E=Gs(m),A=ns(x,E),A.callback=c??null,Us(m,A),l.current.lanes=E,Ru(l,E,x),gi(l,x),l},t.createPortal=function(l,c,m){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:f,key:x==null?null:""+x,children:l,containerInfo:c,implementation:m}},t.createRoleSelector=function(l){return{$$typeof:qh,value:l}},t.createTestNameSelector=function(l){return{$$typeof:Jh,value:l}},t.createTextSelector=function(l){return{$$typeof:Zh,value:l}},t.deferredUpdates=function(l){var c=Mt,m=ln.transition;try{return ln.transition=null,Mt=16,l()}finally{Mt=c,ln.transition=m}},t.discreteUpdates=function(l,c,m,x,E){var A=Mt,O=ln.transition;try{return ln.transition=null,Mt=1,l(c,m,x,E)}finally{Mt=A,ln.transition=O,ft===0&&ul()}},t.findAllNodes=m0,t.findBoundingRects=function(l,c){if(!St)throw Error(o(363));c=m0(l,c),l=[];for(var m=0;m<c.length;m++)l.push(F(c[m]));for(c=l.length-1;0<c;c--){m=l[c];for(var x=m.x,E=x+m.width,A=m.y,O=A+m.height,j=c-1;0<=j;j--)if(c!==j){var se=l[j],we=se.x,Ne=we+se.width,it=se.y,Je=it+se.height;if(x>=we&&A>=it&&E<=Ne&&O<=Je){l.splice(c,1);break}else if(x!==we||m.width!==se.width||Je<A||it>O){if(!(A!==it||m.height!==se.height||Ne<x||we>E)){we>x&&(se.width+=we-x,se.x=x),Ne<E&&(se.width=E-we),l.splice(c,1);break}}else{it>A&&(se.height+=it-A,se.y=A),Je<O&&(se.height=O-it),l.splice(c,1);break}}}return l},t.findHostInstance=aM,t.findHostInstanceWithNoPortals=function(l){return l=V(l),l=l!==null?W(l):null,l===null?null:l.stateNode},t.findHostInstanceWithWarning=function(l){return aM(l)},t.flushControlled=function(l){var c=ft;ft|=1;var m=ln.transition,x=Mt;try{ln.transition=null,Mt=1,l()}finally{Mt=x,ln.transition=m,ft=c,ft===0&&(ul(),zr())}},t.flushPassiveEffects=Yo,t.flushSync=JS,t.focusWithin=function(l,c){if(!St)throw Error(o(363));for(l=h0(l),c=QS(l,c),c=Array.from(c),l=0;l<c.length;){var m=c[l++];if(!re(m)){if(m.tag===5&&Me(m.stateNode))return!0;for(m=m.child;m!==null;)c.push(m),m=m.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Mt},t.getFindAllNodesFailureDescription=function(l,c){if(!St)throw Error(o(363));var m=0,x=[];l=[h0(l),0];for(var E=0;E<l.length;){var A=l[E++],O=l[E++],j=c[O];if((A.tag!==5||!re(A))&&(d0(A,j)&&(x.push(p0(j)),O++,O>m&&(m=O)),O<c.length))for(A=A.child;A!==null;)l.push(A,O),A=A.sibling}if(m<c.length){for(l=[];m<c.length;m++)l.push(p0(c[m]));return`findAllNodes was able to match part of the selector:
  `+(x.join(" > ")+`

No matching component was found for:
  `)+l.join(" > ")}return null},t.getPublicRootInstance=function(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return ne(l.child.stateNode);default:return l.child.stateNode}},t.injectIntoDevTools=function(l){if(l={bundleType:l.bundleType,version:l.version,rendererPackageName:l.rendererPackageName,rendererConfig:l.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:m4,findFiberByHostInstance:l.findFiberByHostInstance||g4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")l=!1;else{var c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(c.isDisabled||!c.supportsFiber)l=!0;else{try{_h=c.inject(l),kr=c}catch{}l=!!c.checkDCE}}return l},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(l,c,m,x){if(!St)throw Error(o(363));l=m0(l,c);var E=Ce(l,m,x).disconnect;return{disconnect:function(){E()}}},t.registerMutableSourceForHydration=function(l,c){var m=c._getVersion;m=m(c._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[c,m]:l.mutableSourceEagerHydrationData.push(c,m)},t.runWithPriority=function(l,c){var m=Mt;try{return Mt=l,c()}finally{Mt=m}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(l,c,m,x){var E=c.current,A=ii(),O=Gs(E);return m=oM(m),c.context===null?c.context=m:c.pendingContext=m,c=ns(A,O),c.payload={element:l},x=x===void 0?null:x,x!==null&&(c.callback=x),Us(E,c),l=qi(E,O,A),l!==null&&Th(l,E,O),O},t};(function(n){n.exports=WB})(UB);const jB=TT(G1);var gm={},XB={get exports(){return gm},set exports(n){gm=n}},VP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(I,B){var U=I.length;I.push(B);e:for(;0<U;){var te=U-1>>>1,H=I[te];if(0<r(H,B))I[te]=B,I[U]=H,U=te;else break e}}function t(I){return I.length===0?null:I[0]}function i(I){if(I.length===0)return null;var B=I[0],U=I.pop();if(U!==B){I[0]=U;e:for(var te=0,H=I.length,ue=H>>>1;te<ue;){var me=2*(te+1)-1,q=I[me],xe=me+1,_e=I[xe];if(0>r(q,U))xe<H&&0>r(_e,q)?(I[te]=_e,I[xe]=U,te=xe):(I[te]=q,I[me]=U,te=me);else if(xe<H&&0>r(_e,U))I[te]=_e,I[xe]=U,te=xe;else break e}}return B}function r(I,B){var U=I.sortIndex-B.sortIndex;return U!==0?U:I.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var u=[],f=[],h=1,d=null,p=3,g=!1,y=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(I){for(var B=t(f);B!==null;){if(B.callback===null)i(f);else if(B.startTime<=I)i(f),B.sortIndex=B.expirationTime,e(u,B);else break;B=t(f)}}function T(I){if(v=!1,S(I),!y)if(t(u)!==null)y=!0,ne(C);else{var B=t(f);B!==null&&fe(T,B.startTime-I)}}function C(I,B){y=!1,v&&(v=!1,M(b),b=-1),g=!0;var U=p;try{for(S(B),d=t(u);d!==null&&(!(d.expirationTime>B)||I&&!V());){var te=d.callback;if(typeof te=="function"){d.callback=null,p=d.priorityLevel;var H=te(d.expirationTime<=B);B=n.unstable_now(),typeof H=="function"?d.callback=H:d===t(u)&&i(u),S(B)}else i(u);d=t(u)}if(d!==null)var ue=!0;else{var me=t(f);me!==null&&fe(T,me.startTime-B),ue=!1}return ue}finally{d=null,p=U,g=!1}}var P=!1,R=null,b=-1,L=5,D=-1;function V(){return!(n.unstable_now()-D<L)}function K(){if(R!==null){var I=n.unstable_now();D=I;var B=!0;try{B=R(!0,I)}finally{B?Y():(P=!1,R=null)}}else P=!1}var Y;if(typeof _=="function")Y=function(){_(K)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,J=W.port2;W.port1.onmessage=K,Y=function(){J.postMessage(null)}}else Y=function(){w(K,0)};function ne(I){R=I,P||(P=!0,Y())}function fe(I,B){b=w(function(){I(n.unstable_now())},B)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(I){I.callback=null},n.unstable_continueExecution=function(){y||g||(y=!0,ne(C))},n.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<I?Math.floor(1e3/I):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(u)},n.unstable_next=function(I){switch(p){case 1:case 2:case 3:var B=3;break;default:B=p}var U=p;p=B;try{return I()}finally{p=U}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(I,B){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var U=p;p=I;try{return B()}finally{p=U}},n.unstable_scheduleCallback=function(I,B,U){var te=n.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?te+U:te):U=te,I){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=U+H,I={id:h++,callback:B,priorityLevel:I,startTime:U,expirationTime:H,sortIndex:-1},U>te?(I.sortIndex=U,e(f,I),t(u)===null&&I===t(f)&&(v?(M(b),b=-1):v=!0,fe(T,U-te))):(I.sortIndex=H,e(u,I),y||g||(y=!0,ne(C))),I},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(I){var B=p;return function(){var U=p;p=B;try{return I.apply(this,arguments)}finally{p=U}}}})(VP);(function(n){n.exports=VP})(XB);function HP(n,e,t=(i,r)=>i===r){if(n===e)return!0;if(!n||!e)return!1;const i=n.length;if(e.length!==i)return!1;for(let r=0;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}const gs=[];function GP(n,e,t=!1,i={}){for(const s of gs)if(HP(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return s.response;if(!t)throw s.promise}const r={keys:e,equal:i.equal,promise:n(...e).then(s=>r.response=s).then(()=>{i.lifespan&&i.lifespan>0&&setTimeout(()=>{const s=gs.indexOf(r);s!==-1&&gs.splice(s,1)},i.lifespan)}).catch(s=>r.error=s)};if(gs.push(r),!t)throw r.promise}const QB=(n,e,t)=>GP(n,e,!1,t),YB=(n,e,t)=>void GP(n,e,!0,t),qB=n=>{if(n===void 0||n.length===0)gs.splice(0,gs.length);else{const e=gs.find(t=>HP(n,t.keys,t.equal));if(e){const t=gs.indexOf(e);t!==-1&&gs.splice(t,1)}}};var J3,Z3;const JB=(n,...e)=>e.reduce((t,i)=>t==null?void 0:t[i],n),Ll="ColorManagement"in H1&&JB(H1,"ColorManagement")||null,WP=n=>n&&n.isOrthographicCamera,ZB=n=>n&&n.hasOwnProperty("current"),ah=typeof window<"u"&&((J3=window.document)!=null&&J3.createElement||((Z3=window.navigator)==null?void 0:Z3.product)==="ReactNative")?G.useLayoutEffect:G.useEffect;function jP(n){const e=G.useRef(n);return ah(()=>void(e.current=n),[n]),e}function KB({set:n}){return ah(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class XP extends G.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}XP.getDerivedStateFromError=()=>({error:!0});const QP="__default",K3=new Map,$B=n=>n&&!!n.memoized&&!!n.changes;function YP(n){const e=typeof window<"u"?window.devicePixelRatio:1;return Array.isArray(n)?Math.min(Math.max(n[0],e),n[1]):n}const mc=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()},Bt={obj:n=>n===Object(n)&&!Bt.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Bt.str(n)||Bt.num(n))return n===e;const s=Bt.obj(n);if(s&&i==="reference")return n===e;const o=Bt.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(s&&t==="shallow"&&i==="shallow"){for(a in r?e:n)if(!Bt.equ(n[a],e[a],{strict:r,objects:"reference"}))return!1}else for(a in r?e:n)if(n[a]!==e[a])return!1;if(Bt.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function eU(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function tU(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function Rl(n,e){const t=n;return(e!=null&&e.primitive||!t.__r3f)&&(t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e}),n}function W1(n,e){let t=n;if(e.includes("-")){const i=e.split("-"),r=i.pop();return t=i.reduce((s,o)=>s[o],n),{target:t,key:r}}else return{target:t,key:e}}const $3=/-\d+$/;function Fy(n,e,t){if(Bt.str(t)){if($3.test(t)){const s=t.replace($3,""),{target:o,key:a}=W1(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:i,key:r}=W1(n,t);e.__r3f.previousAttach=i[r],i[r]=e}else e.__r3f.previousAttach=t(n,e)}function eE(n,e,t){var i,r;if(Bt.str(t)){const{target:s,key:o}=W1(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(i=e.__r3f)==null||i.previousAttach==null||i.previousAttach(n,e);(r=e.__r3f)==null||delete r.previousAttach}function qP(n,{children:e,key:t,ref:i,...r},{children:s,key:o,ref:a,...u}={},f=!1){var h;const d=(h=n==null?void 0:n.__r3f)!=null?h:{},p=Object.entries(r),g=[];if(f){const v=Object.keys(u);for(let w=0;w<v.length;w++)r.hasOwnProperty(v[w])||p.unshift([v[w],QP+"remove"])}p.forEach(([v,w])=>{var M;if((M=n.__r3f)!=null&&M.primitive&&v==="object"||Bt.equ(w,u[v]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(v))return g.push([v,w,!0,[]]);let _=[];v.includes("-")&&(_=v.split("-")),g.push([v,w,!1,_]);for(const S in r){const T=r[S];S.startsWith(`${v}-`)&&g.push([S,T,!1,S.split("-")])}});const y={...r};return d.memoizedProps&&d.memoizedProps.args&&(y.args=d.memoizedProps.args),d.memoizedProps&&d.memoizedProps.attach&&(y.attach=d.memoizedProps.attach),{memoized:y,changes:g}}function By(n,e){var t,i,r;const s=(t=n.__r3f)!=null?t:{},o=s.root,a=(i=o==null||o.getState==null?void 0:o.getState())!=null?i:{},{memoized:u,changes:f}=$B(e)?e:qP(n,e),h=s.eventCount;n.__r3f&&(n.__r3f.memoizedProps=u);for(let p=0;p<f.length;p++){let[g,y,v,w]=f[p],M=n,_=M[g];if(w.length&&(_=w.reduce((S,T)=>S[T],n),!(_&&_.set))){const[S,...T]=w.reverse();M=T.reverse().reduce((C,P)=>C[P],n),g=S}if(y===QP+"remove")if(M.constructor){let S=K3.get(M.constructor);S||(S=new M.constructor,K3.set(M.constructor,S)),y=S[g]}else y=0;if(v)y?s.handlers[g]=y:delete s.handlers[g],s.eventCount=Object.keys(s.handlers).length;else if(_&&_.set&&(_.copy||_ instanceof Pa)){if(Array.isArray(y))_.fromArray?_.fromArray(y):_.set(...y);else if(_.copy&&y&&y.constructor&&_.constructor===y.constructor)_.copy(y);else if(y!==void 0){const S=_ instanceof Ie;!S&&_.setScalar?_.setScalar(y):_ instanceof Pa&&y instanceof Pa?_.mask=y.mask:_.set(y),!Ll&&!a.linear&&S&&_.convertSRGBToLinear()}}else M[g]=y,!a.linear&&M[g]instanceof on&&M[g].format===xi&&M[g].type===Is&&(M[g].encoding=It);Il(n)}if(s.parent&&a.internal&&n.raycast&&h!==s.eventCount){const p=a.internal.interaction.indexOf(n);p>-1&&a.internal.interaction.splice(p,1),s.eventCount&&a.internal.interaction.push(n)}return!(f.length===1&&f[0][0]==="onUpdate")&&f.length&&(r=n.__r3f)!=null&&r.parent&&j1(n),n}function Il(n){var e,t;const i=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();i&&i.internal.frames===0&&i.invalidate()}function j1(n){n.onUpdate==null||n.onUpdate(n)}function nU(n,e){n.manual||(WP(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function fp(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function iU(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return ho.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return ho.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return ho.ContinuousEventPriority;default:return ho.DefaultEventPriority}}function JP(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function rU(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{JP(t.capturedMap,e,i,r)})}function sU(n){function e(u){const{internal:f}=n.getState(),h=u.offsetX-f.initialClick[0],d=u.offsetY-f.initialClick[1];return Math.round(Math.sqrt(h*h+d*d))}function t(u){return u.filter(f=>["Move","Over","Enter","Out","Leave"].some(h=>{var d;return(d=f.__r3f)==null?void 0:d.handlers["onPointer"+h]}))}function i(u,f){const h=n.getState(),d=new Set,p=[],g=f?f(h.internal.interaction):h.internal.interaction;for(let M=0;M<g.length;M++){const _=mc(g[M]);_&&(_.raycaster.camera=void 0)}h.previousRoot||h.events.compute==null||h.events.compute(u,h);function y(M){const _=mc(M);if(!_||!_.events.enabled||_.raycaster.camera===null)return[];if(_.raycaster.camera===void 0){var S;_.events.compute==null||_.events.compute(u,_,(S=_.previousRoot)==null?void 0:S.getState()),_.raycaster.camera===void 0&&(_.raycaster.camera=null)}return _.raycaster.camera?_.raycaster.intersectObject(M,!0):[]}let v=g.flatMap(y).sort((M,_)=>{const S=mc(M.object),T=mc(_.object);return!S||!T?M.distance-_.distance:T.events.priority-S.events.priority||M.distance-_.distance}).filter(M=>{const _=fp(M);return d.has(_)?!1:(d.add(_),!0)});h.events.filter&&(v=h.events.filter(v,h));for(const M of v){let _=M.object;for(;_;){var w;(w=_.__r3f)!=null&&w.eventCount&&p.push({...M,eventObject:_}),_=_.parent}}if("pointerId"in u&&h.internal.capturedMap.has(u.pointerId))for(let M of h.internal.capturedMap.get(u.pointerId).values())d.has(fp(M.intersection))||p.push(M.intersection);return p}function r(u,f,h,d){const p=n.getState();if(u.length){const g={stopped:!1};for(const y of u){const v=mc(y.object)||p,{raycaster:w,pointer:M,camera:_,internal:S}=v,T=new z(M.x,M.y,0).unproject(_),C=D=>{var V,K;return(V=(K=S.capturedMap.get(D))==null?void 0:K.has(y.eventObject))!=null?V:!1},P=D=>{const V={intersection:y,target:f.target};S.capturedMap.has(D)?S.capturedMap.get(D).set(y.eventObject,V):S.capturedMap.set(D,new Map([[y.eventObject,V]])),f.target.setPointerCapture(D)},R=D=>{const V=S.capturedMap.get(D);V&&JP(S.capturedMap,y.eventObject,V,D)};let b={};for(let D in f){let V=f[D];typeof V!="function"&&(b[D]=V)}let L={...y,...b,pointer:M,intersections:u,stopped:g.stopped,delta:h,unprojectedPoint:T,ray:w.ray,camera:_,stopPropagation(){const D="pointerId"in f&&S.capturedMap.get(f.pointerId);if((!D||D.has(y.eventObject))&&(L.stopped=g.stopped=!0,S.hovered.size&&Array.from(S.hovered.values()).find(V=>V.eventObject===y.eventObject))){const V=u.slice(0,u.indexOf(y));s([...V,y])}},target:{hasPointerCapture:C,setPointerCapture:P,releasePointerCapture:R},currentTarget:{hasPointerCapture:C,setPointerCapture:P,releasePointerCapture:R},nativeEvent:f};if(d(L),g.stopped===!0)break}}return u}function s(u){const{internal:f}=n.getState();for(const h of f.hovered.values())if(!u.length||!u.find(d=>d.object===h.object&&d.index===h.index&&d.instanceId===h.instanceId)){const p=h.eventObject.__r3f,g=p==null?void 0:p.handlers;if(f.hovered.delete(fp(h)),p!=null&&p.eventCount){const y={...h,intersections:u};g.onPointerOut==null||g.onPointerOut(y),g.onPointerLeave==null||g.onPointerLeave(y)}}}function o(u,f){for(let h=0;h<f.length;h++){const d=f[h].__r3f;d==null||d.handlers.onPointerMissed==null||d.handlers.onPointerMissed(u)}}function a(u){switch(u){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return f=>{const{internal:h}=n.getState();"pointerId"in f&&h.capturedMap.has(f.pointerId)&&(h.capturedMap.delete(f.pointerId),s([]))}}return function(h){const{onPointerMissed:d,internal:p}=n.getState();p.lastEvent.current=h;const g=u==="onPointerMove",y=u==="onClick"||u==="onContextMenu"||u==="onDoubleClick",w=i(h,g?t:void 0),M=y?e(h):0;u==="onPointerDown"&&(p.initialClick=[h.offsetX,h.offsetY],p.initialHits=w.map(S=>S.eventObject)),y&&!w.length&&M<=2&&(o(h,p.interaction),d&&d(h)),g&&s(w);function _(S){const T=S.eventObject,C=T.__r3f,P=C==null?void 0:C.handlers;if(C!=null&&C.eventCount)if(g){if(P.onPointerOver||P.onPointerEnter||P.onPointerOut||P.onPointerLeave){const R=fp(S),b=p.hovered.get(R);b?b.stopped&&S.stopPropagation():(p.hovered.set(R,S),P.onPointerOver==null||P.onPointerOver(S),P.onPointerEnter==null||P.onPointerEnter(S))}P.onPointerMove==null||P.onPointerMove(S)}else{const R=P[u];R?(!y||p.initialHits.includes(T))&&(o(h,p.interaction.filter(b=>!p.initialHits.includes(b))),R(S)):y&&p.initialHits.includes(T)&&o(h,p.interaction.filter(b=>!p.initialHits.includes(b)))}}r(w,h,M,_)}}return{handlePointer:a}}let X1={},oU=n=>void(X1={...X1,...n});function aU(n,e){function t(h,{args:d=[],attach:p,...g},y){let v=`${h[0].toUpperCase()}${h.slice(1)}`,w;if(h==="primitive"){if(g.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const M=g.object;w=Rl(M,{type:h,root:y,attach:p,primitive:!0})}else{const M=X1[v];if(!M)throw new Error(`R3F: ${v} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(d))throw new Error("R3F: The args prop must be an array!");w=Rl(new M(...d),{type:h,root:y,attach:p,memoizedProps:{args:d}})}return w.__r3f.attach===void 0&&(w instanceof ut?w.__r3f.attach="geometry":w instanceof Un&&(w.__r3f.attach="material")),v!=="inject"&&By(w,g),w}function i(h,d){let p=!1;if(d){var g,y;(g=d.__r3f)!=null&&g.attach?Fy(h,d,d.__r3f.attach):d.isObject3D&&h.isObject3D&&(h.add(d),p=!0),p||(y=h.__r3f)==null||y.objects.push(d),d.__r3f||Rl(d,{}),d.__r3f.parent=h,j1(d),Il(d)}}function r(h,d,p){let g=!1;if(d){var y,v;if((y=d.__r3f)!=null&&y.attach)Fy(h,d,d.__r3f.attach);else if(d.isObject3D&&h.isObject3D){d.parent=h,d.dispatchEvent({type:"added"});const w=h.children.filter(_=>_!==d),M=w.indexOf(p);h.children=[...w.slice(0,M),d,...w.slice(M)],g=!0}g||(v=h.__r3f)==null||v.objects.push(d),d.__r3f||Rl(d,{}),d.__r3f.parent=h,j1(d),Il(d)}}function s(h,d,p=!1){h&&[...h].forEach(g=>o(d,g,p))}function o(h,d,p){if(d){var g,y,v;if(d.__r3f&&(d.__r3f.parent=null),(g=h.__r3f)!=null&&g.objects&&(h.__r3f.objects=h.__r3f.objects.filter(T=>T!==d)),(y=d.__r3f)!=null&&y.attach)eE(h,d,d.__r3f.attach);else if(d.isObject3D&&h.isObject3D){var w;h.remove(d),(w=d.__r3f)!=null&&w.root&&rU(d.__r3f.root,d)}const _=(v=d.__r3f)==null?void 0:v.primitive,S=p===void 0?d.dispose!==null&&!_:p;if(!_){var M;s((M=d.__r3f)==null?void 0:M.objects,d,S),s(d.children,d,S)}d.__r3f&&(delete d.__r3f.root,delete d.__r3f.objects,delete d.__r3f.handlers,delete d.__r3f.memoizedProps,_||delete d.__r3f),S&&d.dispose&&d.type!=="Scene"&&gm.unstable_scheduleCallback(gm.unstable_IdlePriority,()=>{try{d.dispose()}catch{}}),Il(h)}}function a(h,d,p,g){var y;const v=(y=h.__r3f)==null?void 0:y.parent;if(!v)return;const w=t(d,p,h.__r3f.root);if(h.children){for(const M of h.children)M.__r3f&&i(w,M);h.children=h.children.filter(M=>!M.__r3f)}h.__r3f.objects.forEach(M=>i(w,M)),h.__r3f.objects=[],h.__r3f.autoRemovedBeforeAppend||o(v,h),w.parent&&(w.__r3f.autoRemovedBeforeAppend=!0),i(v,w),w.raycast&&w.__r3f.eventCount&&w.__r3f.root.getState().internal.interaction.push(w),[g,g.alternate].forEach(M=>{M!==null&&(M.stateNode=w,M.ref&&(typeof M.ref=="function"?M.ref(w):M.ref.current=w))})}const u=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:jB({createInstance:t,removeChild:o,appendChild:i,appendInitialChild:i,insertBefore:r,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(h,d)=>{if(!d)return;const p=h.getState().scene;p.__r3f&&(p.__r3f.root=h,i(p,d))},removeChildFromContainer:(h,d)=>{d&&o(h.getState().scene,d)},insertInContainerBefore:(h,d,p)=>{if(!d||!p)return;const g=h.getState().scene;g.__r3f&&r(g,d,p)},getRootHostContext:()=>null,getChildHostContext:h=>h,finalizeInitialChildren(h){var d;const p=(d=h==null?void 0:h.__r3f)!=null?d:{};return Boolean(p.handlers)},prepareUpdate(h,d,p,g){if(h.__r3f.primitive&&g.object&&g.object!==h)return[!0];{const{args:y=[],children:v,...w}=g,{args:M=[],children:_,...S}=p;if(!Array.isArray(y))throw new Error("R3F: the args prop must be an array!");if(y.some((C,P)=>C!==M[P]))return[!0];const T=qP(h,w,S,!0);return T.changes.length?[!1,T]:null}},commitUpdate(h,[d,p],g,y,v,w){d?a(h,g,v,w):By(h,p)},commitMount(h,d,p,g){var y;const v=(y=h.__r3f)!=null?y:{};h.raycast&&v.handlers&&v.eventCount&&h.__r3f.root.getState().internal.interaction.push(h)},getPublicInstance:h=>h,prepareForCommit:()=>null,preparePortalMount:h=>Rl(h.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(h){var d;const{attach:p,parent:g}=(d=h.__r3f)!=null?d:{};p&&g&&eE(g,h,p),h.isObject3D&&(h.visible=!1),Il(h)},unhideInstance(h,d){var p;const{attach:g,parent:y}=(p=h.__r3f)!=null?p:{};g&&y&&Fy(y,h,g),(h.isObject3D&&d.visible==null||d.visible)&&(h.visible=!0),Il(h)},createTextInstance:u,hideTextInstance:u,unhideTextInstance:u,getCurrentEventPriority:()=>e?e():ho.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Bt.fun(performance.now)?performance.now:Bt.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Bt.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Bt.fun(clearTimeout)?clearTimeout:void 0}),applyProps:By}}const ZP=n=>!!(n!=null&&n.render),KP=G.createContext(null),lU=(n,e)=>{const t=BB((a,u)=>{const f=new z,h=new z,d=new z;function p(M=u().camera,_=h,S=u().size){const{width:T,height:C,top:P,left:R}=S,b=T/C;_ instanceof z?d.copy(_):d.set(..._);const L=M.getWorldPosition(f).distanceTo(d);if(WP(M))return{width:T/M.zoom,height:C/M.zoom,top:P,left:R,factor:1,distance:L,aspect:b};{const D=M.fov*Math.PI/180,V=2*Math.tan(D/2)*L,K=V*(T/C);return{width:K,height:V,top:P,left:R,factor:T/K,distance:L,aspect:b}}}let g;const y=M=>a(_=>({performance:{..._.performance,current:M}})),v=new ge;return{set:a,get:u,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,invalidate:(M=1)=>n(u(),M),advance:(M,_)=>e(M,_,u()),legacy:!1,linear:!1,flat:!1,scene:Rl(new P_),controls:null,clock:new Q_,pointer:v,mouse:v,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const M=u();g&&clearTimeout(g),M.performance.current!==M.performance.min&&y(M.performance.min),g=setTimeout(()=>y(u().performance.max),M.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:M=>a(_=>({..._,events:{..._.events,...M}})),setSize:(M,_,S,T,C)=>{const P=u().camera,R={width:M,height:_,top:T||0,left:C||0,updateStyle:S};a(b=>({size:R,viewport:{...b.viewport,...p(P,h,R)}}))},setDpr:M=>a(_=>{const S=YP(M);return{viewport:{..._.viewport,dpr:S,initialDpr:_.viewport.initialDpr||S}}}),setFrameloop:(M="always")=>{const _=u().clock;_.stop(),_.elapsedTime=0,M!=="never"&&(_.start(),_.elapsedTime=0),a(()=>({frameloop:M}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:G.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(M,_,S)=>{const T=u().internal;return T.priority=T.priority+(_>0?1:0),T.subscribers.push({ref:M,priority:_,store:S}),T.subscribers=T.subscribers.sort((C,P)=>C.priority-P.priority),()=>{const C=u().internal;C!=null&&C.subscribers&&(C.priority=C.priority-(_>0?1:0),C.subscribers=C.subscribers.filter(P=>P.ref!==M))}}}}}),i=t.getState();let r=i.size,s=i.viewport.dpr,o=i.camera;return t.subscribe(()=>{const{camera:a,size:u,viewport:f,gl:h,set:d}=t.getState();if(u!==r||f.dpr!==s){var p;r=u,s=f.dpr,nU(a,u),h.setPixelRatio(f.dpr);const g=(p=u.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&h.domElement instanceof HTMLCanvasElement;h.setSize(u.width,u.height,g)}a!==o&&(o=a,d(g=>({viewport:{...g.viewport,...g.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let hp,uU=new Set,cU=new Set,fU=new Set;function Uy(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function gc(n,e){switch(n){case"before":return Uy(uU,e);case"after":return Uy(cU,e);case"tail":return Uy(fU,e)}}let Vy,Hy;function Gy(n,e,t){let i=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),Vy=e.internal.subscribers,hp=0;hp<Vy.length;hp++)Hy=Vy[hp],Hy.ref.current(Hy.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function hU(n){let e=!1,t,i,r;function s(u){i=requestAnimationFrame(s),e=!0,t=0,gc("before",u);for(const h of n.values()){var f;r=h.store.getState(),r.internal.active&&(r.frameloop==="always"||r.internal.frames>0)&&!((f=r.gl.xr)!=null&&f.isPresenting)&&(t+=Gy(u,r))}if(gc("after",u),t===0)return gc("tail",u),e=!1,cancelAnimationFrame(i)}function o(u,f=1){var h;if(!u)return n.forEach(d=>o(d.store.getState()),f);(h=u.gl.xr)!=null&&h.isPresenting||!u.internal.active||u.frameloop==="never"||(u.internal.frames=Math.min(60,u.internal.frames+f),e||(e=!0,requestAnimationFrame(s)))}function a(u,f=!0,h,d){if(f&&gc("before",u),h)Gy(u,h,d);else for(const p of n.values())Gy(u,p.store.getState());f&&gc("after",u)}return{loop:s,invalidate:o,advance:a}}function $P(){const n=G.useContext(KP);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function Wy(n=t=>t,e){return $P()(n,e)}function Z_(n,e=0){const t=$P(),i=t.getState().internal.subscribe,r=jP(n);return ah(()=>i(r,e,t),[e,i,t]),null}function eL(n,e){return function(t,...i){const r=new t;return n&&n(r),Promise.all(i.map(s=>new Promise((o,a)=>r.load(s,u=>{u.scene&&Object.assign(u,eU(u.scene)),o(u)},e,u=>a(new Error(`Could not load ${s}: ${u.message})`))))))}}function tL(n,e,t,i){const r=Array.isArray(e)?e:[e],s=QB(eL(t,i),[n,...r],{equal:Bt.equ});return Array.isArray(e)?s:s[0]}tL.preload=function(n,e,t){const i=Array.isArray(e)?e:[e];return YB(eL(t),[n,...i])};tL.clear=function(n,e){const t=Array.isArray(e)?e:[e];return qB([n,...t])};const vu=new Map,{invalidate:tE,advance:nE}=hU(vu),{reconciler:ym,applyProps:dp}=aU(vu,iU),Cl={objects:"shallow",strict:!1},dU=(n,e)=>{const t=typeof n=="function"?n(e):n;return ZP(t)?t:new tg({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function pU(n,e){if(e)return e;if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:i,top:r,left:s}=n.parentElement.getBoundingClientRect();return{width:t,height:i,top:r,left:s}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function mU(n){const e=vu.get(n),t=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||lU(tE,nE),o=t||ym.createContainer(s,ho.ConcurrentRoot,null,!1,null,"",r,null);e||vu.set(n,{fiber:o,store:s});let a,u=!1,f;return{configure(h={}){let{gl:d,size:p,events:g,onCreated:y,shadows:v=!1,linear:w=!1,flat:M=!1,legacy:_=!1,orthographic:S=!1,frameloop:T="always",dpr:C=[1,2],performance:P,raycaster:R,camera:b,onPointerMissed:L}=h,D=s.getState(),V=D.gl;D.gl||D.set({gl:V=dU(d,n)});let K=D.raycaster;K||D.set({raycaster:K=new BP});const{params:Y,...W}=R||{};if(Bt.equ(W,K,Cl)||dp(K,{...W}),Bt.equ(Y,K.params,Cl)||dp(K,{params:{...K.params,...Y}}),!D.camera||D.camera===f&&!Bt.equ(f,b,Cl)){f=b;const B=b instanceof jf,U=B?b:S?new Qf(0,0,0,0,.1,1e3):new Rn(75,0,.1,1e3);B||(U.position.z=5,b&&dp(U,b),!D.camera&&!(b!=null&&b.rotation)&&U.lookAt(0,0,0)),D.set({camera:U})}if(!D.xr){const B=(H,ue)=>{const me=s.getState();me.frameloop!=="never"&&nE(H,!0,me,ue)},U=()=>{const H=s.getState();H.gl.xr.enabled=H.gl.xr.isPresenting,H.gl.xr.setAnimationLoop(H.gl.xr.isPresenting?B:null),H.gl.xr.isPresenting||tE(H)},te={connect(){const H=s.getState().gl;H.xr.addEventListener("sessionstart",U),H.xr.addEventListener("sessionend",U)},disconnect(){const H=s.getState().gl;H.xr.removeEventListener("sessionstart",U),H.xr.removeEventListener("sessionend",U)}};V.xr&&te.connect(),D.set({xr:te})}if(V.shadowMap){const B=V.shadowMap.enabled,U=V.shadowMap.type;if(V.shadowMap.enabled=!!v,Bt.boo(v))V.shadowMap.type=zc;else if(Bt.str(v)){var J;const te={basic:Hb,percentage:qm,soft:zc,variance:ya};V.shadowMap.type=(J=te[v])!=null?J:zc}else Bt.obj(v)&&Object.assign(V.shadowMap,v);(B!==V.shadowMap.enabled||U!==V.shadowMap.type)&&(V.shadowMap.needsUpdate=!0)}Ll&&("enabled"in Ll?Ll.enabled=!_:"legacyMode"in Ll&&(Ll.legacyMode=_));const ne=w?Ds:It,fe=M?br:p_;V.outputEncoding!==ne&&(V.outputEncoding=ne),V.toneMapping!==fe&&(V.toneMapping=fe),D.legacy!==_&&D.set(()=>({legacy:_})),D.linear!==w&&D.set(()=>({linear:w})),D.flat!==M&&D.set(()=>({flat:M})),d&&!Bt.fun(d)&&!ZP(d)&&!Bt.equ(d,V,Cl)&&dp(V,d),g&&!D.events.handlers&&D.set({events:g(s)});const I=pU(n,p);return Bt.equ(I,D.size,Cl)||D.setSize(I.width,I.height,I.updateStyle,I.top,I.left),C&&D.viewport.dpr!==YP(C)&&D.setDpr(C),D.frameloop!==T&&D.setFrameloop(T),D.onPointerMissed||D.set({onPointerMissed:L}),P&&!Bt.equ(P,D.performance,Cl)&&D.set(B=>({performance:{...B.performance,...P}})),a=y,u=!0,this},render(h){return u||this.configure(),ym.updateContainer(G.createElement(gU,{store:s,children:h,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){nL(n)}}}function gU({store:n,children:e,onCreated:t,rootElement:i}){return ah(()=>{const r=n.getState();r.set(s=>({internal:{...s.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),G.createElement(KP.Provider,{value:n},e)}function nL(n,e){const t=vu.get(n),i=t==null?void 0:t.fiber;if(i){const r=t==null?void 0:t.store.getState();r&&(r.internal.active=!1),ym.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,o,a,u;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=r.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(u=r.gl)!=null&&u.xr&&r.xr.disconnect(),tU(r),vu.delete(n),e&&e(n)}catch{}},500)})}}ym.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:G.version});function Ns(){return Ns=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ns.apply(this,arguments)}function Q1(n,e,t){var i,r,s,o,a;e==null&&(e=100);function u(){var h=Date.now()-o;h<e&&h>=0?i=setTimeout(u,e-h):(i=null,t||(a=n.apply(s,r),s=r=null))}var f=function(){s=this,r=arguments,o=Date.now();var h=t&&!i;return i||(i=setTimeout(u,e)),h&&(a=n.apply(s,r),s=r=null),a};return f.clear=function(){i&&(clearTimeout(i),i=null)},f.flush=function(){i&&(a=n.apply(s,r),s=r=null,clearTimeout(i),i=null)},f}Q1.debounce=Q1;var iE=Q1;function yU(n){let{debounce:e,scroll:t,polyfill:i,offsetSize:r}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=i||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=G.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),u=G.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),f=e?typeof e=="number"?e:e.scroll:null,h=e?typeof e=="number"?e:e.resize:null,d=G.useRef(!1);G.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[p,g,y]=G.useMemo(()=>{const _=()=>{if(!u.current.element)return;const{left:S,top:T,width:C,height:P,bottom:R,right:b,x:L,y:D}=u.current.element.getBoundingClientRect(),V={left:S,top:T,width:C,height:P,bottom:R,right:b,x:L,y:D};u.current.element instanceof HTMLElement&&r&&(V.height=u.current.element.offsetHeight,V.width=u.current.element.offsetWidth),Object.freeze(V),d.current&&!wU(u.current.lastBounds,V)&&a(u.current.lastBounds=V)};return[_,h?iE(_,h):_,f?iE(_,f):_]},[a,r,f,h]);function v(){u.current.scrollContainers&&(u.current.scrollContainers.forEach(_=>_.removeEventListener("scroll",y,!0)),u.current.scrollContainers=null),u.current.resizeObserver&&(u.current.resizeObserver.disconnect(),u.current.resizeObserver=null)}function w(){u.current.element&&(u.current.resizeObserver=new s(y),u.current.resizeObserver.observe(u.current.element),t&&u.current.scrollContainers&&u.current.scrollContainers.forEach(_=>_.addEventListener("scroll",y,{capture:!0,passive:!0})))}const M=_=>{!_||_===u.current.element||(v(),u.current.element=_,u.current.scrollContainers=iL(_),w())};return xU(y,Boolean(t)),vU(g),G.useEffect(()=>{v(),w()},[t,y,g]),G.useEffect(()=>v,[]),[M,o,p]}function vU(n){G.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function xU(n,e){G.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function iL(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...iL(n.parentElement)]}const _U=["x","y","top","bottom","left","right","width","height"],wU=(n,e)=>_U.every(t=>n[t]===e[t]);var SU=Object.defineProperty,MU=Object.defineProperties,EU=Object.getOwnPropertyDescriptors,rE=Object.getOwnPropertySymbols,TU=Object.prototype.hasOwnProperty,AU=Object.prototype.propertyIsEnumerable,sE=(n,e,t)=>e in n?SU(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,oE=(n,e)=>{for(var t in e||(e={}))TU.call(e,t)&&sE(n,t,e[t]);if(rE)for(var t of rE(e))AU.call(e,t)&&sE(n,t,e[t]);return n},bU=(n,e)=>MU(n,EU(e)),aE;function rL(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const r=rL(i,e,t);if(r)return r;i=e?null:i.sibling}}function sL(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const K_=sL(G.createContext(null));class oL extends G.Component{render(){return G.createElement(K_.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:lE,ReactCurrentDispatcher:uE}=(aE=G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)!=null?aE:{};function CU(){const n=G.useContext(K_),e=G.useId();return G.useMemo(()=>{var i;return(i=lE==null?void 0:lE.current)!=null?i:rL(n,!1,r=>{let s=r.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}})},[n,e])}function PU(){var n,e;const t=CU(),[i]=G.useState(()=>new Map);i.clear();let r=t;for(;r;){const s=(n=r.type)==null?void 0:n._context;s&&s!==K_&&!i.has(s)&&i.set(s,(e=uE==null?void 0:uE.current)==null?void 0:e.readContext(sL(s))),r=r.return}return G.useMemo(()=>Array.from(i.keys()).reduce((s,o)=>a=>G.createElement(s,null,G.createElement(o.Provider,bU(oE({},a),{value:i.get(o)}))),s=>G.createElement(oL,oE({},s))),[i])}const jy={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function LU(n){const{handlePointer:e}=sU(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(jy).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var i;const{set:r,events:s}=n.getState();s.disconnect==null||s.disconnect(),r(o=>({events:{...o.events,connected:t}})),Object.entries((i=s.handlers)!=null?i:[]).forEach(([o,a])=>{const[u,f]=jy[o];t.addEventListener(u,a,{passive:f})})},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){var r;Object.entries((r=i.handlers)!=null?r:[]).forEach(([s,o])=>{if(i&&i.connected instanceof HTMLElement){const[a]=jy[s];i.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const RU=G.forwardRef(function({children:e,fallback:t,resize:i,style:r,gl:s,events:o=LU,eventSource:a,eventPrefix:u,shadows:f,linear:h,flat:d,legacy:p,orthographic:g,frameloop:y,dpr:v,performance:w,raycaster:M,camera:_,onPointerMissed:S,onCreated:T,...C},P){G.useMemo(()=>oU(H1),[]);const R=PU(),[b,L]=yU({scroll:!0,debounce:{scroll:50,resize:0},...i}),D=G.useRef(null),V=G.useRef(null),[K,Y]=G.useState(null);G.useImperativeHandle(P,()=>D.current);const W=jP(S),[J,ne]=G.useState(!1),[fe,I]=G.useState(!1);if(J)throw J;if(fe)throw fe;const B=G.useRef(null);L.width>0&&L.height>0&&K&&(B.current||(B.current=mU(K)),B.current.configure({gl:s,events:o,shadows:f,linear:h,flat:d,legacy:p,orthographic:g,frameloop:y,dpr:v,performance:w,raycaster:M,camera:_,size:L,onPointerMissed:(...te)=>W.current==null?void 0:W.current(...te),onCreated:te=>{te.events.connect==null||te.events.connect(a?ZB(a)?a.current:a:V.current),u&&te.setEvents({compute:(H,ue)=>{const me=H[u+"X"],q=H[u+"Y"];ue.pointer.set(me/ue.size.width*2-1,-(q/ue.size.height)*2+1),ue.raycaster.setFromCamera(ue.pointer,ue.camera)}}),T==null||T(te)}}),B.current.render(G.createElement(R,null,G.createElement(XP,{set:I},G.createElement(G.Suspense,{fallback:G.createElement(KB,{set:ne})},e))))),ah(()=>{Y(D.current)},[]),G.useEffect(()=>{if(K)return()=>nL(K)},[K]);const U=a?"none":"auto";return G.createElement("div",Ns({ref:V,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:U,...r}},C),G.createElement("div",{ref:b,style:{width:"100%",height:"100%"}},G.createElement("canvas",{ref:D,style:{display:"block"}},t)))}),IU=G.forwardRef(function(e,t){return G.createElement(oL,null,G.createElement(RU,Ns({},e,{ref:t})))});function aL(n){return function(e){n.forEach(function(t){typeof t=="function"?t(e):t!=null&&(t.current=e)})}}function ou(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function cE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function fE(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?cE(Object(t),!0).forEach(function(i){ou(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):cE(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}new ge;new ge;function lL(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var $i=function n(e,t,i){var r=this;lL(this,n),ou(this,"dot2",function(s,o){return r.x*s+r.y*o}),ou(this,"dot3",function(s,o,a){return r.x*s+r.y*o+r.z*a}),this.x=e,this.y=t,this.z=i},DU=[new $i(1,1,0),new $i(-1,1,0),new $i(1,-1,0),new $i(-1,-1,0),new $i(1,0,1),new $i(-1,0,1),new $i(1,0,-1),new $i(-1,0,-1),new $i(0,1,1),new $i(0,-1,1),new $i(0,1,-1),new $i(0,-1,-1)],hE=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],dE=new Array(512),pE=new Array(512),kU=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var t=0;t<256;t++){var i;t&1?i=hE[t]^e&255:i=hE[t]^e>>8&255,dE[t]=dE[t+256]=i,pE[t]=pE[t+256]=DU[i%12]}};kU(0);function NU(n){if(typeof n=="number")n=Math.abs(n);else if(typeof n=="string"){var e=n;n=0;for(var t=0;t<e.length;t++)n=(n+(t+1)*(e.charCodeAt(t)%96))%2147483647}return n===0&&(n=311),n}function mE(n){var e=NU(n);return function(){var t=e*48271%2147483647;return e=t,t/2147483647}}var zU=function n(e){var t=this;lL(this,n),ou(this,"seed",0),ou(this,"init",function(i){t.seed=i,t.value=mE(i)}),ou(this,"value",mE(this.seed)),this.init(e)},OU=new zU(Math.random()),FU={radius:1,center:[0,0,0]};function BU(n,e){for(var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:OU,i=fE(fE({},FU),e),r=i.radius,s=i.center,o=0;o<n.length;o+=3){var a=Math.pow(t.value(),.3333333333333333),u=t.value()*2-1,f=t.value()*2-1,h=t.value()*2-1,d=Math.sqrt(u*u+f*f+h*h);u=a*u/d,f=a*f/d,h=a*h/d,n[o]=u*r+s[0],n[o+1]=f*r+s[1],n[o+2]=h*r+s[2]}return n}class UU extends og{constructor(e){super(e),this.onBeforeCompile=(t,i)=>{const{isWebGL2:r}=i.capabilities;t.fragmentShader=t.fragmentShader.replace("#include <output_fragment>",`
        ${r?"#include <output_fragment>":`#extension GL_OES_standard_derivatives : enable
#include <output_fragment>`}
      vec2 cxy = 2.0 * gl_PointCoord - 1.0;
      float r = dot(cxy, cxy);
      float delta = fwidth(r);     
      float mask = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);
      gl_FragColor = vec4(gl_FragColor.rgb, mask * gl_FragColor.a );
      #include <tonemapping_fragment>
      #include <encodings_fragment>
      `)}}}const VU=G.forwardRef((n,e)=>{const[t]=G.useState(()=>new UU(null));return G.createElement("primitive",Ns({},n,{object:t,ref:e,attach:"material"}))});let ra,yc;const HU=G.createContext(null),gE=new st,yE=new z,GU=G.forwardRef(({children:n,range:e,limit:t=1e3,...i},r)=>{const s=G.useRef(null),[o,a]=G.useState([]),[[u,f,h]]=G.useState(()=>[new Float32Array(t*3),Float32Array.from({length:t*3},()=>1),Float32Array.from({length:t},()=>1)]);G.useEffect(()=>{s.current.geometry.attributes.position.needsUpdate=!0}),Z_(()=>{for(s.current.updateMatrix(),s.current.updateMatrixWorld(),gE.copy(s.current.matrixWorld).invert(),s.current.geometry.drawRange.count=Math.min(t,e!==void 0?e:t,o.length),ra=0;ra<o.length;ra++)yc=o[ra].current,yc.getWorldPosition(yE).applyMatrix4(gE),yE.toArray(u,ra*3),s.current.geometry.attributes.position.needsUpdate=!0,yc.matrixWorldNeedsUpdate=!0,yc.color.toArray(f,ra*3),s.current.geometry.attributes.color.needsUpdate=!0,h.set([yc.size],ra),s.current.geometry.attributes.size.needsUpdate=!0});const d=G.useMemo(()=>({getParent:()=>s,subscribe:p=>(a(g=>[...g,p]),()=>a(g=>g.filter(y=>y.current!==p.current)))}),[]);return G.createElement("points",Ns({userData:{instances:o},matrixAutoUpdate:!1,ref:aL([r,s]),raycast:()=>null},i),G.createElement("bufferGeometry",null,G.createElement("bufferAttribute",{attach:"attributes-position",count:u.length/3,array:u,itemSize:3,usage:ba}),G.createElement("bufferAttribute",{attach:"attributes-color",count:f.length/3,array:f,itemSize:3,usage:ba}),G.createElement("bufferAttribute",{attach:"attributes-size",count:h.length,array:h,itemSize:1,usage:ba})),G.createElement(HU.Provider,{value:d},n))}),WU=G.forwardRef(({children:n,positions:e,colors:t,sizes:i,stride:r=3,...s},o)=>{const a=G.useRef(null);return Z_(()=>{const u=a.current.geometry.attributes;u.position.needsUpdate=!0,t&&(u.color.needsUpdate=!0),i&&(u.size.needsUpdate=!0)}),G.createElement("points",Ns({ref:aL([o,a])},s),G.createElement("bufferGeometry",null,G.createElement("bufferAttribute",{attach:"attributes-position",count:e.length/r,array:e,itemSize:r,usage:ba}),t&&G.createElement("bufferAttribute",{attach:"attributes-color",count:t.length/r,array:t,itemSize:3,usage:ba}),i&&G.createElement("bufferAttribute",{attach:"attributes-size",count:i.length/r,array:i,itemSize:1,usage:ba})),n)}),jU=G.forwardRef((n,e)=>n.positions instanceof Float32Array?G.createElement(WU,Ns({},n,{ref:e})):G.createElement(GU,Ns({},n,{ref:e})));var vm={},XU={get exports(){return vm},set exports(n){vm=n}},QU="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",YU=QU,qU=YU;function uL(){}function cL(){}cL.resetWarningCache=uL;var JU=function(){function n(i,r,s,o,a,u){if(u!==qU){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:cL,resetWarningCache:uL};return t.PropTypes=t,t};XU.exports=JU();function ZU({all:n,scene:e,camera:t}){const i=Wy(({gl:o})=>o),r=Wy(({camera:o})=>o),s=Wy(({scene:o})=>o);return G.useLayoutEffect(()=>{const o=[];n&&(e||s).traverse(f=>{f.visible===!1&&(o.push(f),f.visible=!0)}),i.compile(e||s,t||r);const a=new T_(128);new E_(.01,1e5,a).update(i,e||s),a.dispose(),o.forEach(f=>f.visible=!1)},[]),null}const KU=()=>{const n=G.useRef(),e=BU(new Float32Array(5e3),{radius:1.2});return Z_((t,i)=>{n.current&&(n.current.rotation.x-=i/10,n.current.rotation.y-=i/15)}),ae("group",{rotation:[0,0,Math.PI/4],children:ae(jU,{ref:n,positions:e,stride:3,frustumCulled:!1,children:ae(VU,{transparent:!0,color:"#f272c8",size:.002,sizeAttenuation:!0,depthWrite:!0})})})},$U=G.memo(()=>ae("div",{className:"w-full h-full absolute inset-0 z-[-1]",children:mt(IU,{camera:{position:[0,0,1]},children:[ae(G.Suspense,{fallback:null,children:ae(KU,{})}),ae(ZU,{all:!0})]})})),e7="modulepreload",t7=function(n){return"/portfolio/"+n},vE={},hg=function(e,t,i){if(!t||t.length===0)return e();const r=document.getElementsByTagName("link");return Promise.all(t.map(s=>{if(s=t7(s),s in vE)return;vE[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!i)for(let h=r.length-1;h>=0;h--){const d=r[h];if(d.href===s&&(!o||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const f=document.createElement("link");if(f.rel=o?"stylesheet":e7,o||(f.as="script",f.crossOrigin=""),f.href=s,document.head.appendChild(f),o)return new Promise((h,d)=>{f.addEventListener("load",h),f.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e())},$_=G.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),dg=G.createContext({}),ew=G.createContext(null),pg=typeof document<"u",xE=pg?G.useLayoutEffect:G.useEffect,fL=G.createContext({strict:!1});function n7(n,e,t,i){const{visualElement:r}=G.useContext(dg),s=G.useContext(fL),o=G.useContext(ew),a=G.useContext($_).reducedMotion,u=G.useRef();i=i||s.renderer,!u.current&&i&&(u.current=i(n,{visualState:e,parent:r,props:t,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const f=u.current;return G.useInsertionEffect(()=>{f&&f.update(t,o)}),xE(()=>{f&&f.render()}),G.useEffect(()=>{f&&f.updateFeatures()}),(window.HandoffAppearAnimations?xE:G.useEffect)(()=>{f&&f.animationState&&f.animationState.animateChanges()}),f}function ql(n){return typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function i7(n,e,t){return G.useCallback(i=>{i&&n.mount&&n.mount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):ql(t)&&(t.current=i))},[e])}function Rf(n){return typeof n=="string"||Array.isArray(n)}function mg(n){return typeof n=="object"&&typeof n.start=="function"}const tw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],nw=["initial",...tw];function gg(n){return mg(n.animate)||nw.some(e=>Rf(n[e]))}function hL(n){return Boolean(gg(n)||n.variants)}function r7(n,e){if(gg(n)){const{initial:t,animate:i}=n;return{initial:t===!1||Rf(t)?t:void 0,animate:Rf(i)?i:void 0}}return n.inherit!==!1?e:{}}function s7(n){const{initial:e,animate:t}=r7(n,G.useContext(dg));return G.useMemo(()=>({initial:e,animate:t}),[_E(e),_E(t)])}function _E(n){return Array.isArray(n)?n.join(" "):n}const wE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},If={};for(const n in wE)If[n]={isEnabled:e=>wE[n].some(t=>!!e[t])};function o7(n){for(const e in n)If[e]={...If[e],...n[e]}}function iw(n){const e=G.useRef(null);return e.current===null&&(e.current=n()),e.current}const Vc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let a7=1;function l7(){return iw(()=>{if(Vc.hasEverUpdated)return a7++})}const dL=G.createContext({}),pL=G.createContext({}),u7=Symbol.for("motionComponentSymbol");function c7({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:i,Component:r}){n&&o7(n);function s(a,u){let f;const h={...G.useContext($_),...a,layoutId:f7(a)},{isStatic:d}=h,p=s7(a),g=d?void 0:l7(),y=i(a,d);if(!d&&pg){p.visualElement=n7(r,y,h,e);const v=G.useContext(pL),w=G.useContext(fL).strict;p.visualElement&&(f=p.visualElement.loadFeatures(h,w,n,g,v))}return G.createElement(dg.Provider,{value:p},f&&p.visualElement?G.createElement(f,{visualElement:p.visualElement,...h}):null,t(r,a,g,i7(y,p.visualElement,u),y,d,p.visualElement))}const o=G.forwardRef(s);return o[u7]=r,o}function f7({layoutId:n}){const e=G.useContext(dL).id;return e&&n!==void 0?e+"-"+n:n}function h7(n){function e(i,r={}){return c7(n(i,r))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(i,r)=>(t.has(r)||t.set(r,e(r)),t.get(r))})}const d7=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function rw(n){return typeof n!="string"||n.includes("-")?!1:!!(d7.indexOf(n)>-1||/[A-Z]/.test(n))}const xm={};function p7(n){Object.assign(xm,n)}const yg=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],qa=new Set(yg);function mL(n,{layout:e,layoutId:t}){return qa.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!xm[n]||n==="opacity")}const Ai=n=>Boolean(n&&n.getVelocity),m7={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},g7=yg.length;function y7(n,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},i,r){let s="";for(let o=0;o<g7;o++){const a=yg[o];if(n[a]!==void 0){const u=m7[a]||a;s+=`${u}(${n[a]}) `}}return e&&!n.z&&(s+="translateZ(0)"),s=s.trim(),r?s=r(n,i?"":s):t&&i&&(s="none"),s}const gL=n=>e=>typeof e=="string"&&e.startsWith(n),yL=gL("--"),Y1=gL("var(--"),v7=(n,e)=>e&&typeof n=="number"?e.transform(n):n,xu=(n,e,t)=>Math.min(Math.max(t,n),e),Ja={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Hc={...Ja,transform:n=>xu(0,1,n)},pp={...Ja,default:1},Gc=n=>Math.round(n*1e5)/1e5,Df=/(-)?([\d]*\.?[\d])+/g,q1=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,x7=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function lh(n){return typeof n=="string"}const uh=n=>({test:e=>lh(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),to=uh("deg"),qr=uh("%"),Ke=uh("px"),_7=uh("vh"),w7=uh("vw"),SE={...qr,parse:n=>qr.parse(n)/100,transform:n=>qr.transform(n*100)},ME={...Ja,transform:Math.round},vL={borderWidth:Ke,borderTopWidth:Ke,borderRightWidth:Ke,borderBottomWidth:Ke,borderLeftWidth:Ke,borderRadius:Ke,radius:Ke,borderTopLeftRadius:Ke,borderTopRightRadius:Ke,borderBottomRightRadius:Ke,borderBottomLeftRadius:Ke,width:Ke,maxWidth:Ke,height:Ke,maxHeight:Ke,size:Ke,top:Ke,right:Ke,bottom:Ke,left:Ke,padding:Ke,paddingTop:Ke,paddingRight:Ke,paddingBottom:Ke,paddingLeft:Ke,margin:Ke,marginTop:Ke,marginRight:Ke,marginBottom:Ke,marginLeft:Ke,rotate:to,rotateX:to,rotateY:to,rotateZ:to,scale:pp,scaleX:pp,scaleY:pp,scaleZ:pp,skew:to,skewX:to,skewY:to,distance:Ke,translateX:Ke,translateY:Ke,translateZ:Ke,x:Ke,y:Ke,z:Ke,perspective:Ke,transformPerspective:Ke,opacity:Hc,originX:SE,originY:SE,originZ:Ke,zIndex:ME,fillOpacity:Hc,strokeOpacity:Hc,numOctaves:ME};function sw(n,e,t,i){const{style:r,vars:s,transform:o,transformOrigin:a}=n;let u=!1,f=!1,h=!0;for(const d in e){const p=e[d];if(yL(d)){s[d]=p;continue}const g=vL[d],y=v7(p,g);if(qa.has(d)){if(u=!0,o[d]=y,!h)continue;p!==(g.default||0)&&(h=!1)}else d.startsWith("origin")?(f=!0,a[d]=y):r[d]=y}if(e.transform||(u||i?r.transform=y7(n.transform,t,h,i):r.transform&&(r.transform="none")),f){const{originX:d="50%",originY:p="50%",originZ:g=0}=a;r.transformOrigin=`${d} ${p} ${g}`}}const ow=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function xL(n,e,t){for(const i in e)!Ai(e[i])&&!mL(i,t)&&(n[i]=e[i])}function S7({transformTemplate:n},e,t){return G.useMemo(()=>{const i=ow();return sw(i,e,{enableHardwareAcceleration:!t},n),Object.assign({},i.vars,i.style)},[e])}function M7(n,e,t){const i=n.style||{},r={};return xL(r,i,n),Object.assign(r,S7(n,e,t)),n.transformValues?n.transformValues(r):r}function E7(n,e,t){const i={},r=M7(n,e,t);return n.drag&&n.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(i.tabIndex=0),i.style=r,i}const T7=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function _m(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||T7.has(n)}let _L=n=>!_m(n);function A7(n){n&&(_L=e=>e.startsWith("on")?!_m(e):n(e))}try{A7(require("@emotion/is-prop-valid").default)}catch{}function b7(n,e,t){const i={};for(const r in n)r==="values"&&typeof n.values=="object"||(_L(r)||t===!0&&_m(r)||!e&&!_m(r)||n.draggable&&r.startsWith("onDrag"))&&(i[r]=n[r]);return i}function EE(n,e,t){return typeof n=="string"?n:Ke.transform(e+t*n)}function C7(n,e,t){const i=EE(e,n.x,n.width),r=EE(t,n.y,n.height);return`${i} ${r}`}const P7={offset:"stroke-dashoffset",array:"stroke-dasharray"},L7={offset:"strokeDashoffset",array:"strokeDasharray"};function R7(n,e,t=1,i=0,r=!0){n.pathLength=1;const s=r?P7:L7;n[s.offset]=Ke.transform(-i);const o=Ke.transform(e),a=Ke.transform(t);n[s.array]=`${o} ${a}`}function aw(n,{attrX:e,attrY:t,originX:i,originY:r,pathLength:s,pathSpacing:o=1,pathOffset:a=0,...u},f,h,d){if(sw(n,u,f,d),h){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:p,style:g,dimensions:y}=n;p.transform&&(y&&(g.transform=p.transform),delete p.transform),y&&(i!==void 0||r!==void 0||g.transform)&&(g.transformOrigin=C7(y,i!==void 0?i:.5,r!==void 0?r:.5)),e!==void 0&&(p.x=e),t!==void 0&&(p.y=t),s!==void 0&&R7(p,s,o,a,!1)}const wL=()=>({...ow(),attrs:{}}),lw=n=>typeof n=="string"&&n.toLowerCase()==="svg";function I7(n,e,t,i){const r=G.useMemo(()=>{const s=wL();return aw(s,e,{enableHardwareAcceleration:!1},lw(i),n.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};xL(s,n.style,n),r.style={...s,...r.style}}return r}function D7(n=!1){return(t,i,r,s,{latestValues:o},a)=>{const f=(rw(t)?I7:E7)(i,o,a,t),d={...b7(i,typeof t=="string",n),...f,ref:s},{children:p}=i,g=G.useMemo(()=>Ai(p)?p.get():p,[p]);return r&&(d["data-projection-id"]=r),G.createElement(t,{...d,children:g})}}const uw=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function SL(n,{style:e,vars:t},i,r){Object.assign(n.style,e,r&&r.getProjectionStyles(i));for(const s in t)n.style.setProperty(s,t[s])}const ML=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function EL(n,e,t,i){SL(n,e,void 0,i);for(const r in e.attrs)n.setAttribute(ML.has(r)?r:uw(r),e.attrs[r])}function cw(n,e){const{style:t}=n,i={};for(const r in t)(Ai(t[r])||e.style&&Ai(e.style[r])||mL(r,n))&&(i[r]=t[r]);return i}function TL(n,e){const t=cw(n,e);for(const i in n)if(Ai(n[i])||Ai(e[i])){const r=i==="x"||i==="y"?"attr"+i.toUpperCase():i;t[r]=n[i]}return t}function fw(n,e,t,i={},r={}){return typeof e=="function"&&(e=e(t!==void 0?t:n.custom,i,r)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:n.custom,i,r)),e}const wm=n=>Array.isArray(n),k7=n=>Boolean(n&&typeof n=="object"&&n.mix&&n.toValue),N7=n=>wm(n)?n[n.length-1]||0:n;function Bp(n){const e=Ai(n)?n.get():n;return k7(e)?e.toValue():e}function z7({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},i,r,s){const o={latestValues:O7(i,r,s,n),renderState:e()};return t&&(o.mount=a=>t(i,a,o)),o}const AL=n=>(e,t)=>{const i=G.useContext(dg),r=G.useContext(ew),s=()=>z7(n,e,i,r);return t?s():iw(s)};function O7(n,e,t,i){const r={},s=i(n,{});for(const p in s)r[p]=Bp(s[p]);let{initial:o,animate:a}=n;const u=gg(n),f=hL(n);e&&f&&!u&&n.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=t?t.initial===!1:!1;h=h||o===!1;const d=h?a:o;return d&&typeof d!="boolean"&&!mg(d)&&(Array.isArray(d)?d:[d]).forEach(g=>{const y=fw(n,g);if(!y)return;const{transitionEnd:v,transition:w,...M}=y;for(const _ in M){let S=M[_];if(Array.isArray(S)){const T=h?S.length-1:0;S=S[T]}S!==null&&(r[_]=S)}for(const _ in v)r[_]=v[_]}),r}const F7={useVisualState:AL({scrapeMotionValuesFromProps:TL,createRenderState:wL,onMount:(n,e,{renderState:t,latestValues:i})=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}aw(t,i,{enableHardwareAcceleration:!1},lw(e.tagName),n.transformTemplate),EL(e,t)}})},B7={useVisualState:AL({scrapeMotionValuesFromProps:cw,createRenderState:ow})};function U7(n,{forwardMotionProps:e=!1},t,i){return{...rw(n)?F7:B7,preloadedFeatures:t,useRender:D7(e),createVisualElement:i,Component:n}}function Ss(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}const bL=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function vg(n,e="page"){return{point:{x:n[e+"X"],y:n[e+"Y"]}}}const V7=n=>e=>bL(e)&&n(e,vg(e));function Ts(n,e,t,i){return Ss(n,e,V7(t),i)}const H7=(n,e)=>t=>e(n(t)),Eo=(...n)=>n.reduce(H7);function CL(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const TE=CL("dragHorizontal"),AE=CL("dragVertical");function PL(n){let e=!1;if(n==="y")e=AE();else if(n==="x")e=TE();else{const t=TE(),i=AE();t&&i?e=()=>{t(),i()}:(t&&t(),i&&i())}return e}function LL(){const n=PL(!0);return n?(n(),!1):!0}class Uo{constructor(e){this.isMounted=!1,this.node=e}update(){}}function bE(n,e){const t="pointer"+(e?"enter":"leave"),i="onHover"+(e?"Start":"End"),r=(s,o)=>{if(s.type==="touch"||LL())return;const a=n.getProps();n.animationState&&a.whileHover&&n.animationState.setActive("whileHover",e),a[i]&&a[i](s,o)};return Ts(n.current,t,r,{passive:!n.getProps()[i]})}class G7 extends Uo{mount(){this.unmount=Eo(bE(this.node,!0),bE(this.node,!1))}unmount(){}}class W7 extends Uo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Eo(Ss(this.node.current,"focus",()=>this.onFocus()),Ss(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const RL=(n,e)=>e?n===e?!0:RL(n,e.parentElement):!1,ar=n=>n;function Xy(n,e){if(!e)return;const t=new PointerEvent("pointer"+n);e(t,vg(t))}class j7 extends Uo{constructor(){super(...arguments),this.removeStartListeners=ar,this.removeEndListeners=ar,this.removeAccessibleListeners=ar,this.startPointerPress=(e,t)=>{if(this.removeEndListeners(),this.isPressing)return;const i=this.node.getProps(),s=Ts(window,"pointerup",(a,u)=>{if(!this.checkPressEnd())return;const{onTap:f,onTapCancel:h}=this.node.getProps();RL(this.node.current,a.target)?f&&f(a,u):h&&h(a,u)},{passive:!(i.onTap||i.onPointerUp)}),o=Ts(window,"pointercancel",(a,u)=>this.cancelPress(a,u),{passive:!(i.onTapCancel||i.onPointerCancel)});this.removeEndListeners=Eo(s,o),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Xy("up",this.node.getProps().onTap)};this.removeEndListeners(),this.removeEndListeners=Ss(this.node.current,"keyup",o),Xy("down",(a,u)=>{this.startPress(a,u)})},t=Ss(this.node.current,"keydown",e),i=()=>{this.isPressing&&Xy("cancel",(s,o)=>this.cancelPress(s,o))},r=Ss(this.node.current,"blur",i);this.removeAccessibleListeners=Eo(t,r)}}startPress(e,t){this.isPressing=!0;const{onTapStart:i,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),i&&i(e,t)}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!LL()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:i}=this.node.getProps();i&&i(e,t)}mount(){const e=this.node.getProps(),t=Ts(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),i=Ss(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Eo(t,i)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const J1=new WeakMap,Qy=new WeakMap,X7=n=>{const e=J1.get(n.target);e&&e(n)},Q7=n=>{n.forEach(X7)};function Y7({root:n,...e}){const t=n||document;Qy.has(t)||Qy.set(t,{});const i=Qy.get(t),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(Q7,{root:n,...e})),i[r]}function q7(n,e,t){const i=Y7(e);return J1.set(n,t),i.observe(n),()=>{J1.delete(n),i.unobserve(n)}}const J7={some:0,all:1};class Z7 extends Uo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:r="some",once:s}=e,o={root:t?t.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:J7[r]},a=u=>{const{isIntersecting:f}=u;if(this.isInView===f||(this.isInView=f,s&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:h,onViewportLeave:d}=this.node.getProps(),p=f?h:d;p&&p(u)};return q7(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(K7(e,t))&&this.startObserver()}unmount(){}}function K7({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const $7={inView:{Feature:Z7},tap:{Feature:j7},focus:{Feature:W7},hover:{Feature:G7}};function IL(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}const eV=n=>/^\-?\d*\.?\d+$/.test(n),tV=n=>/^0[^.\s]+$/.test(n),As={delta:0,timestamp:0},DL=1/60*1e3,nV=typeof performance<"u"?()=>performance.now():()=>Date.now(),kL=typeof window<"u"?n=>window.requestAnimationFrame(n):n=>setTimeout(()=>n(nV()),DL);function iV(n){let e=[],t=[],i=0,r=!1,s=!1;const o=new WeakSet,a={schedule:(u,f=!1,h=!1)=>{const d=h&&r,p=d?e:t;return f&&o.add(u),p.indexOf(u)===-1&&(p.push(u),d&&r&&(i=e.length)),u},cancel:u=>{const f=t.indexOf(u);f!==-1&&t.splice(f,1),o.delete(u)},process:u=>{if(r){s=!0;return}if(r=!0,[e,t]=[t,e],t.length=0,i=e.length,i)for(let f=0;f<i;f++){const h=e[f];h(u),o.has(h)&&(a.schedule(h),n())}r=!1,s&&(s=!1,a.process(u))}};return a}const rV=40;let Z1=!0,kf=!1,K1=!1;const ch=["read","update","preRender","render","postRender"],xg=ch.reduce((n,e)=>(n[e]=iV(()=>kf=!0),n),{}),ui=ch.reduce((n,e)=>{const t=xg[e];return n[e]=(i,r=!1,s=!1)=>(kf||oV(),t.schedule(i,r,s)),n},{}),Ro=ch.reduce((n,e)=>(n[e]=xg[e].cancel,n),{}),Yy=ch.reduce((n,e)=>(n[e]=()=>xg[e].process(As),n),{}),sV=n=>xg[n].process(As),NL=n=>{kf=!1,As.delta=Z1?DL:Math.max(Math.min(n-As.timestamp,rV),1),As.timestamp=n,K1=!0,ch.forEach(sV),K1=!1,kf&&(Z1=!1,kL(NL))},oV=()=>{kf=!0,Z1=!0,K1||kL(NL)};function hw(n,e){n.indexOf(e)===-1&&n.push(e)}function dw(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class pw{constructor(){this.subscriptions=[]}add(e){return hw(this.subscriptions,e),()=>dw(this.subscriptions,e)}notify(e,t,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,i);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function mw(n,e){return e?n*(1e3/e):0}const aV=n=>!isNaN(parseFloat(n));class lV{constructor(e,t={}){this.version="10.0.2",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(i,r=!0)=>{this.prev=this.current,this.current=i;const{delta:s,timestamp:o}=As;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,ui.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ui.postRender(this.velocityCheck),this.velocityCheck=({timestamp:i})=>{i!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=aV(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new pw);const i=this.events[e].add(t);return e==="change"?()=>{i(),ui.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=e,this.timeDelta=i}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?mw(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t)||null,this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){this.animation=null}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ua(n,e){return new lV(n,e)}const gw=(n,e)=>t=>Boolean(lh(t)&&x7.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),zL=(n,e,t)=>i=>{if(!lh(i))return i;const[r,s,o,a]=i.match(Df);return{[n]:parseFloat(r),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},uV=n=>xu(0,255,n),qy={...Ja,transform:n=>Math.round(uV(n))},Sa={test:gw("rgb","red"),parse:zL("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+qy.transform(n)+", "+qy.transform(e)+", "+qy.transform(t)+", "+Gc(Hc.transform(i))+")"};function cV(n){let e="",t="",i="",r="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),r=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),r=n.substring(4,5),e+=e,t+=t,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const $1={test:gw("#"),parse:cV,transform:Sa.transform},Jl={test:gw("hsl","hue"),parse:zL("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+qr.transform(Gc(e))+", "+qr.transform(Gc(t))+", "+Gc(Hc.transform(i))+")"},oi={test:n=>Sa.test(n)||$1.test(n)||Jl.test(n),parse:n=>Sa.test(n)?Sa.parse(n):Jl.test(n)?Jl.parse(n):$1.parse(n),transform:n=>lh(n)?n:n.hasOwnProperty("red")?Sa.transform(n):Jl.transform(n)},OL="${c}",FL="${n}";function fV(n){var e,t;return isNaN(n)&&lh(n)&&(((e=n.match(Df))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(q1))===null||t===void 0?void 0:t.length)||0)>0}function Sm(n){typeof n=="number"&&(n=`${n}`);const e=[];let t=0,i=0;const r=n.match(q1);r&&(t=r.length,n=n.replace(q1,OL),e.push(...r.map(oi.parse)));const s=n.match(Df);return s&&(i=s.length,n=n.replace(Df,FL),e.push(...s.map(Ja.parse))),{values:e,numColors:t,numNumbers:i,tokenised:n}}function BL(n){return Sm(n).values}function UL(n){const{values:e,numColors:t,tokenised:i}=Sm(n),r=e.length;return s=>{let o=i;for(let a=0;a<r;a++)o=o.replace(a<t?OL:FL,a<t?oi.transform(s[a]):Gc(s[a]));return o}}const hV=n=>typeof n=="number"?0:n;function dV(n){const e=BL(n);return UL(n)(e.map(hV))}const Io={test:fV,parse:BL,createTransformer:UL,getAnimatableNone:dV},pV=new Set(["brightness","contrast","saturate","opacity"]);function mV(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(Df)||[];if(!i)return n;const r=t.replace(i,"");let s=pV.has(e)?1:0;return i!==t&&(s*=100),e+"("+s+r+")"}const gV=/([a-z-]*)\(.*?\)/g,ex={...Io,getAnimatableNone:n=>{const e=n.match(gV);return e?e.map(mV).join(" "):n}},yV={...vL,color:oi,backgroundColor:oi,outlineColor:oi,fill:oi,stroke:oi,borderColor:oi,borderTopColor:oi,borderRightColor:oi,borderBottomColor:oi,borderLeftColor:oi,filter:ex,WebkitFilter:ex},yw=n=>yV[n];function vw(n,e){let t=yw(n);return t!==ex&&(t=Io),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const VL=n=>e=>e.test(n),vV={test:n=>n==="auto",parse:n=>n},HL=[Ja,Ke,qr,to,w7,_7,vV],vc=n=>HL.find(VL(n)),xV=[...HL,oi,Io],_V=n=>xV.find(VL(n));function wV(n){const e={};return n.values.forEach((t,i)=>e[i]=t.get()),e}function SV(n){const e={};return n.values.forEach((t,i)=>e[i]=t.getVelocity()),e}function _g(n,e,t){const i=n.getProps();return fw(i,e,t!==void 0?t:i.custom,wV(n),SV(n))}function MV(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Ua(t))}function EV(n,e){const t=_g(n,e);let{transitionEnd:i={},transition:r={},...s}=t?n.makeTargetAnimatable(t,!1):{};s={...s,...i};for(const o in s){const a=N7(s[o]);MV(n,o,a)}}function TV(n,e,t){var i,r;const s=Object.keys(e).filter(a=>!n.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const u=s[a],f=e[u];let h=null;Array.isArray(f)&&(h=f[0]),h===null&&(h=(r=(i=t[u])!==null&&i!==void 0?i:n.readValue(u))!==null&&r!==void 0?r:e[u]),h!=null&&(typeof h=="string"&&(eV(h)||tV(h))?h=parseFloat(h):!_V(h)&&Io.test(f)&&(h=vw(u,f)),n.addValue(u,Ua(h,{owner:n})),t[u]===void 0&&(t[u]=h),h!==null&&n.setBaseTarget(u,h))}}function AV(n,e){return e?(e[n]||e.default||e).from:void 0}function bV(n,e,t){const i={};for(const r in n){const s=AV(r,e);if(s!==void 0)i[r]=s;else{const o=t.getValue(r);o&&(i[r]=o.get())}}return i}function Mm(n){return Boolean(Ai(n)&&n.add)}const CV="framerAppearId",PV="data-"+uw(CV);let LV=ar,Em=ar;const Up=n=>n*1e3,RV={current:!1},xw=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,_w=n=>e=>1-n(1-e),ww=n=>n*n,IV=_w(ww),Sw=xw(ww),qt=(n,e,t)=>-t*n+t*e+n;function Jy(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function DV({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let r=0,s=0,o=0;if(!e)r=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,u=2*t-a;r=Jy(u,a,n+1/3),s=Jy(u,a,n),o=Jy(u,a,n-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}const Zy=(n,e,t)=>{const i=n*n;return Math.sqrt(Math.max(0,t*(e*e-i)+i))},kV=[$1,Sa,Jl],NV=n=>kV.find(e=>e.test(n));function CE(n){const e=NV(n);let t=e.parse(n);return e===Jl&&(t=DV(t)),t}const GL=(n,e)=>{const t=CE(n),i=CE(e),r={...t};return s=>(r.red=Zy(t.red,i.red,s),r.green=Zy(t.green,i.green,s),r.blue=Zy(t.blue,i.blue,s),r.alpha=qt(t.alpha,i.alpha,s),Sa.transform(r))};function WL(n,e){return typeof n=="number"?t=>qt(n,e,t):oi.test(n)?GL(n,e):XL(n,e)}const jL=(n,e)=>{const t=[...n],i=t.length,r=n.map((s,o)=>WL(s,e[o]));return s=>{for(let o=0;o<i;o++)t[o]=r[o](s);return t}},zV=(n,e)=>{const t={...n,...e},i={};for(const r in t)n[r]!==void 0&&e[r]!==void 0&&(i[r]=WL(n[r],e[r]));return r=>{for(const s in i)t[s]=i[s](r);return t}},XL=(n,e)=>{const t=Io.createTransformer(e),i=Sm(n),r=Sm(e);return i.numColors===r.numColors&&i.numNumbers>=r.numNumbers?Eo(jL(i.values,r.values),t):o=>`${o>0?e:n}`},Nf=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i},PE=(n,e)=>t=>qt(n,e,t);function OV(n){return typeof n=="number"?PE:typeof n=="string"?oi.test(n)?GL:XL:Array.isArray(n)?jL:typeof n=="object"?zV:PE}function FV(n,e,t){const i=[],r=t||OV(n[0]),s=n.length-1;for(let o=0;o<s;o++){let a=r(n[o],n[o+1]);if(e){const u=Array.isArray(e)?e[o]:e;a=Eo(u,a)}i.push(a)}return i}function QL(n,e,{clamp:t=!0,ease:i,mixer:r}={}){const s=n.length;Em(s===e.length),Em(!i||!Array.isArray(i)||i.length===s-1),n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=FV(e,i,r),a=o.length,u=f=>{let h=0;if(a>1)for(;h<n.length-2&&!(f<n[h+1]);h++);const d=Nf(n[h],n[h+1],f);return o[h](d)};return t?f=>u(xu(n[0],n[s-1],f)):u}function BV(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const r=Nf(0,e,i);n.push(qt(t,1,r))}}function UV(n){const e=[0];return BV(e,n.length-1),e}function VV(n,e){return n.map(t=>t*e)}const YL=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,HV=1e-7,GV=12;function WV(n,e,t,i,r){let s,o,a=0;do o=e+(t-e)/2,s=YL(o,i,r)-n,s>0?t=o:e=o;while(Math.abs(s)>HV&&++a<GV);return o}function qL(n,e,t,i){if(n===e&&t===i)return ar;const r=s=>WV(s,0,1,n,t);return s=>s===0||s===1?s:YL(r(s),e,i)}const JL=n=>1-Math.sin(Math.acos(n)),Mw=_w(JL),jV=xw(Mw),ZL=qL(.33,1.53,.69,.99),Ew=_w(ZL),XV=xw(Ew),QV=n=>(n*=2)<1?.5*Ew(n):.5*(2-Math.pow(2,-10*(n-1))),YV={linear:ar,easeIn:ww,easeInOut:Sw,easeOut:IV,circIn:JL,circInOut:jV,circOut:Mw,backIn:Ew,backInOut:XV,backOut:ZL,anticipate:QV},LE=n=>{if(Array.isArray(n)){Em(n.length===4);const[e,t,i,r]=n;return qL(e,t,i,r)}else if(typeof n=="string")return YV[n];return n},qV=n=>Array.isArray(n)&&typeof n[0]!="number";function JV(n,e){return n.map(()=>e||Sw).splice(0,n.length-1)}function tx({keyframes:n,ease:e=Sw,times:t,duration:i=300}){n=[...n];const r=qV(e)?e.map(LE):LE(e),s={done:!1,value:n[0]},o=VV(t&&t.length===n.length?t:UV(n),i);function a(){return QL(o,n,{ease:Array.isArray(r)?r:JV(n,r)})}let u=a();return{next:f=>(s.value=u(f),s.done=f>=i,s),flipTarget:()=>{n.reverse(),u=a()}}}const Ky=.001,ZV=.01,RE=10,KV=.05,$V=1;function e9({duration:n=800,bounce:e=.25,velocity:t=0,mass:i=1}){let r,s;LV(n<=RE*1e3);let o=1-e;o=xu(KV,$V,o),n=xu(ZV,RE,n/1e3),o<1?(r=f=>{const h=f*o,d=h*n,p=h-t,g=nx(f,o),y=Math.exp(-d);return Ky-p/g*y},s=f=>{const d=f*o*n,p=d*t+t,g=Math.pow(o,2)*Math.pow(f,2)*n,y=Math.exp(-d),v=nx(Math.pow(f,2),o);return(-r(f)+Ky>0?-1:1)*((p-g)*y)/v}):(r=f=>{const h=Math.exp(-f*n),d=(f-t)*n+1;return-Ky+h*d},s=f=>{const h=Math.exp(-f*n),d=(t-f)*(n*n);return h*d});const a=5/n,u=n9(r,s,a);if(n=n*1e3,isNaN(u))return{stiffness:100,damping:10,duration:n};{const f=Math.pow(u,2)*i;return{stiffness:f,damping:o*2*Math.sqrt(i*f),duration:n}}}const t9=12;function n9(n,e,t){let i=t;for(let r=1;r<t9;r++)i=i-n(i)/e(i);return i}function nx(n,e){return n*Math.sqrt(1-e*e)}const i9=["duration","bounce"],r9=["stiffness","damping","mass"];function IE(n,e){return e.some(t=>n[t]!==void 0)}function s9(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!IE(n,r9)&&IE(n,i9)){const t=e9(n);e={...e,...t,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}const o9=5;function KL({keyframes:n,restDelta:e,restSpeed:t,...i}){let r=n[0],s=n[n.length-1];const o={done:!1,value:r},{stiffness:a,damping:u,mass:f,velocity:h,duration:d,isResolvedFromDuration:p}=s9(i);let g=a9,y=h?-(h/1e3):0;const v=u/(2*Math.sqrt(a*f));function w(){const M=s-r,_=Math.sqrt(a/f)/1e3,S=Math.abs(M)<5;if(t||(t=S?.01:2),e||(e=S?.005:.5),v<1){const T=nx(_,v);g=C=>{const P=Math.exp(-v*_*C);return s-P*((y+v*_*M)/T*Math.sin(T*C)+M*Math.cos(T*C))}}else if(v===1)g=T=>s-Math.exp(-_*T)*(M+(y+_*M)*T);else{const T=_*Math.sqrt(v*v-1);g=C=>{const P=Math.exp(-v*_*C),R=Math.min(T*C,300);return s-P*((y+v*_*M)*Math.sinh(R)+T*M*Math.cosh(R))/T}}}return w(),{next:M=>{const _=g(M);if(p)o.done=M>=d;else{let S=y;if(M!==0)if(v<1){const P=Math.max(0,M-o9);S=mw(_-g(P),M-P)}else S=0;const T=Math.abs(S)<=t,C=Math.abs(s-_)<=e;o.done=T&&C}return o.value=o.done?s:_,o},flipTarget:()=>{y=-y,[r,s]=[s,r],w()}}}KL.needsInterpolation=(n,e)=>typeof n=="string"||typeof e=="string";const a9=n=>0;function l9({keyframes:n=[0],velocity:e=0,power:t=.8,timeConstant:i=350,restDelta:r=.5,modifyTarget:s}){const o=n[0],a={done:!1,value:o};let u=t*e;const f=o+u,h=s===void 0?f:s(f);return h!==f&&(u=h-o),{next:d=>{const p=-u*Math.exp(-d/i);return a.done=!(p>r||p<-r),a.value=a.done?h:h+p,a},flipTarget:()=>{}}}const u9={decay:l9,keyframes:tx,tween:tx,spring:KL};function $L(n,e,t=0){return n-e-t}function c9(n,e=0,t=0,i=!0){return i?$L(e+-n,e,t):e-(n-e)+t}function f9(n,e,t,i){return i?n>=e+t:n<=-t}const h9=n=>{const e=({delta:t})=>n(t);return{start:()=>ui.update(e,!0),stop:()=>Ro.update(e)}};function Tm({duration:n,driver:e=h9,elapsed:t=0,repeat:i=0,repeatType:r="loop",repeatDelay:s=0,keyframes:o,autoplay:a=!0,onPlay:u,onStop:f,onComplete:h,onRepeat:d,onUpdate:p,type:g="keyframes",...y}){const v=t;let w,M=0,_=n,S=!1,T=!0,C;const P=u9[o.length>2?"keyframes":g]||tx,R=o[0],b=o[o.length-1];let L={done:!1,value:R};const{needsInterpolation:D}=P;D&&D(R,b)&&(C=QL([0,100],[R,b],{clamp:!1}),o=[0,100]);const V=P({...y,duration:n,keyframes:o});function K(){M++,r==="reverse"?(T=M%2===0,t=c9(t,_,s,T)):(t=$L(t,_,s),r==="mirror"&&V.flipTarget()),S=!1,d&&d()}function Y(){w&&w.stop(),h&&h()}function W(ne){T||(ne=-ne),t+=ne,S||(L=V.next(Math.max(0,t)),C&&(L.value=C(L.value)),S=T?L.done:t<=0),p&&p(L.value),S&&(M===0&&(_=_!==void 0?_:t),M<i?f9(t,_,s,T)&&K():Y())}function J(){u&&u(),w=e(W),w.start()}return a&&J(),{stop:()=>{f&&f(),w&&w.stop()},set currentTime(ne){t=v,W(ne)},sample:(ne,fe=!1)=>{if(t=v,fe)return W(ne),L;const I=n&&typeof n=="number"?Math.max(n*.5,50):50;let B=0;for(W(0);B<=ne;){const U=ne-B;W(Math.min(U,I)),B+=I}return L}}}function d9(n){return!n||Array.isArray(n)||typeof n=="string"&&eR[n]}const Ac=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,eR={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ac([0,.65,.55,1]),circOut:Ac([.55,0,1,.45]),backIn:Ac([.31,.01,.66,-.59]),backOut:Ac([.33,1.53,.69,.99])};function p9(n){if(n)return Array.isArray(n)?Ac(n):eR[n]}function m9(n,e,t,{delay:i=0,duration:r,repeat:s=0,repeatType:o="loop",ease:a,times:u}={}){const f={[e]:t};return u&&(f.offset=u),n.animate(f,{delay:i,duration:r,easing:p9(a),fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const DE={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},$y={},tR={};for(const n in DE)tR[n]=()=>($y[n]===void 0&&($y[n]=DE[n]()),$y[n]);function g9(n,{repeat:e,repeatType:t="loop"}){const i=e&&t!=="loop"&&e%2===1?0:n.length-1;return n[i]}const y9=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),mp=10,v9=(n,e)=>e.type==="spring"||n==="backgroundColor"||!d9(e.ease);function x9(n,e,{onUpdate:t,onComplete:i,...r}){if(!(tR.waapi()&&y9.has(e)&&!r.repeatDelay&&r.repeatType!=="mirror"&&r.damping!==0))return!1;let{keyframes:o,duration:a=300,elapsed:u=0,ease:f}=r;if(v9(e,r)){const d=Tm({...r,repeat:0,elapsed:0});let p={done:!1,value:o[0]};const g=[];let y=0;for(;!p.done&&y<2e4;)p=d.sample(y,!0),g.push(p.value),y+=mp;o=g,a=y-mp,f="linear"}const h=m9(n.owner.current,e,o,{...r,delay:-u,duration:a,ease:f});return h.onfinish=()=>{n.set(g9(o,r)),ui.update(()=>h.cancel()),i&&i()},{get currentTime(){return h.currentTime||0},set currentTime(d){h.currentTime=d},stop:()=>{const{currentTime:d}=h;if(d){const p=Tm({...r,autoplay:!1});n.setWithVelocity(p.sample(d-mp).value,p.sample(d).value,mp)}ui.update(()=>h.cancel())}}}function nR(n,e){const t=performance.now(),i=({timestamp:r})=>{const s=r-t;s>=e&&(Ro.read(i),n(s-e))};return ui.read(i,!0),()=>Ro.read(i)}function _9({keyframes:n,elapsed:e,onUpdate:t,onComplete:i}){const r=()=>{t&&t(n[n.length-1]),i&&i()};return e?{stop:nR(r,-e)}:r()}function w9({keyframes:n,velocity:e=0,min:t,max:i,power:r=.8,timeConstant:s=750,bounceStiffness:o=500,bounceDamping:a=10,restDelta:u=1,modifyTarget:f,driver:h,onUpdate:d,onComplete:p,onStop:g}){const y=n[0];let v;function w(T){return t!==void 0&&T<t||i!==void 0&&T>i}function M(T){return t===void 0?i:i===void 0||Math.abs(t-T)<Math.abs(i-T)?t:i}function _(T){v&&v.stop(),v=Tm({keyframes:[0,1],velocity:0,...T,driver:h,onUpdate:C=>{d&&d(C),T.onUpdate&&T.onUpdate(C)},onComplete:p,onStop:g})}function S(T){_({type:"spring",stiffness:o,damping:a,restDelta:u,...T})}if(w(y))S({velocity:e,keyframes:[y,M(y)]});else{let T=r*e+y;typeof f<"u"&&(T=f(T));const C=M(T),P=C===t?-1:1;let R,b;const L=D=>{R=b,b=D,e=mw(D-R,As.delta),(P===1&&D>C||P===-1&&D<C)&&S({keyframes:[D,C],velocity:e})};_({type:"decay",keyframes:[y,0],velocity:e,timeConstant:s,power:r,restDelta:u,modifyTarget:f,onUpdate:w(T)?L:void 0})}return{stop:()=>v&&v.stop()}}const S9={type:"spring",stiffness:500,damping:25,restSpeed:10},M9=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),E9={type:"keyframes",duration:.8},T9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},A9=(n,{keyframes:e})=>e.length>2?E9:qa.has(n)?n.startsWith("scale")?M9(e[1]):S9:T9,ix=(n,e)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&Io.test(e)&&!e.startsWith("url("));function b9({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:u,elapsed:f,...h}){return!!Object.keys(h).length}function kE(n){return n===0||typeof n=="string"&&parseFloat(n)===0&&n.indexOf(" ")===-1}function NE(n){return typeof n=="number"?0:vw("",n)}function iR(n,e){return n[e]||n.default||n}function C9(n,e,t,i){const r=ix(e,t);let s=i.from!==void 0?i.from:n.get();return s==="none"&&r&&typeof t=="string"?s=vw(e,t):kE(s)&&typeof t=="string"?s=NE(t):!Array.isArray(t)&&kE(t)&&typeof s=="string"&&(t=NE(s)),Array.isArray(t)?(t[0]===null&&(t[0]=s),t):[s,t]}const Tw=(n,e,t,i={})=>r=>{const s=iR(i,n)||{},o=s.delay||i.delay||0;let{elapsed:a=0}=i;a=a-Up(o);const u=C9(e,n,t,s),f=u[0],h=u[u.length-1],d=ix(n,f),p=ix(n,h);let g={keyframes:u,velocity:e.getVelocity(),...s,elapsed:a,onUpdate:y=>{e.set(y),s.onUpdate&&s.onUpdate(y)},onComplete:()=>{r(),s.onComplete&&s.onComplete()}};if(!d||!p||RV.current||s.type===!1)return _9(g);if(s.type==="inertia")return w9(g);if(b9(s)||(g={...g,...A9(n,g)}),g.duration&&(g.duration=Up(g.duration)),g.repeatDelay&&(g.repeatDelay=Up(g.repeatDelay)),e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const y=x9(e,n,g);if(y)return y}return Tm(g)};function P9(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>rx(n,s,t));i=Promise.all(r)}else if(typeof e=="string")i=rx(n,e,t);else{const r=typeof e=="function"?_g(n,e,t.custom):e;i=rR(n,r,t)}return i.then(()=>n.notify("AnimationComplete",e))}function rx(n,e,t={}){const i=_g(n,e,t.custom);let{transition:r=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(r=t.transitionOverride);const s=i?()=>rR(n,i,t):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(u=0)=>{const{delayChildren:f=0,staggerChildren:h,staggerDirection:d}=r;return L9(n,e,f+u,h,d,t)}:()=>Promise.resolve(),{when:a}=r;if(a){const[u,f]=a==="beforeChildren"?[s,o]:[o,s];return u().then(f)}else return Promise.all([s(),o(t.delay)])}function rR(n,e,{delay:t=0,transitionOverride:i,type:r}={}){let{transition:s=n.getDefaultTransition(),transitionEnd:o,...a}=n.makeTargetAnimatable(e);const u=n.getValue("willChange");i&&(s=i);const f=[],h=r&&n.animationState&&n.animationState.getState()[r];for(const d in a){const p=n.getValue(d),g=a[d];if(!p||g===void 0||h&&I9(h,d))continue;const y={delay:t,elapsed:0,...s};if(window.HandoffAppearAnimations&&!p.hasAnimated){const w=n.getProps()[PV];w&&(y.elapsed=window.HandoffAppearAnimations(w,d,p,ui))}let v=p.start(Tw(d,p,g,n.shouldReduceMotion&&qa.has(d)?{type:!1}:y));Mm(u)&&(u.add(d),v=v.then(()=>u.remove(d))),f.push(v)}return Promise.all(f).then(()=>{o&&EV(n,o)})}function L9(n,e,t=0,i=0,r=1,s){const o=[],a=(n.variantChildren.size-1)*i,u=r===1?(f=0)=>f*i:(f=0)=>a-f*i;return Array.from(n.variantChildren).sort(R9).forEach((f,h)=>{f.notify("AnimationStart",e),o.push(rx(f,e,{...s,delay:t+u(h)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(o)}function R9(n,e){return n.sortNodePosition(e)}function I9({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}const D9=[...tw].reverse(),k9=tw.length;function N9(n){return e=>Promise.all(e.map(({animation:t,options:i})=>P9(n,t,i)))}function z9(n){let e=N9(n);const t=F9();let i=!0;const r=(u,f)=>{const h=_g(n,f);if(h){const{transition:d,transitionEnd:p,...g}=h;u={...u,...g,...p}}return u};function s(u){e=u(n)}function o(u,f){const h=n.getProps(),d=n.getVariantContext(!0)||{},p=[],g=new Set;let y={},v=1/0;for(let M=0;M<k9;M++){const _=D9[M],S=t[_],T=h[_]!==void 0?h[_]:d[_],C=Rf(T),P=_===f?S.isActive:null;P===!1&&(v=M);let R=T===d[_]&&T!==h[_]&&C;if(R&&i&&n.manuallyAnimateOnMount&&(R=!1),S.protectedKeys={...y},!S.isActive&&P===null||!T&&!S.prevProp||mg(T)||typeof T=="boolean")continue;const b=O9(S.prevProp,T);let L=b||_===f&&S.isActive&&!R&&C||M>v&&C;const D=Array.isArray(T)?T:[T];let V=D.reduce(r,{});P===!1&&(V={});const{prevResolvedValues:K={}}=S,Y={...K,...V},W=J=>{L=!0,g.delete(J),S.needsAnimating[J]=!0};for(const J in Y){const ne=V[J],fe=K[J];y.hasOwnProperty(J)||(ne!==fe?wm(ne)&&wm(fe)?!IL(ne,fe)||b?W(J):S.protectedKeys[J]=!0:ne!==void 0?W(J):g.add(J):ne!==void 0&&g.has(J)?W(J):S.protectedKeys[J]=!0)}S.prevProp=T,S.prevResolvedValues=V,S.isActive&&(y={...y,...V}),i&&n.blockInitialAnimation&&(L=!1),L&&!R&&p.push(...D.map(J=>({animation:J,options:{type:_,...u}})))}if(g.size){const M={};g.forEach(_=>{const S=n.getBaseTarget(_);S!==void 0&&(M[_]=S)}),p.push({animation:M})}let w=Boolean(p.length);return i&&h.initial===!1&&!n.manuallyAnimateOnMount&&(w=!1),i=!1,w?e(p):Promise.resolve()}function a(u,f,h){var d;if(t[u].isActive===f)return Promise.resolve();(d=n.variantChildren)===null||d===void 0||d.forEach(g=>{var y;return(y=g.animationState)===null||y===void 0?void 0:y.setActive(u,f)}),t[u].isActive=f;const p=o(h,u);for(const g in t)t[g].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t}}function O9(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!IL(e,n):!1}function sa(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function F9(){return{animate:sa(!0),whileInView:sa(),whileHover:sa(),whileTap:sa(),whileDrag:sa(),whileFocus:sa(),exit:sa()}}class B9 extends Uo{constructor(e){super(e),e.animationState||(e.animationState=z9(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),mg(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let U9=0;class V9 extends Uo{constructor(){super(...arguments),this.id=U9++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e,{custom:i??this.node.getProps().custom});t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const H9={animation:{Feature:B9},exit:{Feature:V9}},zE=(n,e)=>Math.abs(n-e);function G9(n,e){const t=zE(n.x,e.x),i=zE(n.y,e.y);return Math.sqrt(t**2+i**2)}class sR{constructor(e,t,{transformPagePoint:i}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=tv(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,d=G9(f.offset,{x:0,y:0})>=3;if(!h&&!d)return;const{point:p}=f,{timestamp:g}=As;this.history.push({...p,timestamp:g});const{onStart:y,onMove:v}=this.handlers;h||(y&&y(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=ev(h,this.transformPagePoint),ui.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:d,onSessionEnd:p}=this.handlers,g=tv(f.type==="pointercancel"?this.lastMoveEventInfo:ev(h,this.transformPagePoint),this.history);this.startEvent&&d&&d(f,g),p&&p(f,g)},!bL(e))return;this.handlers=t,this.transformPagePoint=i;const r=vg(e),s=ev(r,this.transformPagePoint),{point:o}=s,{timestamp:a}=As;this.history=[{...o,timestamp:a}];const{onSessionStart:u}=t;u&&u(e,tv(s,this.history)),this.removeListeners=Eo(Ts(window,"pointermove",this.handlePointerMove),Ts(window,"pointerup",this.handlePointerUp),Ts(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ro.update(this.updatePoint)}}function ev(n,e){return e?{point:e(n.point)}:n}function OE(n,e){return{x:n.x-e.x,y:n.y-e.y}}function tv({point:n},e){return{point:n,delta:OE(n,oR(e)),offset:OE(n,W9(e)),velocity:j9(e,.1)}}function W9(n){return n[0]}function oR(n){return n[n.length-1]}function j9(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const r=oR(n);for(;t>=0&&(i=n[t],!(r.timestamp-i.timestamp>Up(e)));)t--;if(!i)return{x:0,y:0};const s=(r.timestamp-i.timestamp)/1e3;if(s===0)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Bi(n){return n.max-n.min}function sx(n,e=0,t=.01){return Math.abs(n-e)<=t}function FE(n,e,t,i=.5){n.origin=i,n.originPoint=qt(e.min,e.max,n.origin),n.scale=Bi(t)/Bi(e),(sx(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=qt(t.min,t.max,n.origin)-n.originPoint,(sx(n.translate)||isNaN(n.translate))&&(n.translate=0)}function Wc(n,e,t,i){FE(n.x,e.x,t.x,i?i.originX:void 0),FE(n.y,e.y,t.y,i?i.originY:void 0)}function BE(n,e,t){n.min=t.min+e.min,n.max=n.min+Bi(e)}function X9(n,e,t){BE(n.x,e.x,t.x),BE(n.y,e.y,t.y)}function UE(n,e,t){n.min=e.min-t.min,n.max=n.min+Bi(e)}function jc(n,e,t){UE(n.x,e.x,t.x),UE(n.y,e.y,t.y)}function Q9(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?qt(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?qt(t,n,i.max):Math.min(n,t)),n}function VE(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function Y9(n,{top:e,left:t,bottom:i,right:r}){return{x:VE(n.x,t,r),y:VE(n.y,e,i)}}function HE(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function q9(n,e){return{x:HE(n.x,e.x),y:HE(n.y,e.y)}}function J9(n,e){let t=.5;const i=Bi(n),r=Bi(e);return r>i?t=Nf(e.min,e.max-i,n.min):i>r&&(t=Nf(n.min,n.max-r,e.min)),xu(0,1,t)}function Z9(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const ox=.35;function K9(n=ox){return n===!1?n=0:n===!0&&(n=ox),{x:GE(n,"left","right"),y:GE(n,"top","bottom")}}function GE(n,e,t){return{min:WE(n,e),max:WE(n,t)}}function WE(n,e){return typeof n=="number"?n:n[e]||0}const jE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Xc=()=>({x:jE(),y:jE()}),XE=()=>({min:0,max:0}),xn=()=>({x:XE(),y:XE()});function Wr(n){return[n("x"),n("y")]}function aR({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function $9({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function eH(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function nv(n){return n===void 0||n===1}function ax({scale:n,scaleX:e,scaleY:t}){return!nv(n)||!nv(e)||!nv(t)}function ua(n){return ax(n)||lR(n)||n.z||n.rotate||n.rotateX||n.rotateY}function lR(n){return QE(n.x)||QE(n.y)}function QE(n){return n&&n!=="0%"}function Am(n,e,t){const i=n-t,r=e*i;return t+r}function YE(n,e,t,i,r){return r!==void 0&&(n=Am(n,r,i)),Am(n,t,i)+e}function lx(n,e=0,t=1,i,r){n.min=YE(n.min,e,t,i,r),n.max=YE(n.max,e,t,i,r)}function uR(n,{x:e,y:t}){lx(n.x,e.translate,e.scale,e.originPoint),lx(n.y,t.translate,t.scale,t.originPoint)}function tH(n,e,t,i=!1){const r=t.length;if(!r)return;e.x=e.y=1;let s,o;for(let a=0;a<r;a++){s=t[a],o=s.projectionDelta;const u=s.instance;u&&u.style&&u.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Zl(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,uR(n,o)),i&&ua(s.latestValues)&&Zl(n,s.latestValues))}e.x=qE(e.x),e.y=qE(e.y)}function qE(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function so(n,e){n.min=n.min+e,n.max=n.max+e}function JE(n,e,[t,i,r]){const s=e[r]!==void 0?e[r]:.5,o=qt(n.min,n.max,s);lx(n,e[t],e[i],o,e.scale)}const nH=["x","scaleX","originX"],iH=["y","scaleY","originY"];function Zl(n,e){JE(n.x,e,nH),JE(n.y,e,iH)}function cR(n,e){return aR(eH(n.getBoundingClientRect(),e))}function rH(n,e,t){const i=cR(n,t),{scroll:r}=e;return r&&(so(i.x,r.offset.x),so(i.y,r.offset.y)),i}const sH=new WeakMap;class oH{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=xn(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=u=>{this.stopAnimation(),t&&this.snapToCursor(vg(u,"page").point)},s=(u,f)=>{const{drag:h,dragPropagation:d,onDragStart:p}=this.getProps();if(h&&!d&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=PL(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Wr(y=>{let v=this.getAxisMotionValue(y).get()||0;if(qr.test(v)){const{projection:w}=this.visualElement;if(w&&w.layout){const M=w.layout.layoutBox[y];M&&(v=Bi(M)*(parseFloat(v)/100))}}this.originPoint[y]=v}),p&&p(u,f);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(u,f)=>{const{dragPropagation:h,dragDirectionLock:d,onDirectionLock:p,onDrag:g}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:y}=f;if(d&&this.currentDirection===null){this.currentDirection=aH(y),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),g&&g(u,f)},a=(u,f)=>this.stop(u,f);this.panSession=new sR(e,{onSessionStart:r,onStart:s,onMove:o,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,t){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&s(e,t)}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:r}=this.getProps();if(!i||!gp(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=Q9(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),{layout:i}=this.visualElement.projection||{},r=this.constraints;e&&ql(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=Y9(i.layoutBox,e):this.constraints=!1,this.elastic=K9(t),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Wr(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=Z9(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!ql(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=rH(i,r.root,this.visualElement.getTransformPagePoint());let o=q9(r.layout.layoutBox,s);if(t){const a=t($9(o));this.hasMutatedConstraints=!!a,a&&(o=aR(a))}return o}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),u=this.constraints||{},f=Wr(h=>{if(!gp(h,t,this.currentDirection))return;let d=u&&u[h]||{};o&&(d={min:0,max:0});const p=r?200:1e6,g=r?40:1e7,y={type:"inertia",velocity:i?e[h]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(h,y)});return Promise.all(f).then(a)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return i.start(Tw(e,i,0,t))}stopAnimation(){Wr(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),i=this.visualElement.getProps(),r=i[t];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Wr(t=>{const{drag:i}=this.getProps();if(!gp(t,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(t);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[t];s.set(e[t]-qt(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!ql(t)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Wr(o=>{const a=this.getAxisMotionValue(o);if(a){const u=a.get();r[o]=J9({min:u,max:u},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Wr(o=>{if(!gp(o,e,null))return;const a=this.getAxisMotionValue(o),{min:u,max:f}=this.constraints[o];a.set(qt(u,f,r[o]))})}addListeners(){if(!this.visualElement.current)return;sH.set(this.visualElement,this);const e=this.visualElement.current,t=Ts(e,"pointerdown",u=>{const{drag:f,dragListener:h=!0}=this.getProps();f&&h&&this.start(u)}),i=()=>{const{dragConstraints:u}=this.getProps();ql(u)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),i();const o=Ss(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f})=>{this.isDragging&&f&&(Wr(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=u[h].translate,d.set(d.get()+u[h].translate))}),this.visualElement.render())});return()=>{o(),t(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=ox,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function gp(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function aH(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class lH extends Uo{constructor(e){super(e),this.removeGroupControls=ar,this.removeListeners=ar,this.controls=new oH(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ar}unmount(){this.removeGroupControls(),this.removeListeners()}}class uH extends Uo{constructor(){super(...arguments),this.removePointerDownListener=ar}onPointerDown(e){this.session=new sR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:e,onStart:t,onMove:i,onEnd:(s,o)=>{delete this.session,r&&r(s,o)}}}mount(){this.removePointerDownListener=Ts(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function cH(){const n=G.useContext(ew);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:i}=n,r=G.useId();return G.useEffect(()=>i(r),[]),!e&&t?[!1,()=>t&&t(r)]:[!0]}function ZE(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const xc={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Ke.test(n))n=parseFloat(n);else return n;const t=ZE(n,e.target.x),i=ZE(n,e.target.y);return`${t}% ${i}%`}},fR=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function fH(n){const e=fR.exec(n);if(!e)return[,];const[,t,i]=e;return[t,i]}function ux(n,e,t=1){const[i,r]=fH(n);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);return s?s.trim():Y1(r)?ux(r,e,t+1):r}function hH(n,{...e},t){const i=n.current;if(!(i instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),n.values.forEach(r=>{const s=r.get();if(!Y1(s))return;const o=ux(s,i);o&&r.set(o)});for(const r in e){const s=e[r];if(!Y1(s))continue;const o=ux(s,i);o&&(e[r]=o,t&&t[r]===void 0&&(t[r]=s))}return{target:e,transitionEnd:t}}const KE="_$css",dH={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,r=n.includes("var("),s=[];r&&(n=n.replace(fR,g=>(s.push(g),KE)));const o=Io.parse(n);if(o.length>5)return i;const a=Io.createTransformer(n),u=typeof o[0]!="number"?1:0,f=t.x.scale*e.x,h=t.y.scale*e.y;o[0+u]/=f,o[1+u]/=h;const d=qt(f,h,.5);typeof o[2+u]=="number"&&(o[2+u]/=d),typeof o[3+u]=="number"&&(o[3+u]/=d);let p=a(o);if(r){let g=0;p=p.replace(KE,()=>{const y=s[g];return g++,y})}return p}};class pH extends xx.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;p7(mH),s&&(t.group&&t.group.add(s),i&&i.register&&r&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Vc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:r,isPresent:s}=this.props,o=i.projection;return o&&(o.isPresent=s,r||e.layoutDependency!==t||t===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||ui.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function hR(n){const[e,t]=cH(),i=G.useContext(dL);return xx.createElement(pH,{...n,layoutGroup:i,switchLayoutGroup:G.useContext(pL),isPresent:e,safeToRemove:t})}const mH={borderRadius:{...xc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:xc,borderTopRightRadius:xc,borderBottomLeftRadius:xc,borderBottomRightRadius:xc,boxShadow:dH};function gH(n,e,t={}){const i=Ai(n)?n:Ua(n);return i.start(Tw("",i,e,t)),{stop:()=>i.stop(),isAnimating:()=>i.isAnimating()}}const dR=["TopLeft","TopRight","BottomLeft","BottomRight"],yH=dR.length,$E=n=>typeof n=="string"?parseFloat(n):n,eT=n=>typeof n=="number"||Ke.test(n);function vH(n,e,t,i,r,s){r?(n.opacity=qt(0,t.opacity!==void 0?t.opacity:1,xH(i)),n.opacityExit=qt(e.opacity!==void 0?e.opacity:1,0,_H(i))):s&&(n.opacity=qt(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,i));for(let o=0;o<yH;o++){const a=`border${dR[o]}Radius`;let u=tT(e,a),f=tT(t,a);if(u===void 0&&f===void 0)continue;u||(u=0),f||(f=0),u===0||f===0||eT(u)===eT(f)?(n[a]=Math.max(qt($E(u),$E(f),i),0),(qr.test(f)||qr.test(u))&&(n[a]+="%")):n[a]=f}(e.rotate||t.rotate)&&(n.rotate=qt(e.rotate||0,t.rotate||0,i))}function tT(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const xH=pR(0,.5,Mw),_H=pR(.5,.95,ar);function pR(n,e,t){return i=>i<n?0:i>e?1:t(Nf(n,e,i))}function nT(n,e){n.min=e.min,n.max=e.max}function er(n,e){nT(n.x,e.x),nT(n.y,e.y)}function iT(n,e,t,i,r){return n-=e,n=Am(n,1/t,i),r!==void 0&&(n=Am(n,1/r,i)),n}function wH(n,e=0,t=1,i=.5,r,s=n,o=n){if(qr.test(e)&&(e=parseFloat(e),e=qt(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=qt(s.min,s.max,i);n===s&&(a-=e),n.min=iT(n.min,e,t,a,r),n.max=iT(n.max,e,t,a,r)}function rT(n,e,[t,i,r],s,o){wH(n,e[t],e[i],e[r],e.scale,s,o)}const SH=["x","scaleX","originX"],MH=["y","scaleY","originY"];function sT(n,e,t,i){rT(n.x,e,SH,t?t.x:void 0,i?i.x:void 0),rT(n.y,e,MH,t?t.y:void 0,i?i.y:void 0)}function oT(n){return n.translate===0&&n.scale===1}function mR(n){return oT(n.x)&&oT(n.y)}function cx(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function aT(n){return Bi(n.x)/Bi(n.y)}class EH{constructor(){this.members=[]}add(e){hw(this.members,e),e.scheduleRender()}remove(e){if(dw(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let i;for(let r=t;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function lT(n,e,t){let i="";const r=n.x.translate/e.x,s=n.y.translate/e.y;if((r||s)&&(i=`translate3d(${r}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:u,rotateX:f,rotateY:h}=t;u&&(i+=`rotate(${u}deg) `),f&&(i+=`rotateX(${f}deg) `),h&&(i+=`rotateY(${h}deg) `)}const o=n.x.scale*e.x,a=n.y.scale*e.y;return(o!==1||a!==1)&&(i+=`scale(${o}, ${a})`),i||"none"}const TH=(n,e)=>n.depth-e.depth;class AH{constructor(){this.children=[],this.isDirty=!1}add(e){hw(this.children,e),this.isDirty=!0}remove(e){dw(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(TH),this.isDirty=!1,this.children.forEach(e)}}function bH(n){window.MotionDebug&&window.MotionDebug.record(n)}const uT=["","X","Y","Z"],cT=1e3;let CH=0;const ca={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function gR({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o,a={},u=e==null?void 0:e()){this.id=CH++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{ca.totalNodes=ca.resolvedTargetDeltas=ca.recalculatedProjection=0,this.nodes.forEach(RH),this.nodes.forEach(NH),this.nodes.forEach(zH),this.nodes.forEach(IH),bH(ca)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=o,this.latestValues=a,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0,o&&this.root.registerPotentialNode(o,this);for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new AH)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new pw),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const u=this.eventHandlers.get(o);u&&u.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}registerPotentialNode(o,a){this.potentialNodes.set(o,a)}mount(o,a=!1){if(this.instance)return;this.isSVG=o instanceof SVGElement&&o.tagName!=="svg",this.instance=o;const{layoutId:u,layout:f,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),a&&(f||u)&&(this.isLayoutDirty=!0),n){let d;const p=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=nR(p,250),Vc.hasAnimatedSinceResize&&(Vc.hasAnimatedSinceResize=!1,this.nodes.forEach(hT))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&h&&(u||f)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeTargetChanged:g,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||h.getDefaultTransition()||VH,{onLayoutAnimationStart:w,onLayoutAnimationComplete:M}=h.getProps(),_=!this.targetLayout||!cx(this.targetLayout,y)||g,S=!p&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||p&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,S);const T={...iR(v,"layout"),onPlay:w,onComplete:M};(h.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T)}else!p&&this.animationProgress===0&&hT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ro.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(OH),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const d=this.path[h];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:u}=this.options;if(a===void 0&&!u)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(fT);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(HH),this.potentialNodes.clear()),this.nodes.forEach(kH),this.nodes.forEach(PH),this.nodes.forEach(LH),this.clearAllSnapshots(),Yy.update(),Yy.preRender(),Yy.render())}clearAllSnapshots(){this.nodes.forEach(DH),this.sharedNodes.forEach(FH)}scheduleUpdateProjection(){ui.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){ui.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=xn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:i(this.instance),offset:t(this.instance)})}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!mR(this.projectionDelta),u=this.getTransformTemplate(),f=u?u(this.latestValues,""):void 0,h=f!==this.prevTransformTemplateValue;o&&(a||ua(this.latestValues)||h)&&(r(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let u=this.removeElementScroll(a);return o&&(u=this.removeTransform(u)),GH(u),{animationId:this.root.animationId,measuredBox:a,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return xn();const a=o.measureViewportBox(),{scroll:u}=this.root;return u&&(so(a.x,u.offset.x),so(a.y,u.offset.y)),a}removeElementScroll(o){const a=xn();er(a,o);for(let u=0;u<this.path.length;u++){const f=this.path[u],{scroll:h,options:d}=f;if(f!==this.root&&h&&d.layoutScroll){if(h.isRoot){er(a,o);const{scroll:p}=this.root;p&&(so(a.x,-p.offset.x),so(a.y,-p.offset.y))}so(a.x,h.offset.x),so(a.y,h.offset.y)}}return a}applyTransform(o,a=!1){const u=xn();er(u,o);for(let f=0;f<this.path.length;f++){const h=this.path[f];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Zl(u,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),ua(h.latestValues)&&Zl(u,h.latestValues)}return ua(this.latestValues)&&Zl(u,this.latestValues),u}removeTransform(o){const a=xn();er(a,o);for(let u=0;u<this.path.length;u++){const f=this.path[u];if(!f.instance||!ua(f.latestValues))continue;ax(f.latestValues)&&f.updateSnapshot();const h=xn(),d=f.measurePageBox();er(h,d),sT(a,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,h)}return ua(this.latestValues)&&sT(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(){var o;const a=this.getLead();if(this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty),!((Boolean(this.resumingFrom)||this!==a)&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:d}=this.options;if(!(!this.layout||!(h||d))){if(!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout?(this.relativeParent=p,this.relativeTarget=xn(),this.relativeTargetOrigin=xn(),jc(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),er(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=xn(),this.targetWithTransforms=xn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?X9(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):er(this.target,this.layout.layoutBox),uR(this.target,this.targetDelta)):er(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&Boolean(p.resumingFrom)===Boolean(this.resumingFrom)&&!p.options.layoutScroll&&p.target?(this.relativeParent=p,this.relativeTarget=xn(),this.relativeTargetOrigin=xn(),jc(this.relativeTargetOrigin,this.target,p.target),er(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ca.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||ax(this.parent.latestValues)||lR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),u=Boolean(this.resumingFrom)||this!==a;let f=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(f=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),f)return;const{layout:h,layoutId:d}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||d))return;er(this.layoutCorrected,this.layout.layoutBox),tH(this.layoutCorrected,this.treeScale,this.path,u);const{target:p}=a;if(!p)return;this.projectionDelta||(this.projectionDelta=Xc(),this.projectionDeltaWithTransform=Xc());const g=this.treeScale.x,y=this.treeScale.y,v=this.projectionTransform;Wc(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=lT(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==g||this.treeScale.y!==y)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),ca.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const u=this.snapshot,f=u?u.latestValues:{},h={...this.latestValues},d=Xc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=xn(),g=u?u.source:void 0,y=this.layout?this.layout.source:void 0,v=g!==y,w=this.getStack(),M=!w||w.members.length<=1,_=Boolean(v&&!M&&this.options.crossfade===!0&&!this.path.some(UH));this.animationProgress=0;let S;this.mixTargetDelta=T=>{const C=T/1e3;dT(d.x,o.x,C),dT(d.y,o.y,C),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(jc(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),BH(this.relativeTarget,this.relativeTargetOrigin,p,C),S&&cx(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=xn()),er(S,this.relativeTarget)),v&&(this.animationValues=h,vH(h,f,this.latestValues,C,_,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ro.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ui.update(()=>{Vc.hasAnimatedSinceResize=!0,this.currentAnimation=gH(0,cT,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(cT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:u,layout:f,latestValues:h}=o;if(!(!a||!u||!f)){if(this!==o&&this.layout&&f&&yR(this.options.animationType,this.layout.layoutBox,f.layoutBox)){u=this.target||xn();const d=Bi(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+d;const p=Bi(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+p}er(a,u),Zl(a,h),Wc(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new EH),this.sharedNodes.get(o).add(a);const f=a.options.initialPromotionConfig;a.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:u}={}){const f=this.getStack();f&&f.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:u}=o;if((u.rotate||u.rotateX||u.rotateY||u.rotateZ)&&(a=!0),!a)return;const f={};for(let h=0;h<uT.length;h++){const d="rotate"+uT[h];u[d]&&(f[d]=u[d],o.setStaticValue(d,0))}o.render();for(const h in f)o.setStaticValue(h,f[h]);o.scheduleRender()}getProjectionStyles(o={}){var a,u;const f={};if(!this.instance||this.isSVG)return f;if(this.isVisible)f.visibility="";else return{visibility:"hidden"};const h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=Bp(o.pointerEvents)||"",f.transform=h?h(this.latestValues,""):"none",f;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Bp(o.pointerEvents)||""),this.hasProjected&&!ua(this.latestValues)&&(v.transform=h?h({},""):"none",this.hasProjected=!1),v}const p=d.animationValues||d.latestValues;this.applyTransformsToTarget(),f.transform=lT(this.projectionDeltaWithTransform,this.treeScale,p),h&&(f.transform=h(p,f.transform));const{x:g,y}=this.projectionDelta;f.transformOrigin=`${g.origin*100}% ${y.origin*100}% 0`,d.animationValues?f.opacity=d===this?(u=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:f.opacity=d===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const v in xm){if(p[v]===void 0)continue;const{correct:w,applyTo:M}=xm[v],_=f.transform==="none"?p[v]:w(p[v],d);if(M){const S=M.length;for(let T=0;T<S;T++)f[M[T]]=_}else f[v]=_}return this.options.layoutId&&(f.pointerEvents=d===this?Bp(o.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(fT),this.root.sharedNodes.clear()}}}function PH(n){n.updateLayout()}function LH(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=n.layout,{animationType:s}=n.options,o=t.source!==n.layout.source;s==="size"?Wr(d=>{const p=o?t.measuredBox[d]:t.layoutBox[d],g=Bi(p);p.min=i[d].min,p.max=p.min+g}):yR(s,t.layoutBox,i)&&Wr(d=>{const p=o?t.measuredBox[d]:t.layoutBox[d],g=Bi(i[d]);p.max=p.min+g});const a=Xc();Wc(a,i,t.layoutBox);const u=Xc();o?Wc(u,n.applyTransform(r,!0),t.measuredBox):Wc(u,i,t.layoutBox);const f=!mR(a);let h=!1;if(!n.resumeFrom){const d=n.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:g}=d;if(p&&g){const y=xn();jc(y,t.layoutBox,p.layoutBox);const v=xn();jc(v,i,g.layoutBox),cx(y,v)||(h=!0),d.options.layoutRoot&&(n.relativeTarget=v,n.relativeTargetOrigin=y,n.relativeParent=d)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:u,layoutDelta:a,hasLayoutChanged:f,hasRelativeTargetChanged:h})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function RH(n){ca.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=Boolean(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function IH(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function DH(n){n.clearSnapshot()}function fT(n){n.clearMeasurements()}function kH(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function hT(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0}function NH(n){n.resolveTargetDelta()}function zH(n){n.calcProjection()}function OH(n){n.resetRotation()}function FH(n){n.removeLeadSnapshot()}function dT(n,e,t){n.translate=qt(e.translate,0,t),n.scale=qt(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function pT(n,e,t,i){n.min=qt(e.min,t.min,i),n.max=qt(e.max,t.max,i)}function BH(n,e,t,i){pT(n.x,e.x,t.x,i),pT(n.y,e.y,t.y,i)}function UH(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const VH={duration:.45,ease:[.4,0,.1,1]};function HH(n,e){let t=n.root;for(let s=n.path.length-1;s>=0;s--)if(Boolean(n.path[s].instance)){t=n.path[s];break}const r=(t&&t!==n.root?t.instance:document).querySelector(`[data-projection-id="${e}"]`);r&&n.mount(r,!0)}function mT(n){n.min=Math.round(n.min),n.max=Math.round(n.max)}function GH(n){mT(n.x),mT(n.y)}function yR(n,e,t){return n==="position"||n==="preserve-aspect"&&!sx(aT(e),aT(t),.2)}const WH=gR({attachResizeListener:(n,e)=>Ss(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),iv={current:void 0},vR=gR({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!iv.current){const n=new WH(0,{});n.mount(window),n.setOptions({layoutScroll:!0}),iv.current=n}return iv.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>Boolean(window.getComputedStyle(n).position==="fixed")}),jH={pan:{Feature:uH},drag:{Feature:lH,ProjectionNode:vR,MeasureLayout:hR}},XH=new Set(["width","height","top","left","right","bottom","x","y"]),xR=n=>XH.has(n),QH=n=>Object.keys(n).some(xR),gT=n=>n===Ja||n===Ke,yT=(n,e)=>parseFloat(n.split(", ")[e]),vT=(n,e)=>(t,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/);if(r)return yT(r[1],e);{const s=i.match(/^matrix\((.+)\)$/);return s?yT(s[1],n):0}},YH=new Set(["x","y","z"]),qH=yg.filter(n=>!YH.has(n));function JH(n){const e=[];return qH.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e.length&&n.render(),e}const xT={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:vT(4,13),y:vT(5,14)},ZH=(n,e,t)=>{const i=e.measureViewportBox(),r=e.current,s=getComputedStyle(r),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",n.display||"block"),t.forEach(f=>{a[f]=xT[f](i,s)}),e.render();const u=e.measureViewportBox();return t.forEach(f=>{const h=e.getValue(f);h&&h.jump(a[f]),n[f]=xT[f](u,s)}),n},KH=(n,e,t={},i={})=>{e={...e},i={...i};const r=Object.keys(e).filter(xR);let s=[],o=!1;const a=[];if(r.forEach(u=>{const f=n.getValue(u);if(!n.hasValue(u))return;let h=t[u],d=vc(h);const p=e[u];let g;if(wm(p)){const y=p.length,v=p[0]===null?1:0;h=p[v],d=vc(h);for(let w=v;w<y;w++)g?Em(vc(p[w])===g):g=vc(p[w])}else g=vc(p);if(d!==g)if(gT(d)&&gT(g)){const y=f.get();typeof y=="string"&&f.set(parseFloat(y)),typeof p=="string"?e[u]=parseFloat(p):Array.isArray(p)&&g===Ke&&(e[u]=p.map(parseFloat))}else d!=null&&d.transform&&(g!=null&&g.transform)&&(h===0||p===0)?h===0?f.set(g.transform(h)):e[u]=d.transform(p):(o||(s=JH(n),o=!0),a.push(u),i[u]=i[u]!==void 0?i[u]:e[u],f.jump(p))}),a.length){const u=a.indexOf("height")>=0?window.pageYOffset:null,f=ZH(e,n,a);return s.length&&s.forEach(([h,d])=>{n.getValue(h).set(d)}),n.render(),pg&&u!==null&&window.scrollTo({top:u}),{target:f,transitionEnd:i}}else return{target:e,transitionEnd:i}};function $H(n,e,t,i){return QH(e)?KH(n,e,t,i):{target:e,transitionEnd:i}}const eG=(n,e,t,i)=>{const r=hH(n,e,i);return e=r.target,i=r.transitionEnd,$H(n,e,t,i)},fx={current:null},_R={current:!1};function tG(){if(_R.current=!0,!!pg)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>fx.current=n.matches;n.addListener(e),e()}else fx.current=!1}function nG(n,e,t){const{willChange:i}=e;for(const r in e){const s=e[r],o=t[r];if(Ai(s))n.addValue(r,s),Mm(i)&&i.add(r);else if(Ai(o))n.addValue(r,Ua(s,{owner:n})),Mm(i)&&i.remove(r);else if(o!==s)if(n.hasValue(r)){const a=n.getValue(r);!a.hasAnimated&&a.set(s)}else{const a=n.getStaticValue(r);n.addValue(r,Ua(a!==void 0?a:s,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const wR=Object.keys(If),iG=wR.length,_T=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],rG=nw.length;class sG{constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:r,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ui.render(this.render,!1,!0);const{latestValues:a,renderState:u}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=t.initial?{...a}:{},this.renderState=u,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.isControllingVariants=gg(t),this.isVariantNode=hL(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:f,...h}=this.scrapeMotionValuesFromProps(t,{});for(const d in h){const p=h[d];a[d]!==void 0&&Ai(p)&&(p.set(a[d],!1),Mm(f)&&f.add(d))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,this.projection&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),_R.current||tG(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:fx.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ro.update(this.notifyUpdate),Ro.render(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const i=qa.has(e),r=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&ui.update(this.notifyUpdate,!1,!0),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},i,r,s,o){let a,u;for(let f=0;f<iG;f++){const h=wR[f],{isEnabled:d,Feature:p,ProjectionNode:g,MeasureLayout:y}=If[h];g&&(a=g),d(t)&&(!this.features[h]&&p&&(this.features[h]=new p(this)),y&&(u=y))}if(!this.projection&&a){this.projection=new a(s,this.latestValues,this.parent&&this.parent.projection);const{layoutId:f,layout:h,drag:d,dragConstraints:p,layoutScroll:g,layoutRoot:y}=t;this.projection.setOptions({layoutId:f,layout:h,alwaysMeasureLayout:Boolean(d)||p&&ql(p),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof h=="string"?h:"both",initialPromotionConfig:o,layoutScroll:g,layoutRoot:y})}return u}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update(this.props,this.prevProps):(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):xn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<_T.length;i++){const r=_T[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s=e["on"+r];s&&(this.propEventSubscriptions[r]=this.on(r,s))}this.prevMotionValues=nG(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const i=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(i.initial=this.props.initial),i}const t={};for(let i=0;i<rG;i++){const r=nw[i],s=this.props[r];(Rf(s)||s===!1)&&(t[r]=s)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=Ua(t,{owner:this}),this.addValue(e,i)),i}readValue(e){return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:i}=this.props,r=typeof i=="string"||typeof i=="object"?(t=fw(this.props,i))===null||t===void 0?void 0:t[e]:void 0;if(i&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Ai(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new pw),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class SR extends sG{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...i},{transformValues:r},s){let o=bV(i,e||{},this);if(r&&(t&&(t=r(t)),i&&(i=r(i)),o&&(o=r(o))),s){TV(this,i,o);const a=eG(this,i,o,t);t=a.transitionEnd,i=a.target}return{transition:e,transitionEnd:t,...i}}}function oG(n){return window.getComputedStyle(n)}class aG extends SR{readValueFromInstance(e,t){if(qa.has(t)){const i=yw(t);return i&&i.default||0}else{const i=oG(e),r=(yL(t)?i.getPropertyValue(t):i[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return cR(e,t)}build(e,t,i,r){sw(e,t,i,r.transformTemplate)}scrapeMotionValuesFromProps(e,t){return cw(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ai(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,i,r){SL(e,t,i,r)}}class lG extends SR{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(qa.has(t)){const i=yw(t);return i&&i.default||0}return t=ML.has(t)?t:uw(t),e.getAttribute(t)}measureInstanceViewportBox(){return xn()}scrapeMotionValuesFromProps(e,t){return TL(e,t)}build(e,t,i,r){aw(e,t,i,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,i,r){EL(e,t,i,r)}mount(e){this.isSVGTag=lw(e.tagName),super.mount(e)}}const uG=(n,e)=>rw(n)?new lG(e,{enableHardwareAcceleration:!1}):new aG(e,{enableHardwareAcceleration:!0}),cG={layout:{ProjectionNode:vR,MeasureLayout:hR}},fG={...H9,...$7,...jH,...cG},lr=h7((n,e)=>U7(n,e,fG,uG));function hG(n){const e=iw(()=>Ua(n)),{isStatic:t}=G.useContext($_);if(t){const[,i]=G.useState(n);G.useEffect(()=>e.on("change",i),[])}return e}const ci={paddingX:"sm:px-16 px-6",paddingY:"sm:py-16 py-6",padding:"sm:px-16 px-6 sm:py-16 py-10",heroHeadText:"font-black text-white lg:text-[80px] sm:text-[60px] xs:text-[50px] text-[40px] lg:leading-[98px] mt-2",heroSubText:"text-[#dfd9ff] font-medium lg:text-[30px] sm:text-[26px] xs:text-[20px] text-[16px] lg:leading-[40px]",sectionHeadText:"text-white font-black md:text-[60px] sm:text-[50px] xs:text-[40px] text-[30px]",sectionSubText:"sm:text-[18px] text-[14px] text-secondary uppercase tracking-wider"},dG=G.lazy(()=>hg(()=>import("./index-88ec406c.js"),[]).then(n=>({default:n.EarthCanvas}))),pG=()=>{const[n,e]=G.useState(!1),[t,i]=G.useState(!1),r=G.useRef(null);return G.useEffect(()=>{const s=new IntersectionObserver(o=>{o[0].isIntersecting&&(i(!0),s.disconnect())},{threshold:.1});return r.current&&s.observe(r.current),()=>s.disconnect()},[]),mt("section",{className:"relative w-full h-screen mx-auto",children:[ae("div",{className:`${ci.paddingX} absolute inset-0 top-[120px] max-w-7xl mx-auto flex flex-row items-start gap-5`,children:mt("div",{children:[mt("h1",{className:`${ci.heroHeadText} text-white`,children:["Hi, I'm ",ae("span",{className:"text-[#3781e5]",children:"Vik"})]}),ae("p",{className:`${ci.heroSubText} mt-2 text-white-100`,children:"Let's Build The Internet of Things"})]})}),ae("div",{ref:r,className:`w-full h-full relative group ${n?"cursor-grabbing":"cursor-grab"}`,onMouseDown:()=>e(!0),onMouseUp:()=>e(!1),children:t?ae(G.Suspense,{fallback:ae("div",{className:"text-center text-white mt-10",children:"Loading 3D..."}),children:ae(dG,{})}):ae("div",{className:"flex items-center justify-center h-full text-white",children:"Loading..."})}),ae("div",{className:"absolute xs:bottom-10 bottom-32 w-full flex justify-center items-center",children:ae("a",{href:"#about",children:ae("div",{className:"w-[35px] h-[64px] rounded-3xl border-4 border-secondary flex justify-center items-start p-2.5",children:ae(lr.div,{animate:{y:[0,24,0]},transition:{duration:1.5,repeat:1/0,repeatType:"loop"},className:"w-3 h-3 rounded-full bg-secondary mb-1"})})})})]})},mG="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAq1BMVEUAAAD+/v7+/v7////+/v7+/v7////+/v7////////+/v7+/v7////+/v7////+/v7////////////+/v7////////////////+/v7+/v7////+/v7+/v7+/v7+/v7////+/v7+/v7+/v7////+/v7+/v7////+/v7+/v7+/v7+/v7////////////+/v7+/v7////////+/v7+/v7////////+/v7+/v7///9SZkWKAAAAOHRSTlMA/vcH+68M7aAT+eUx9B9sDyRn6oo5KEDhyYIb2qZdF5xyTMO8kmLe1tNZUPCrjn14zkmXRVQstInlm84AAAeQSURBVHja7Nppc9owEAbglazaMT4gmDPG3JAACRBCkvf//7JO2+n0SG0ZszJk6uczSLMjraTdMVUqlUqlUqlUKpVKpWKe5YZvfrvd7bbbfid0Lfp07HBaX8x7gZRKCQEIoZSUQW++qB9Cmz6Hznrc9wRSiag/Xnfoqlnh8MlRyEFFyTq81q3WuXuQOIFc3b3R1ensVwInE6vJLV0RazOTKEjONnQl4p2Hs/T2MV3e7TjA2YJxSGbpw5BgIV8umSzxSw1s5GJEl2FNHLCKJhZdwGEAdoMulc1NFAxQSYNKtY5gSPRK5WkkAsaoG5tK0h3AqEGbSjGpwTBZJ/PcBCUwv73CFUrxHJJRvoeS9HwyaCNRmscjGTOsoUTylQxpKpRKDsmIiULJVJ2++eTr8Y1cEruhwgWoNTHb1HARwZFYtSUu5NEnRrceLuZ+RGzcFS6obxOXJ1zUmJhMcFmiSSy6NaQQy0N9/BwInEkE/XHzWEeawCcGjQHSRPb3Hxy3A4HCxEOr+30cO0CaQcNsgiT0k584KMS58TUzcaXJWiDVkH4Z7QqE4u1H9EsTqWpTOtMoQioV0+/s1omhOHcN+p0vMkJ2DZ68nkV/Cr8I5CaSmP40cpDuhc5yUEjXpw+GEXLy1vQ36x7pam0qRj80vtBH8Qy5zEf0UeZ/VxYVt0eWxT9jXwj8IKLVPGnt68vhcFnfbZP5QyTwg2pZ9A83pq7F2EGWXUoFVoNyZq3pyP47RjvebGePKrWGbSFL1KCixshUT6tddm2bUtnt3bTQBsCWCurUkKlJzOrI5MRUzA2yLYlZE9kWVMitRLYhMVsim4wLZsi1rUixJYkD4LpyBIhcOt0OOntitofOhE5medDZErMWdDyLTvUKrSdilkBrQ6eaQatPOvxzvtOJOhJaPYt43UPrccSed4AKiZXrAOzp/gAd/ouko6D3TCd5E8jhC7F6RQ61WzrFHfLoEasXgHtvWQ/IQR6J1bSGHGZ0glBCT0yI2Q45BA3Kb4gcEmL3hBxemQccNIjdyIPeDeXnQEsdyYCDgtY974E+JiMSaAUh5bWGlueSEeEjdMSBozbU1yLmT64W5dU39l7UcyPozCknWz9WnYy543tQhAIajkvGxBIaIu/sU94ji//g6nI1M4RPBnUF18ZeQGNgkUENj6vrMYfGCxn1xFUH9ZBNTMmoNVOVaAX6FqxRoeB5bblSO45hEbJ5Nk9V9U6GvfNcY29K+9YxbItsQUx5+Iq3C8T/OZIM8wUikG1Khq15WkJtXSBtMuyAbCpfIF1o+GTYEdlE5/8K5Gt799adKAzEAXySUCiIBZX7Wmkt3ira1bZ2vv8n28sLx/VouEzQ3eX36oPnfwKSZCb4z1xa/r9ys9tajSLoLf78Bpay2iHROiL/9pdMUTLpFIVm0tgDxQyaSaPoy+81pQKiaTyMUWICSjlU5eSMtuRGX6XeUJXADBcUkjfBbKmGFh1Q6Bmpunk+UGYpoDz6JhifbMuUrUGZOSPbMtVHVxwSd4FI9hyLr1gfSVAqo6zcGwNQwuYolZBWp2MBCug7lGJ72u6Wd6An7pG0GAojlGMOkPvOUG5MU2spaPRdpgyJGwZe8RpJHA3LWFPV8QpaAoQ8hmXkOpQnVljOowlE0jss54WybF8Y20DCj7CkZ9JFWoEnLjTmehqWxAdQyQpLi6bQjPjsYWkxebtsgcV7aGAaYwVOo8Mj8ihrHWrRP3cMK8jNZgtnuegtgMoGSYQFNR26a6yKvcwHAkoTD8MXhlVNKRrV5fhyG+pQght6S47VLUj2AEZPSfIoPbqu7T5AYh9rWI9DsSujhfCTCHeyp70ACbHBenouRYc3SwT8IhKOF3wJkBJfWItH0wHGdgH89nkhycqFEswx1tA3qU64Gmv47ZU3fc/EoU82IHIDfvblXc9nbnn2Rj51KIxSwlNo3L94/HXh1j4QIZdAXalxtiXeXDTt7pgyrKan0+4nexc6DyMBoGpI2BwkKq4UrYfzLTwJ0clc+o20UDs7JPppSOsAFZgWVsBtaOT+fI/pQ3TySe3+MrkZee9q0UBhG5IvI7y2IhcaWmvnl/+HRaM5ts2wLB5CY/cXNmTSLw0LWgqVpDnhhSWnLy9tZEyLubAxE7RFtsJKAAG/f/FX1k422ddm69hQ2Q7LMQIgMZQ8Y2vLsBQ2ASL3p0NC4q5cjhlQ0WM8lj+0GCQTQOZbhMey9oIsTaBz+ux7ayvIKABSIccj/LWdILkPpE7X6dZrG0H4FMhNtD+SvKkPwtegwJzjseygOAifgATRS8r541EUQRykvwZFPvv4B7baTvxgENgfzvvuiTZIPgVlQgNPMcuytKIAThVk5INChzGeQR1kOQClzBfWRhCWmaCY/s7UB2FbAeoNc9VBjAm04rBUG2QVQEv0J0tdEGsmoD0fkaogixBaZb5zFUH4zIW22TtGHYTFNlyBmPdog0RzAdehewZdkFEi4HpSr08TpO+lcF2p12schPU8E67PdaJmQcZDF27E/i6vG8TY7OGWmMPYqh6Ex7czGIWBD9WI8Kb+5rjT6XQ6nU6n0+l0Op1O53/wAxIh461iUAGxAAAAAElFTkSuQmCC",gG="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAB6VBMVEUAAAAZgroWgLkNerYag7sRfrgVf7gVf7cVgLoWfrkWgLwUg8ITfrcSfrgPe7cKeLYZf7sJeLUOe7cNerYWgrgRfLcUgLgehbwWf7gSfbgVf7kchLsQfLcHdrMUf7gYgLoehbwHd7QNerYVfbgUf7cVgLggh7wdhbsWgbkTfrgdhLwPfLYXgLoahLsIeLQNebUWgLoTfrgPe7cdhbwehbsHd7Qfhr0JeLQiiL0FdbMbg7sRfLcgh70fhbwPe7cTfrgHd7QQfLcSfrgbg7sKeLQcg7oagrohh70agroQfLcUfrgNerYjib4EdLIGdrQiiL0fhr0ghbwSfrgiiL0ehrwdhbwPerYFdLIdhbwjiL4iiL4GdbMdhbsbg7sehbwiiL4JeLURfLcFdbIHd7QHd7QFdbMHd7QfhrwMebUTfbcKeLUQfbccg7sMebUKebUGdbMUf7gUf7kMebUJd7Ujib0WgbkMerYfhrwNerUSfbgag7sTfrgdhbwJeLQchLsjib4LebULeLQKebQZgrofhrwag7ogh7wSfLYEdLIOe7ckib4FdLMVf7kKeLUMerYTfrgVgLkag7sZgroId7QPfLcchLsfhr0dhbwhh70XgboRfbcOe7YXgLkiiL0GdrQFdrMjiL4SfbgPe7Y39baDAAAAjXRSTlMAXVu/aVuuXRgIDwSup6dmBqeVZhOVafwiPywm9/bSrox0QxsWlUP29szKuK5KOCcMv3JSOe7l5eDg39+ik5KPjIuEeXh1NfTx8O3h09LMvLitfnZyWFT6+fjw8Ovi2czKyLy4rZKDf1j82dbRv6SioGBR/Pv78u/q5bmspJiFhGxmSr6Zl5D7f2hgYMJ6FM47AAAKx0lEQVR42tza6W8SQRjH8Z9GE9iNhiiRSyuKQktFrSAaoVZbtbY2thVqatNDo7FqG+N9X/GMxrLYeKE0wf6lMqJOQXZ5tiyzi9+XTfrik5ndgYdBY7LFRtL+5FB4Mn435CoWuhufDA898h8didnQHNkiqeRU79dffS7vS6nQ7KOeiKU5ciw1HC8R1By8ieGjMRkWzJseYutAdXxihR6kvbBScrBz/8LCgk5HqQOdQassTPBlvKjQ7eCNv/LA9NxP2VrU5fhQbOKJGyYmRwcLCwY4WPMPojLMSUrtLxjg4E0clSA+m3+sYJCDd9xvg9gCnWcKxjvm5+dbtwcgLqefMRrhYBS/E2Kyp8YKDXOwjvfYIaDo/kKDHLwDUTQ632ChcQ5e7oUPjcwxfUaMI5drPeVAwzo2UBDkYLUcQ2NyPL0lzsG63d2QRfFNFUQ6WPk2HwzvXa94Rz7feh3GZk8WTHCwrtlhYO4BUxysbIsbhhUcM8+RzfZvhUGtumWeg3V7AwzpdcFUB6sL9WcfNt+RzT60o86kQSs4stkOCXXlnLKGI5ttc6KOtg1YxZHNtmz7Pxz1SJyWcmSVFieWlWSZ56PkUJQ2CcvIbpH31R8Hq8MO/Vni/OCOUg+b8jyvdLC6oLNV1nQoygboKnjLog7l8lboyD1mVYei9LtBzj5gXYeitNhBLWllh6JcA7F31nYoynWQ8tHnJaO9LnEO3sZdIOQgzq8mpz0SIPtWDI8Kdvz40eZA7Z6SHLMR/M3W6RLqKNZNmO9S5qKuJ3L5Px0Q6/j25hhq5BigOFagom1hoY5v32Yc0G6asq9W4Z+ckwIdrFPQzHeG4EiiSt5RcQ5WjTfXIMExLqFaTwQ6WO3QKEp57/agatJxgQ7Waahm309wjDpRvVdCHLyEHWqlKOf5IFQKinV8/HgEKjlJv59PQ6XdLrGOj31qe8Nf08EagVoHRDpYh1G1AO1eRhBqhUU6WBsDqFYnwUGAiHKwDqJKtjOaDsrWEupgbbTh3/wEh+bDbncJdag9JRL1HtkQVPIIc/D6JFSWojhYo5LaSE+cg7cHFcn0+4lplWNkXJyDdwIVRelzhvhuVKvHDMfi4g2Up+feayeq5AuZ4lhsR1nuBaqDNVJlY82a4/i+6C6fOJAdrNEoKpJemOT4/v0ilqbzXrjrKMrymbUexcoe9yDRwQvHwJdjOmSWg+UB7+Uy5qLhtFcGsC3y8vgn0xysx9whj+t3sFzjE+z7rYkO1j2Z7yzrzamJDlZmK/8A39SOzDr+zmpqR+YEfudtbkcm40WpdJM7MntQaqjJHZl2gCX3muRofb99z6WIxxNZuedge/8yHaw7DrBipjjud3kcWNquZx2X9TtK7QQrpdeRXFWt2TLHtT9/3rCkDn4f7jRX8ALd/XocvC1gDetdjxWo1uay9ViJKm3/zUichkpS90a6g3cBrDjZQYbktCBKlx3q7TpHdvD2oZiN7CBDclqQ/gg0kw+THTwbgAjVQYbktCAJH2q1gergPQfQQ3SQITktyEwAtVtPdPCOAEjSHGRITguSCIBSN83BuwpgiuQgQ3JakFYvaLWTHLyTAHopDjIkpwm5DmK2e7occ3cAm/7zXAOS04REQO6tLsfcnA0x3Q4NSE4Foj95RpdjbidG9Do0INyRrxeCS3QH6xLSOh3qkKWO+iHyCbKDtQV+fQ51yI4lDgMg6CY7WIeQ1OUgQfKGQHaRHayrGNLjIEHyxkAwQ3WwziOsw0GC5I2CHKQ6WGcxSXeQIHnDIKepDtYVxMmO2hDuyGpDPKfWdLSda++6sRvqBagO1j7cpToIEO7Qguw+df/vnKHvsAalj+hg7UWI6CBAuEML4kmUzUsSXqh1juhgbYKL5iBAuEMLsvpyxdynT1Wyluhg3YSL5KBAuEMDsrXCUSyhtrsOUh2sn7zcz0tUURjG8QfCGrPsBxOpKDhKKEWCv5JxYYpOtIoKWomhmRFCCLUoxSKDtnMH7m0XM0x/aVxdvE6eh+c9HOi7n8UHhgv3Pee9uBs/vwpDLpuDQ6qHgTncGoG89DgMEu1gEHNwyOPQPHGULBjORTg+YSrWQSHmoJDqaHAuOkfeSaTDGsPnSAeHmINCvofnuztkBiEd1iIeRTo4xBwUMhueU/+pEojbkS/hdbSDQ1oC0j9K5u0TBOJ25Pu4H+vgkJaCPCGOYo5A3I58G88jHRzSkpA+4ihWwhC/I9/Fsd+RDFknjmJQQKQjP8C425EOWSOO4oGASEe+iobbkQ5ZIY5iVkCkI6/hlduRDrlDHMUlAZGO/D0W/I50CHEoiHbkM6j4HekQ4lAQ7cgrwFT0ea0DkhFIyKEh2rEJIH5fTUMyAiEOBlEO6xmA41iHhmQMQhwMohzWAYD1SIeGZA5I4YEoh7UB4GGcQ0MyB6RwQZTD+gGgEuXQkOy0viCEnTsziHbYQwvYinBoSCYgIQeDuB1LKHvhd2hIJiAhB4UIh/UWZY0YR9kVDskEhJyfhyE3hMOqoWzB69CQTECIg0BOhMOaQdnAVJzjN4VkCkIcDOJ1jN3EaUdxDgrJJIQ42F/L6Wjv4qxGlINBrmUaQhwM4nS0azhrJMaRBCEOAVGO9ogtELodSZDbxCEgylG3K+VRjnSIOTREO9p7dsk/ypEOMYeGaEd7ArZ2EeNoJUDCjiaB+ByLA/aTnzGOBAhxMIh2lH2FNRzhSIEQB4NoR9kwYG25HUkQ4mAQl6OO833zOpyQbhhCHByiHe13ON/QL5/DCekSCHFwiHZ0htDTkd+hIV0GIQ4O0Y436G3e7dCQLoUQB4VoR+cjehtY1g4NsfMPAgk6OEQ76vi3hnRoiDkIhDgYRDs6tcCnf4RDQ8zBIMTBINqxeRUXGhcOCTEHhRAHg0hHZxUXq0wLh4KYg0KIo/mBQJRjrIJA94RDQcxBIcTBIMrR2UOoyWnhEBBzUAhxMIhyjE0i2LhwCIg5JKTpgpwIR2cV4apPicMHMYeCNJ0Q4disgrSuHWU710Md9t6TGQy0TxzNL7dCbVPHWRtg9S//x71Ufa4mHPV+0Ob/dmfvKg2DYRjHnzFJl28IEm0TSOxgKSQqhFIErVIELe3g0A5dSk94gHpCEUQodbBQeg0Br9Q7SJP0O7zxdwf/8X3eHHVEXcT4zk/HEHGKB3np6AWIdZOTjmiJeMzJR0ebYYPLtzx09HxsdJGDjmiKzViFfkeHIYHiAfUOO0Aiz8Q7ohUSeqLd8YikdIdyR/sQiVnXdDtCCyl4b1Q7eh5S2SHaEc2R0hnNjglS+6TYMUZ6+hG9jqGODIwKtY6OgUxMh1ZH20RGZYdURxnIXvI/OgCzQqWjY2IrxhGNjqGBLemfFDrGOrZ3pr5jAi527tR29ObgxLtW2RF64MZyFN5RFjjSn5TdtYfg67mkZC9ZgbugomC/CiAAu/iRvItOGcS4fJC6U/sQht2UpP0/lgwiFauS/lEBROueSPhzdiGB3rwS29Fv6pDDPC+J67AbZcizf1oS02FP9iGXdn7Fv6Pf0CCfcdzi21F3DSjyUv3l1jF8KUAha9ri0VGfWlBu9+tju47waxc0FLzTVtaO+sQrgJK94+p72g575O6BIOa741rSjtrY9RkI0xbN2eA9rqPfmTUXGvJB82/dxmw0uK+F9ut6/WqHtfvB6LHh3vqCEv4AyXf+phg9q7cAAAAASUVORK5CYII=",yG="/portfolio/assets/gmail-90440ab8.png",vG="/portfolio/assets/dropbox-3e48151b.png",xG="/portfolio/assets/menu-09fb0dae.svg",_G="/portfolio/assets/close-eea95824.svg",wG="/portfolio/assets/farm-6281f123.png",SG="/portfolio/assets/hr_detection-f73a3d27.png",MG="/portfolio/assets/security_cam-cee1b69f.png",EG="/portfolio/assets/energy_monitor-c77afabe.png",TG="/portfolio/assets/Rad_Calc_demo-08cd9acc.png",AG="/portfolio/assets/portrait-9f0bf972.png",bG="/portfolio/assets/Vikranth_Vakati_Resume-fa965e4a.pdf",CG="/portfolio/assets/matlab-4806db20.png",PG="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAmVBMVEUAAAD1Sh/zUB70UB37SSP0UB30UB30UR30UBzzUBz1Th3zUB30UBz1UBz0UB32USH0TR71UR/2ThvzUB30UR30UBz2UB30UB30Tx30UBzzThv0UB3zTx30UB3zUB31Txz2Tx70UB30Tx31UB30UB3zUB30UB30UR3zUB30UB3zUBz0UBz0UBz0UB30UB30UR3zTxzzURz0UR6LzOHEAAAAMnRSTlMABP73B+H71e7oNeUcT/IPMRcT0kR0C+lnXy6bY8e+SDjbgSipaiLBz7mvs5aQo1iJPvOqfeAAAAZWSURBVHja7Z3peqIwFIYxLG4IBRVrHbW44FaXOfd/cdNnHqchAzSGxeTM5P3VX61fycsXT6Q1NBqNRqPRaDQajUaj0fyfRG6yXieBZeAmmM72XdO0F+draOClNV104M7k9NPASrSaEPiCtJctAyWtsQdpSP/dwEjr2oG/6GK8JtG4Axk6W3R3L//sQQ7dH8iSRDQHA7EHqFYX9TwDKuMZzxEbz3iO2HjGc8TGM54jNp7xHLHxjOeIjWc8R2w84zlm49PXA7XxwZzAHeTGBwcHfoPeeP/DhE/+AeODmQnwTxjvHh3ExoerNU2C2PjwAof1P2D82xEA5iP0xr/vCHwSD5Ab/7a7r6T4J2rjw+Mft8kOs/H+DL7AbPx6A19gNv5lkVpBiI1fL1LrB7Hx/iZrNFkkjPHefHY7X2J+JFue8f4Z8jiljN9sw/u12849oqjxrOes8Tn4P/aOksZTzzPEy9wBy8uJKGh8UtAT1Pgs4UE94/1ZUQ7a8VlCW7WO92+cVXJIjDyuJq9PRk+9JsmM8HphILS4KJ3XJ3qyPnFrIU4KJsPctp88z/iEnwNmvpHL0lan4yPqeTFjq+CXMAdVOj5aEeBzLbpLLFTZ1bsfBB5gUHTscIJPFDCe9aOYaevbINKNpzvzko74CyV29dEHzSF412Jll2x8NKY5OAxdI5eRDRRZHe+eBd7xTfMVWdFvIc14d+PA47QDIwdrRZtdlvHuxgQByEzRWX10c0AIh1lcykzuMp7z6Y+swtM5acaHNweEiceuaqdzwcWEEni7caLU6RzNIQjxFsad88WXbjy9Z4rTNu545iqSbLy1NaF6EBO8sS91Vh/S61EtCHi3UKLxITWzahAwN6E0432hHJwg4GxkGW+tPKgxCMgy3vrhQa1BJBnv0+tRUxA5xof059QXJGt8d3fcnIZmc8b7Hx40EIQ1frMZuEEYhsH7KiZ1G08/99pEENb4VuvrK3/s1Ws8/dxrE0Go8Vne9k7tu/po7EFDQajx2SQHp+b38a2VB40EocYXXBOOKP2BWJDpBJoLQo3PsnQ4xs/XIjmCBWkyCDU+C2+kSoTqZNqBpoOQS/7iWvPaPnZFTkCg8SDe1MhnDhymAiOsffNB+i9GPivgcHz8Fpx0mw8SB0Y+A+AQPy7J2mw+SLvo5fSAg6dYEKOAtxqDJPYTgkRGPj+Bw94SqJHmg9hJ0a0fOHw8Lrt1bj7IZGnkw731L43HuU4aD2KOjXxsgbMwLuGJNB0ENkH+Zgu+xxTb//4ckqaDdK55a90dck5dLq4hxMhuOgjMkxLHxvu16BvEXrfpIM6xJfDYHN3YiDLqNBwEyMUyWAacdWC/GeK0XiekmSCUxVs6Snj9fhWQ4UvJMaPddBAS30bu3Y7e9mR+7/miV3ZgOrAbCkJx7PlsPJ2+3k5tj7c16VGnxI1vLAjF8TqdjkmAwvVcgvFMkCr0eZ7zjVchCPW8LNbUViAI2TGelzVefpAh47kE44WD8D2XZTwNIs1z1nhJQYo9f3bHH4w7beDC73Npxu9ev1ZFbxyDGLTPa6T1XsJ4b+WmXoTVOzggjM2sKynGZ+ft4ZFU8VyW8U52bGMdHbFvsWeuhyTjL76RwT+CAITxXJbx7dwhwXtfgufVOn6b+yL8S+k+l2R8t2Bq8+oBRez9uRzjN2HBwCwu3ecyjC9+7MKdS+hzvvHiD8JEh0r79ud3fOG5/klCn1cx/lr4jJWEPq9i/LZgaYQLCX3ON1780aSXoYQ+r2J87BZ9pkIBz0WMd5YFh3pECc8FjF9YuTXSVsNz1njxJmmNJfR51cldZ1BoSPU53FONb48yV7EvYd9edldf/Ifio9VEyr69uvHEO4fM43+KeS5i/OQ8SoIgcJPBrKNKn5fseMee73b7CVGoz7nGS5+312W8AvP2eoxXYN5ej/EqzNsbPp1TsM8LjEftOWM8bs/TxqP2nDUes+eM8ag9Z4xH7TljPG7P08aj9pw1HrPnjPGoPWeMR+05Yzxuz9PGo/acNR6z54zxqD1njEftOWM8bs/TxqP2nDUes+eM8ag9Z4xH7TljPG7P08aj9pw512GMd5B5nvZkl0piXnBej9+st/GX5q+ugRjLnR5jz9t/LF1F/n9NeVrWJ+huuhqNRqPRaDQajUaj0Whq4hdsYbjYdZTV6gAAAABJRU5ErkJggg==",LG="/portfolio/assets/html_css-a67296dd.png",RG="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAolBMVEUAAAD/1gAAAAGIcgD91AByYAAFBAERDgH1zQAMCgH40AAIBwHxygAiHAH60gDlwAAnIQHXtADduQDHpwCPeAAYFAHqxQDuyADhvADeugDSsABEOQE3LgEyKQEeGQHBoQCdhACXfwBWSAArJAG5mwCukgCnjACTfABtWwA7MQG0lwBRRAFANgGAawB3ZAB7ZwBlVABfTwBcTQBKPQDNrACDbgD78nRzAAAAAXRSTlMAQObYZgAABM9JREFUeNrs0u9KwlAAQPHu3boyjOVQMxHUufxHQQS+/7MVCTnR7ENfzuD83uDAuZMkSZIkSZJEFJAMoTGExhAaQ2gMoTGExhAaQ2gMoTGExhAaQ2gMoTGExhAaQ2gMoTGExhAaQ2gMoTGExhAaQ2gMoTGExhAaQ2gMoTGExhAaQ2gM+Y9h1rYIV5WPw/VyNMq29ebl8JSHM5CQLLbdh0v5tF7tB+MixZj6vXnztls/hLaOhEzeB0U80+8120k46URIvpyneCnNqtNgHQjJq1WK143rn786ELLYx1+ljyoc8UMOTbxlNg3f8CHPTbwp7Y530UPK1/iHYlOGL/CQz/btbElNIAzDcH1tB5qdQdwQ13GL+zLe/61FE438IkhVKkxT1e/hWH3wTPc/jIh8qLN3+R+4JDkk+Mnet7IBSA4psCHM2gsAckPEnpH0w7QeDcI1OVmzFi7JDfHoyXLqLufg3Bz47F4ccVyTG/JBTlYjwr12V2OXNKdm4pbUkAG5YizxKLrulbN9/LMlN2TIEn0KPOKTBltPEj+RGzJiicYuErmbM3lzJTckJJcLF0RCGXJDyI70TOQkN2RGhr2OnOSG1FmyuIns5IYEOnlh3EJmckO8HnlBG3vISm6IfWQ0fx4IvExuCJ8b7ClnMbHxIrkhiHosVX81bCGV5BD3h8XS6c65iackhyBw2Ks0fyRAkh2Cmc5e59QCE4+kh+TcfnA2lbpl6o4yJVYvNHFLfghEjUhIRrc6t0wBk+4JrT/A76oAAb7WRqbEmZq4VA0IxLBrZe7JyAVQEQh4MO9lSfQRgKpAANObxlmSOlAdCMDtkfNa0nVRJcglMe02tDREn/KKQQBe3/bSlEOrchBAROm5978qCAFMb2NRiDbjVYQA5lynkq2oJgRujV7rT00ZIHyTDzE5UokVWfPpfQOkFQqQ3G0u5GNRfyGZaCyR3i4dwpexEYIk9vS8gzToabFAKpvMu9UpGyI2OmPOB5I1TwRyJrsVXodhh3R03INyIXZ9za4dPZ48Ow2WLEyw7w+iTHhqcMi0G6XuiFgejb8Pw3Dc41tGmuJe8ONO9FNjMiAz0ihzRrxFn93T4rnAn8xQp5DoDpzFVuazWfxI1vS88iDLTzKeRjxsc8CengzqsG7C9jEJ1NZUMmukbtSXBGnr7CnNaviOobGnYvxpazFSf5n8LNRnpHOJV/YNK1btPiA+e6q77DRbtt1sRzudkYwlLw8ifhZyGAFuzYzUHjrd8eF4up5R2jpAeRAMGkUgBxe3zB0rmLYxy4SYO429zUr8nRWngpB+hDIh6BQ4XMcWHkWNYpAFLxeCqPf2dzvg5A52IUksUDIE0UrLn/TQpKdx2H/vWHVQOgTezso9Iy3QzMm7TdT2Af8GCOyznuOw8Rxvj/MdC4/jOyBwl07WuZqbL+kbI9th1ciakt8hbh2LpdJPdZ51K2vct14qnH0AlAuhdcKVQxVx7vdBeBSO/SeL8Tmef/9Hb9yrz3anT91glu7/PISTD/FmQfNrWduv/csKzWj43X04+ZLkwTMuml67E3TaXrNl8iILTPvPiusS+/cSKSD/nIIoSKEUREEUJD8FURAFyU9BFERB8pMBolKpVCqVSqVSqVQqlUqlUqn+e78AuQubZyc2sJEAAAAASUVORK5CYII=",IG="/portfolio/assets/it-b55479b7.png",DG="/portfolio/assets/math-7826523c.png",kG="/portfolio/assets/python-540ff4ec.png",NG="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAACIlBMVEUAAAAAf8wAU5wAf8sAZ7MslNQAfssAfMgAZKQAescAVZ8Hg80bjNEEgc0AfskTiNALhM4AU5xVqt0AfMoAY64AZbVisN9NpdtGoto7ndcAeMURX6QAU50Af80AUpwAU5wAU50Af8kAf81Rp9wAdcEAX6kAWaMCV6AAf80Af8wAf80Af8wAdsYnk9QAb7oHWaAAU5wAf80AU5wAUpsAfs0AUZ8AUZwAf78AX58Aa7cAZrEAf80Af8wAfswAfswAgM0AgMwAVJ1qtOE/ntkvltUikNIPh89Pir1Lh7tDgrkudLAgaaoYZacAW6UAUp0AfswAUpwAUp0AU5wAU5wAUp4AVJ0AUp0AVJsAVZ1rnMcAcr4AaLQAfswAgM4AgM0Agc8Agc1brN4zmNZhl8RTjb43erQnbq0aZagKW6IAU50AUpwAUpwAfs0AU5wAgM4AU5wAfMkAUplKpNoyl9Vun8kAe8gAf8xsteFZkcFUjb5LiLw8fbUAfssAcr4AU5sAUJ0ogL/+/v5/v+Wr1O79/f7V6fby9/v1+fzq9Prd7fjZ7Pfp8vjQ5/Vxt+L5+/3v9vu73PGzzuR1uuPB3/K42++n0uyPxuimxN7a6PKz2O/P4O7z+Pzk8fnl7vZ6vOR1pMvJ5POfz+vT6PXW5fGl0ezC1+mAv+WsyOB5psyWyumVyend6fLJ2+u/1ui70+a60uacvtqPtdWNs9SAq8/R4e6IwuZPcX4cAAAAgXRSTlMA/v5AQP7+/gT+/v7+/hf+/tn+/v4Q/v7+/v7++vb27nUvJP7+/v7++u/ogAz+/v7lz7+qoB4WCAj+/uDZtZd4bDf+/v7+/v7+/v7+/v7Ov5+WfmpgWEQuJP7+/qpeVUtD/v7+/v7+/v7ItY2KhWRPPCj+/v7mxv7+/v7+r5dAPP5J675YAAAIo0lEQVR42uzYS08TYRTG8XmibSHT2qbEXhYsbDdg7YIE46KgyG3rF+AirI0xGHXj5tChF2iB9JY0EAKEkOinFG01Gtp3zgtzOh3T3zf4J32aM68xMjIyMjIyMjLiXS8eLGQyC08Mj3ucmcYvuYUxw7vGFp7ij7lNw6s25/CPN978gT15g1tmHxle82gWvUxmnhle8iwziT6evvfO6sfWn0Jh5q3hDW9nYGPeC6tPzcPe1MthX/2jl1NgmX71whheL15Ngy23bgyrjRy0zDwwhtGHz9D2NWUMm9QabvHg6h+/m8Qt3lt958i9s7kNYzhszuGePn8w3Hdz5DpgTWz1/CPXGZPvHhsS+EeuY6b1Poalj1wPrl515PK5/jGcmoeIWc7qZY9cD65eeeTyuf4xvJGDCNYTmPyR67HVd49ceVNaT2DyR244m0zEo9F4IpkNg43/BCZ/5Ia2Y632fpH+Utxvt2LbIddXzz9yQ0vX9SL1UaxfLyliuE9g8keumb46IhtHV2kTauonMPkjN3lRIJbCRZL9MTzwI9eMVUhDJWYO9GN47D1v45HaAWk6qEU0n8Dkj1yzWqI7KFVNnScw+SM3XaY7KqeZq08N4MhdadA9NFa4q5c+chdP6F5OFiG5+vUcWILHdG/HQbDkNvT/cufBkyiRA0oJ8MyOaXbMgOfMIkdYZ+BZM7SsgcVskmOaJlgyhoYHYAnXyUH1MDimdK6vr7yZX5KjLoO8mWhcJZOsjjI5rMwq+WSwpbgd7pQ8d3Qi4UsScMnZyWsnQyJ1ElE30YPfj788dDKkSUKaigyBkDMSc9YnQyQkYZEYK/FPxoQfciHBEgkqBW9lSIUck6hjdAUmAMmQRRK2iJ8mAoBoyMoJCTtZAfwBP4RDGiSu0cmQDUmTnkJ5b69cIC3HEUA6xCwTl1VpbS1H8EtkeatVsYhlPw7Ih1SJ6fzLrQswWD0nW0fVEAYQEikRh9X8iJ4+Ni1Ssb6FgUGE1IijnUVf2bZqHD5gICHmAdk73YHSziljHMIhMbKXX4WN1TxjHLIhFft11MBQs1TjkA9Jkp3DNFjSh4pxyIdc2HbEwRQ/VIxDOsQskJoVBVvUUoxDOCRNNmrQUFOMQzjkitTy0JJXjEM0JHRESqer0LJ6qhiHZMgSqe1AU6IWghsh16TUhh7/+ATgSkidVKwstIwHAHdCQkVSaUJHYBxdi7sdS+ghutsRdTJkm5SWwTcx7sdve9Sxix7y1JF3MiRGKuea43AxpEUqVa1xuBrSVk49qDEOl0P2SaHCzfDD9ZAiKbR44wgAroeESWWLOY4hCMmSyrLuOExf1z51fPd1rOCGr6tBHQ1flwMhSVKJ6I7DR33s4Qb140BIghQKjHEMS0icFMq24xiekCgp7NmM4z8I+dHOnf0mFURhAJ97HgCJGxFM9BLgAeFFxUBo0DcSI2WRtGAr6GN3G6NGjVtcJhI0YlSeICgS05g27uv/J7hkrCPcc5cpQ8LvvQ8n6ddvmDNlmzt0WK5BDP1q7TnrBICTQZkGMRL2w2H45cB+eQbR/+c3eBIYt12WQbCFyMIBmzjP2uUoRPwRhYVjs/BhmwxHFOyhkYWDFzojwyDoYzwLB+9AcPiDID5Y8eHguXt/wEbgoy4XDt6xXuolv3ywsXAM4DxqMzGI6Ougyywc2kKHTQwi/IJuvxvwTgZNXNCJvTK95wQsdmyR8RK7Dnq5TyiKjGuFSdBpsvpyt6LIt+hpq6CL2qb0xd4diiLd6m0ddFmnPY97jzFlW4Z2QIcO/e3ZcUWRbT09D2jzFfZjr7YrimQPBibRQX9C//Lg+wlFkesJxw1AmX9CN3t4rZt6qR7VdFD5qFDOo259S/XMaV0FDep6n4PnPkWR6eFZe1IjHm3az/1DiiLTU8D6IvS1WB+YsTe7FEWmx5mNDPxXplGhg/WOLVI9l31XXoJ/LF15RxHYsUXgIPvdTYpVaX2+nlmGn5Yz1z+3KhTp8T7Bg9iPAaSoPk/frq29fUr1SR0IChzEdtQJXXUqXJ3dtggY5EwIfspWqWDVLHQ5j9lFDLL/APxRpoKV2W2L+UH4cDAfqFAfudsWM4Pw4WCWalSgWo67bTE1CB8OJi3y3/fS3G2LyUFYOHgbVJgN4Ljt5gZh4eA1qCANAJ7z7B4zg7Bw8CKvqRCvI8BwSyK9g1zkwsFTv1EBWir0Ezqjf5CdfDh4uSa1XDMHHG5JZIsTtKt8OHjZpuVzZGEw9zb2VQkot1k4Bsi1qKVaOdDSO7bcJnilEGCory3NuQqoJVGJ6BAAlEiDWqYRAZQA0WUVcDYqFvX5BuCsEp0CPkBJ16gFamlA8QWIbvEYoCx9oKZ9zAFKLE6MSK4ASrlKTamWAWUlSYyacQFGtk5NqGcBwzVDTEgE/ICRahouwRRg+AMJYs7EtBcQwldqhkJ+JQwI3ukJYt6lc4Cx3GlTndqdZcA4d4lYYzaPq8e5FtWhNYerwPwssYzj1BFAWfiE/VLWTwuAcuSUg1jp4HlkQUZSjYdUw8NGKoIswPMHidXiU4DkvPX1/XPax/P3X285AWkqTkRIRgEtnJn7Ul/b/FXSa/Uvc5kwoEWTRJQLLtBHXVxI37wxfzO9sKiCPq4LRCAHK0ix/AEHEcvDClIc77SHiFeKgWCxEtkad/IgUP4O2TqsIPGwBUi2VKLgAwF8hQTZahNTlqfeOzVBhuF0FCwVPU1MEFeQUhWgFkfRb1EBFh1kuDyrPgsyvuohw1eKjUwBarm7Aias3CXymDliuABniFQSBb+hjHcLUDbdghyVAtQuyJEpQC2zLkBzzRKJOYpHkBkfegFq8Zz3YW55ZChA84uVWJyMhmRU45ZndPRfrLgkK0CDixV/QL4CNLBY8U7LWYDoxQpbc4yqvxcreakLUHux4vqd8VOyF6Cm08VCoSjvqWpsbGxsbGxsbEzbDwZInXmYCaUYAAAAAElFTkSuQmCC",zG="/portfolio/assets/windows_linux-1602d0d6.png",OG="/portfolio/assets/wiring-6bbb192e.png",FG="/portfolio/assets/embedded-f639ed23.png",BG="/portfolio/assets/spectral-dcf47133.png",UG="/portfolio/assets/image_processing-6c82bd98.png",wT="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG8AAABvCAMAAADVG25SAAABjFBMVEUAAADjHyf////////kHyfjHyf////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////jHyf////jHyb////jHyfkHibjHyfkHibkHifjHijkHyfjHynjHSnjHyfkHifkHSbjHifjHifjHicAAADjHyf/////wg4qBQcPAgLbHiUfBAXzuQ2UFBnstA2gFRvWowyuhAmSbghpUAXPHCO5jQqlfgl5XQcwJAIcFQENCQEJAwH4vQ48CAp1WQYVDwFzDxNjDRFTCw7LmgslHAK9GSCIExdICQzQngtwVQYYAwTXHSXEGiGzGB6eeAk1BwmFZQdaRAXIGyKpFhyAERXElQtRPgRGNgTfqQzUHSRBMQQ7xy4rAAAATXRSTlMA7xHYzNMI4zYG7R74RcGxLOmDP7eZ+qZmTgz0I9B9bhvLxndZFZWMYdNyGPHevKuhiFVSSmsnkDE7+Z6cXa1jwUs6KH8VDIpxHOHIuPul1/QAAAoKSURBVGjetNRJb9pQFIbht7Zkg40HsB0wpWYKZQgzJCFCSN138f3/f9NeqnbThDL1Wdzd1Ssd6RwuE8eAO4POl94TLDP+m05eizxFQKgWI2mDrwjD8bm7hn6yszUwVE7d04qD2oCTVeS9Nrmb3QqI6+262hhrFVSX7pxMMbCQW3c1525SBRgbLTFaWsQ6LKbYLpDIHVDuKeAOrOcn2CrF8GVz5NkTPfX1duzvVQAT9QGilcUNHE/VAGy9YLiyMFKFYxItdABs7YDasRdIXt/hepmk1/KzvmJECjBq0itNPagDeCoDPeVAV3tXts81dj4Qy7PVjb2pBVCowMilLYw1BrDlQ0ueA2uNcYZacoV+JQQIlaeq9jQBCBRhNNcHB4JJAFCoGwRfVANs88YKuZgfyk0AckW0K9IMwKqP+Eu5rp8iYCQpXM9NtJmWuMCjp6WFAzCTT8k2A/zQW7HKTXimx0ySbUH+UBlxvlApBG4ATDSE5nDDP7U1J9aXgwWQVJWVOZfvaTNUpQFYU6/JWZ69EiXVObJmUq/DGV4AHiWNYxhAUTQ5jwPJ716qdK8x/xZUAoC6XAcnqz5xkVJliVHTzKIRnPXDtQDLVaNkq+tzGX8DkOvzjjP1FQEk+vygGld58XTgl0mJE6yhD6lGACuzgVexbA05Kmdyyyf3oDIcDNypD5RrTa7j7EOOrLm8hBO+qqppsVXIbRyMli37hVMc2817cm31uV3iSXuALe9q1xxKD0s2Y6la5laNB301d95ZqME7Wp/lPlJoDSM74VZWVW0GMzW6cne8p5NJvVLodbiLZAvEU6nb4QNxJIVKuZ/tVAuHj731JOXcS1t65bRgHPHHt0+X+84fDf1gvmx/kwbCAH4DHa9jY+IQGbIpLDh8+cCG4oyGxUQT5e5hrOkoVWgLo5vF2apjTIPynwsRsnaQ45pA4u9j++GXe+55O5YpaErNG9g+N03lFWLKO7Pv+MAeF30fHbqvWLBH8T/17S+8yM/Nl19Y2EdWXmL8fm6+Dxi/QlZeY/x2br43GL8bC2ge0X1yR6hIEwxSRejIdB/K5+3li9I2Khz0qYoVyeISq9CHqxhtdZb52YURnGLyKRyM0GZaD00YIRTMVGFEc6Y+URc/AUC5Vm1bfG2hWQaArqiJzL5sYrrP4OR+TDmlrl07n64oPHQLMk87n3Xxure5Md0HnKYDJ/Bj8eQFDnSNo8Zzyfv0zjrypZaGSyBxbkUiyzTfHwC+B1wZoGPx1QDKHPR4gN8UnycedhEvGW6lMXfitouQMLX+elCWJVWARsvikxsgqJJchl6dfn8+18NE0rwtuVJUn8QDL+vQuCxYuWyALvf/SfR+nXXFksjCbpreX1Sjpoi18QbTqon1mqHS+4sjuOmwPY8MrV2YREVrTp1HoSvdXQ+jTxFNd2f63hJVO/NvjZBgLLS3YWfeHh7hX4d25+1KbiczyJxcJr7nJys2fKcljHHpxI4vvrtI/MPVNre85kwhZt/FF/yPH8fMvkWyjR7d2hk8BiMBEoiw7y8HZ/iKo2+MPp8Xoe115E+j5yS6lXH7PIy+zx+xme+nbD4HGeSHmzhQNhQLEkKiTL7iOb7OeZHp/u4/Xl0NR5+MwutIM/jqJyU8gbM6gy/5zBkMPPDYqfevP/Fk/tZq5k9NA3EUfyTapm3a9ExDQ+/SFgqFVrDiAV6oqGRRmA6MWv3Ba2C8Bm9FGf3H3RXF1N2lLeJnhjBN2rzJ9vu++zbpva2jz7vMci6+7XR9j+tr/evlAM+5Uq962XztuGhvL9/ecb2mZuxXT/E3YRDTkOm5LefynXinXC81bsQrGoCSnVJIVSPyfia4FNlFy/VCfqPupaaHpVILjihEk+l1W667b263u77UTaleTA8AKNoKwsRKTsDSFYne2mdJKfJFy8wo0auqe64PA1FizkIpQaz3YlVkNakpV9tiPY2cAFDSU8zsHrkfZK1E3nTEeigTb6jgvt9Yk+vxrVLWVOV6iFWmpodd8UWV6/FTAT9piPXknCLivCSZ6nbv7nKTYv96nlg0RJrgucFZjga1r8++brC1BP3/1LX/d90cQw+iIZ34jbEyeG5ylmNrMH5t5u6w5yEj6AUjbmTDwPgYeOaZ5V4ud/NuX+/+32ZkdTMPnlAj5gMqdXfAFjnwLO1St5f/4sNG5xEVe9TZ+MCb0XHOgkNJRogdz6pF9GDBWRfl22WW4J8tf7nDH1x3FiAiXKz/lQE9FjguOW8EeiudB69WNp50VgR6z52LkJCagZtRPQaOIec9d8ondCxXfv49EMTBIfRGAcLlCZIU3Tlp8ysUugb7/uQ7Xbrzq5e26C5OuJy0FLiYbIRIJBoMgWPptMOH2ge0Mh/eF13eY+f0Et9K9DQ9vdveDZK3PBByzbnHLxQ+djpPO52P3P7tT85lcBhJYGTK1Fxe0GtgjKbAcd75RAU5xQ+cGjX8G6HZvRYohVb3Mz9GOgqOK+ed11vcqXc7u9y+l9+cY4vgiecVtm2Bo6mPCATnXXlPDutm81fET8v80bmsqfFlmiCG0PVDzuqLtYPVaA4YWoCY2rRN7FnB89eJhhmEgMWzp2lSuCW/CdledU6fXYSAABieEa4cY2PkTA3lMoRcoorO58dCtcfrDlW7BBE+b7wGETmzoLHjkLF4echxnm/xVfJWqsbQ1MiM+IBrBMRcuXbdcT5tdkW0LTqtD11ehJxUgrR8kOJL+BVIWThOc9PO9u/Usknnu+vXrshDSsFIRK2EmT8JCUpdP4eDuHCehcw1VpI7qzQ8LOAAGmTCGGOr2SDEBNTIHHpwcZ4pvmxTtfmLOJiqnR+BLxCWPk5VmeEz0+DgipUrEiGBwoQFKScIlfMlez+9Xbp6/eoSDiY5DYqvQsqQoZFTGC3YJ5gv/pnSL6FgE1KSkXLEqwFITHnwr8ySDHrga6TLCign1XQAh0fJDwPjhGTRLwlCr/PwTOnBot6skGrfY5FN+FM4NJ66aQeB6RD6ImaWgREcimA5Mwqk8pGTTBf9EIiEfKD40tGBC7VoxlWqByXt7bcCUqqqgJExI+oMBmLULGGP3GQGfTJ+EoyAXVFa5iwGQSOBfWkMSJK0Ugj3+zFfs26xlF5kXq9icGIk4fWe6HccG35/hVXYGZtuQwkMTjoPT7SEPginUNN/dSRF9Ran9FMYmFreznjgIluoW/woauOGnwSB5GSu+LNF5KZVQ8NhqEYmXR+M6pXGRIt5ajg4pyn79ZEmiRyAOULUrIJ/QmkE/pjEjgKW7QHCJJ+ejO2/B2NnwEgXAF8YR8UwCbNNbu+ut5uECoZFYtHIGI6KWfNnA/Cxuh2vDndNdLVfv/VViwqOihlm5LQBIEjSk+7ryJE905yL4Qjx5NVM3NbYyEbQjbeF/4ASrRtzoDRVdJMt4X8yM4XD8wOBQFIrfD/KMQAAAABJRU5ErkJggg==",VG="/portfolio/assets/delta_magnetics-99e66a46.png",HG="/portfolio/assets/bodkin_design-46b8f669.png",_c=[{id:"about",title:"About"},{id:"work",title:"Work"},{id:"tools",title:"Tools"},{id:"contact",title:"Contact"}],GG=[{name:"Python",icon:kG},{name:"C/C++",icon:NG},{name:"Embedded Systems",icon:FG},{name:"Mathematical Modeling",icon:DG},{name:"Spectral Imaging",icon:BG},{name:"Image Processing",icon:UG},{name:"JavaScript",icon:RG},{name:"Web Development",icon:LG},{name:"Electrical Wiring",icon:OG},{name:"Information Technology",icon:IG},{name:"MATLAB",icon:CG},{name:"git",icon:PG},{name:"Windows/Linux",icon:zG}],WG=[{title:"Embedded Systems Engineer",company_name:"Bodkin Design & Engineering",icon:HG,iconBg:"#383E56",date:"May 2025 - Present",points:["Design software for image acquisition, visualization, and control.","Integrate optical components with detectors and electronics.","Investigate areas of new research and development."]},{title:"Master of Science",company_name:"Wentworth Institute of Technology",icon:wT,iconBg:"#383E56",date:"Jan 2023 - April 2024",points:["M.S. Computer Engineering.","Concentration in Internet of Things."]},{title:"Electrical Systems Test Engineer",company_name:"Delta Magnetics and Controls",icon:VG,iconBg:"#383E56",date:"January 2021 - January 2023",points:["Wired and assembled control panels following IEC standard schematics.","Conducted visual, point-to-point, and operational testing on systems to ensure functionality.","Deployed over 1000 control panel systems, adhering to quality and functionality requirements."]},{title:"Bachelor of Science",company_name:"Wentworth Institute of Technology",icon:wT,iconBg:"#383E56",date:"September 2018 - August 2022",points:["B.S. Computer Engineering.","Minors in Electrical Engineering and Math."]}],Pl=[{name:"Spectral Radiance Calculator",date:"July 2025",description:"Interactive web-based tool to compute spectral radiance using Plancks law, designed for scientific use. Features real-time plotting, peak calculations, and band integration with a responsive layout and intuitive controls.",tags:[{name:"JavaScript",color:"yellow-text-gradient"},{name:"HTML/CSS",color:"blue-text-gradient"}],image:TG,source_code_link:"https://www.bodkindesign.com/reference-library/blackbody-spectral-radiance-calculator/"},{name:"Optimizing Power Generation",date:"March 2024",description:"Real time energy monitoring system designed for administrative use to monitor power trends and optimize power generation. Implemented using a Raspberry Pi to aggregate data from legacy and modern systems.",tags:[{name:"Python",color:"green-text-gradient"},{name:"JavaScript",color:"yellow-text-gradient"}],image:EG},{name:"Web Enabled Security Camera",date:"February 2024",description:"Security camera using the ESP32-CAM microcontroller. The system is capable of motion detection and has live streaming capabilities over Wi-Fi. Designed to be low cost with secure data and high reliability.",tags:[{name:"C++",color:"blue-text-gradient"},{name:"ESP32-CAM",color:"pink-text-gradient"}],image:MG},{name:"Optical Heart Rate Detection",date:"April 2023",description:"Non-invasive heart rate detection algorithm utilizing a standard 8-bit RGB webcam. The algorithm employs signal processing techniques to analyze frequency domain changes related to the cardiac cycle, achieving a robust 95% accuracy.",tags:[{name:"Matlab",color:"orange-text-gradient"}],image:SG},{name:"Real Time Farm Monitoring Network",date:"September 2023",description:"Offline mesh network to monitor vital information on farms. Data is sent to a server node which displays all information in a web interface. The network is designed to be low power and low cost, while still providing reliable and secure data.",tags:[{name:"C++",color:"blue-text-gradient"},{name:"ESP32",color:"pink-text-gradient"}],image:wG,source_code_link:"https://github.com/vikvakati/monitor-soil"}],jG=[{name:"GitHub",alt:"github",icon:mG,link:"https://github.com/vikvakati"},{name:"LinkedIn",alt:"linkedin",icon:gG,link:"http://linkedin.com/in/vikvakati"},{name:"Gmail",alt:"gmail",icon:yG,link:"mailto:vikvakati@gmail.com"},{name:"Dropbox",alt:"dropbox",icon:vG,link:"https://www.dropbox.com/request/7N80WimUb1gfvzObQCHl"}],XG=({onActiveChange:n})=>{const[e,t]=G.useState(""),[i,r]=G.useState(!1),s=G.useRef(!1),o=G.useRef(e);G.useEffect(()=>{o.current=e,n&&n(e)},[e,n]);const a=d=>{var p;if(d){const g=(p=_c.find(y=>y.title===d))==null?void 0:p.id;g&&history.replaceState(null,"",`#${g}`)}else history.replaceState(null,"",window.location.pathname)};G.useEffect(()=>{const d=_c.map(y=>document.getElementById(y.id)).filter(Boolean);if(!d.length)return;let p=!1;const g=()=>{s.current||p||(window.requestAnimationFrame(()=>{let y="";for(let v=0;v<d.length&&d[v].getBoundingClientRect().top<=100;v++)y=_c[v].title;y!==o.current&&(t(y),a(y)),p=!1}),p=!0)};return window.addEventListener("scroll",g,{passive:!0}),g(),()=>window.removeEventListener("scroll",g)},[]);const u=d=>{var g,y;t(d),s.current=!0;const p=(g=_c.find(v=>v.title===d))==null?void 0:g.id;p&&((y=document.getElementById(p))==null||y.scrollIntoView({behavior:"smooth"})),setTimeout(()=>{s.current=!1},500)},f=({isMobile:d=!1})=>ae("li",{className:`${e==="Resume"?"text-white":"text-secondary"} hover:text-white ${d?"font-poppins font-medium text-[16px]":"text-[18px] font-medium"} cursor-pointer`,onClick:()=>{u("Resume"),window.open(bG,"_blank","noopener,noreferrer")},children:ae("div",{className:`${d?"px-[2px] py-[3px]":"p-[2px]"} rounded-lg blue-purple-gradient`,children:ae("span",{className:`p-[2px] rounded-lg ${d?"black-gradient":"bg-primary"}`,children:"Resume"})})}),h=(d=!1)=>_c.map(p=>ae("li",{className:`${e===p.title?"text-white":"text-secondary"} hover:text-white ${d?"font-poppins font-medium text-[16px]":"text-[18px] font-medium"} cursor-pointer`,onClick:()=>{d&&r(!1),u(p.title)},children:ae("a",{href:`#${p.id}`,children:p.title})},p.id));return G.useEffect(()=>{const d=document.querySelector(".handwriting"),p=(d==null?void 0:d.querySelectorAll("path"))||[],g=()=>{p.forEach((y,v)=>{const w=y.getTotalLength();y.style.strokeDasharray=w,y.style.strokeDashoffset=w,y.style.animation="none",y.getBoundingClientRect(),y.style.animation=`draw 1.5s ease forwards ${v*.15}s`})};return g(),d&&d.addEventListener("mouseenter",g),()=>{d&&d.removeEventListener("mouseenter",g)}},[]),mt("nav",{className:`${ci.paddingX} w-full flex items-center py-5 fixed top-0 z-20 bg-primary`,children:[mt("div",{className:"w-full flex justify-between items-center max-w-7xl mx-auto",children:[ae(M5,{to:"/",className:"flex items-center gap-2",onClick:()=>{u(""),window.scrollTo({top:0,behavior:"smooth"})},children:mt("svg",{viewBox:"0 0 274 135",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"handwriting w-32 h-15",children:[ae("path",{d:"M42.4858 46.3208C44.4644 42.779 46.3209 39.3971 47.4459 38.447C47.9249 38.0425 48.6998 38.6769 49.0065 39.8191C49.3132 40.9614 49.2516 42.8176 48.5395 45.4788C47.8275 48.14 46.4668 51.5501 40.8776 60.9856C35.2884 70.4211 25.512 85.7787 19.0085 96.485C12.5051 107.191 9.57107 112.781 7.45765 117.496C5.34422 122.21 4.14036 125.881 3.92614 128.361C3.71193 130.842 4.52383 132.022 6.66949 131.757C8.81515 131.491 12.27 129.744 39.4204 109.642C66.5709 89.5396 117.312 51.1349 143.715 31.0883C170.118 11.0416 170.644 10.5166 170.073 10.5192C169.501 10.5217 167.816 11.0677 152.176 19.0718C136.537 27.076 106.995 42.5218 88.9874 52.5534C70.9802 62.5849 65.4032 66.734 61.0324 70.5659C56.6616 74.3979 53.6659 77.7869 52.0247 80.7443C50.3835 83.7017 50.1875 86.1249 52.2395 87.7763C54.2915 89.4277 58.5974 90.234 77.0286 86.599C95.4597 82.9639 127.886 74.863 161.175 65.4341C194.465 56.0052 227.635 45.4938 261.811 34.6639",stroke:"#3781E5",strokeWidth:"6",strokeLinecap:"round",strokeLinejoin:"round"}),ae("path",{d:"M172.054 33.7722C172.212 33.215 172.369 32.6579 172.467 32.5055C172.564 32.3531 172.596 32.6222 172.531 33.0777C172.374 34.1795 171.577 36.0048 169.025 40.567C167.11 43.99 163.619 49.4793 161.553 52.7587C159.486 56.0381 158.869 56.8945 158.67 56.783C158.47 56.6714 158.706 55.566 158.95 54.4271",stroke:"#3781E5",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}),ae("path",{d:"M177.395 22.9074C177.244 22.7502 177.093 22.593 176.9 22.5742C176.708 22.5555 176.478 22.68 176.261 22.9466C176.045 23.2132 175.849 23.6182 175.606 24.3745",stroke:"#3781E5",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}),ae("path",{d:"M185.692 26.6153C186.061 25.6847 186.454 24.8985 186.84 24.3612C187.012 24.1222 187.181 23.9862 187.223 24.0557C187.265 24.1252 187.186 24.4132 184.839 28.6795C182.492 32.9458 177.879 41.1818 175.427 45.6471C172.975 50.1125 172.825 50.5577 172.946 50.6562C173.371 50.9995 175.295 48.6794 179.175 44.2431C181.676 41.3838 185.104 37.1583 187.718 34.1873C190.331 31.2162 191.988 29.5939 192.625 28.7808C193.262 27.9677 192.83 28.013 192.194 28.4092C190.621 29.3901 188.816 31.5758 186.296 34.9809C184.754 37.0654 183.042 40.1328 182.026 42.1049C181.009 44.0771 180.833 44.9272 180.991 45.5645C181.15 46.2017 181.648 46.6004 182.457 46.8221C183.267 47.0438 184.374 47.0765 185.449 47.0217C186.524 46.9668 187.533 46.8235 188.573 46.6758",stroke:"#3781E5",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}),ae("path",{d:"M197.191 32.1259C197.191 31.9234 197.191 31.7209 196.067 34.1022C194.944 36.4836 192.697 41.4548 191.428 44.1692C190.159 46.8836 189.936 47.1904 189.936 46.9794C189.936 46.7683 190.166 46.0301 190.71 44.5671C191.254 43.104 192.106 40.9384 193.93 37.3404C195.754 33.7423 198.524 28.7773 200.636 25.3984C202.748 22.0195 204.118 20.3771 205.164 19.3317C206.21 18.2862 206.891 17.8876 207.366 17.757C207.842 17.6265 208.092 17.7762 208.178 18.184C208.264 18.5918 208.178 19.2533 207.931 20.1663C207.684 21.0793 207.278 22.2237 206.86 23.4028",stroke:"#3781E5",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}),ae("path",{d:"M216.987 23.8791C216.953 23.5257 216.92 23.1723 216.634 22.9312C216.349 22.69 215.812 22.5718 215.185 22.7272C214.558 22.8826 213.858 23.3153 213.087 24.0254C212.316 24.7356 211.496 25.7102 210.579 26.938C209.661 28.1657 208.672 29.6169 207.737 31.2581C206.801 32.8992 205.949 34.6862 205.272 36.3916C204.594 38.0969 204.116 39.6664 203.971 40.8836C203.826 42.1008 204.029 42.9182 204.439 43.284C204.849 43.6498 205.459 43.5391 206.464 42.8866C207.47 42.2342 208.851 41.0432 210.195 39.6085C211.539 38.1738 212.803 36.5314 213.956 34.8842C216.192 31.6895 217.512 28.9705 218.075 27.1989C218.312 26.4529 218.284 25.9694 218.084 25.766C217.884 25.5627 217.47 25.6419 216.962 26.0519C216.454 26.4618 215.866 27.2 215.372 28.0512C214.879 28.9025 214.498 29.8444 214.355 30.7811C214.212 31.7179 214.317 32.6208 214.709 33.4136C215.1 34.2063 215.774 34.8615 216.698 35.2443C217.622 35.6271 218.776 35.7177 219.965 35.811",stroke:"#3781E5",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}),ae("path",{d:"M224.273 29.7479C224.81 28.7267 226.082 26.6174 226.367 26.5701C228.037 26.2924 223.205 32.8095 221.854 35.3733C220.503 37.9372 220.326 38.2189 221.601 36.1852C222.876 34.1515 225.609 29.794 227.796 26.5582C229.984 23.3224 231.544 21.3405 233.041 19.6882C235.796 16.6488 238.031 15.0536 239.152 14.4027C239.587 14.1501 239.796 14.1379 239.809 14.321C239.822 14.5042 239.644 14.9041 238.544 16.9839C237.444 19.0637 235.427 22.8113 234.139 25.3669C232.85 27.9226 232.352 29.1726 232.046 30.2121C231.74 31.2515 231.641 32.0426 231.539 33.2158",stroke:"#3781E5",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}),ae("path",{d:"M253.759 8.61277C253.759 8.33861 253.759 8.06446 252.872 9.84671C251.984 11.629 250.208 15.4759 248.746 18.4091C247.284 21.3422 246.189 23.2449 245.048 25.4745C243.907 27.7042 242.753 30.203 241.565 32.7775",stroke:"#3781E5",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}),ae("path",{d:"M241.885 24.1345C241.675 24.0301 241.466 23.9257 241.377 23.7738C241.288 23.622 241.327 23.4258 241.776 23.1021C243.006 22.2153 245.435 21.2345 248.484 19.9697C250.066 19.3451 251.717 18.7553 253.095 18.3766C254.474 17.9979 255.528 17.8483 256.615 17.6941",stroke:"#3781E5",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}),ae("path",{d:"M266.107 3.85678C266.336 3.01922 266.566 2.18167 266.212 3.42845C265.859 4.67524 264.915 8.03174 263.281 12.1874C261.648 16.343 259.354 21.196 258.032 24.0627C256.709 26.9293 256.428 27.6625 256.397 27.9452C256.367 28.228 256.597 28.0381 257.682 26.5468C258.767 25.0556 260.7 22.2688 262.279 20.1792C263.857 18.0896 265.023 16.7817 266.181 15.6207C268.383 13.4122 270.349 12.0155 271.584 11.3696C272.046 11.128 272.283 11.3072 272.26 11.7215C272.237 12.1358 271.976 12.8425 271.248 14.551C270.521 16.2594 269.335 18.9481 268.541 20.9576C267.746 22.9671 267.379 24.2159 267.18 25.1045C266.981 25.993 266.961 26.4835 266.94 26.9888",stroke:"#3781E5",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}),ae("path",{d:"M140.129 81.0689C140.297 80.664 140.482 80.1611 140.639 79.6109C140.711 79.3585 140.71 79.1461 140.445 79.1757C139.587 79.2714 137.451 81.3904 134.505 84.476C133.148 85.8977 132.224 87.1693 131.256 88.5683C130.288 89.9672 129.344 91.4914 128.563 93.0424C127.047 96.0556 126.338 98.9849 126.045 101.064C125.934 101.855 126.173 102.138 126.648 102.162C127.122 102.186 127.895 101.951 128.991 101.159C130.087 100.367 131.482 99.025 132.964 97.3886C134.447 95.7523 135.974 93.8621 137.364 92.0182C138.754 90.1742 139.959 88.4337 140.905 86.919C142.588 84.2217 143.382 82.1285 143.61 80.8373C143.701 80.3197 143.426 80.0504 143.103 79.9515C142.779 79.8526 142.335 79.9242 141.899 80.2265C141.463 80.5288 141.049 81.0595 140.639 81.856C139.72 83.6434 139.23 86.2621 139.028 89.1274C138.93 90.5041 139.238 91.7374 139.765 92.7571C140.292 93.7768 141.13 94.5489 142.096 95.0347C143.062 95.5205 144.13 95.6966 145.231 95.878",stroke:"#3781E5",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}),ae("path",{d:"M162.049 72.1896C162.14 72.0714 162.231 71.9532 162.234 72.0558C162.238 72.1583 162.153 72.4853 161.493 74.1195C160.834 75.7536 159.603 78.6851 157.731 82.501C155.858 86.3169 153.382 90.9285 151.939 93.5104C150.497 96.0923 150.163 96.5048 150.659 95.7521C151.155 94.9994 152.492 93.069 154.045 91.1395C155.598 89.2101 157.326 87.34 160.006 85.0254C162.686 82.7108 166.264 80.0082 168.225 78.5116C170.185 77.015 170.42 76.8062 170.342 76.6201C170.263 76.434 169.864 76.2768 169.363 76.3297C168.862 76.3827 168.272 76.6505 167.116 77.865C165.96 79.0795 164.257 81.2325 162.642 83.5778C161.028 85.9232 159.554 88.3956 158.65 90.1402C157.747 91.8848 157.458 92.8268 157.421 93.5837C157.384 94.3405 157.607 94.8838 158.191 95.131C158.774 95.3782 159.712 95.3128 161.675 94.4478C163.639 93.5829 166.6 91.9203 169.651 90.2074",stroke:"#3781E5",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}),ae("path",{d:"M187.958 71.7323C188.137 71.3788 188.499 70.7108 188.561 70.3904C188.587 70.2556 188.084 70.3517 187.666 70.6436C187.248 70.9356 186.797 71.465 185.575 73.2525C184.352 75.04 182.372 78.0696 181.103 80.232C179.178 83.5106 178.529 85.8452 178.071 87.7374C177.859 88.6122 177.879 89.3542 178.082 89.8721C178.284 90.39 178.717 90.6717 179.421 90.6075C180.125 90.5432 181.088 90.1244 182.206 89.1334C183.325 88.1423 184.571 86.5917 186.304 84.0298C188.036 81.4679 190.218 77.9416 191.551 75.7194C192.884 73.4973 193.304 72.6862 193.552 72.0954C193.801 71.5046 193.866 71.1588 193.74 70.9643C193.613 70.7697 193.293 70.7371 192.833 70.9359C191.709 71.4218 190.512 72.7625 189.224 74.4157C188.549 75.2812 188.027 76.3443 187.649 77.3873C187.271 78.4303 187.101 79.4578 187.152 80.3694C187.202 81.281 187.477 82.0456 188.041 82.7702C189.45 84.1564 191.376 85.3145 193.147 86.0568C193.864 86.3225 194.211 86.3627 194.569 86.4042",stroke:"#3781E5",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}),ae("path",{d:"M210.158 66.2027C210.262 65.745 210.44 65.0514 210.605 64.554C210.716 64.2192 210.356 66.0429 209.847 67.7083C209.559 68.6494 209.116 69.7548 207.607 73.154C206.097 76.5531 203.51 82.2047 202.249 85.0413C200.988 87.8779 201.133 87.7283 201.281 87.5741",stroke:"#3781E5",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}),ae("path",{d:"M201.179 76.5912C201.173 76.6163 201.166 76.6415 201.055 76.6255C200.945 76.6095 200.73 76.5517 200.888 76.2861C201.045 76.0205 201.582 75.5489 202.327 75.116C203.072 74.6832 204.009 74.3034 206.717 73.4211C209.424 72.5388 213.872 71.1655 218.455 69.7506",stroke:"#3781E5",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}),ae("path",{d:"M225.244 70.3261C225.277 70.1425 225.311 69.9589 225.394 69.7731C225.476 69.5873 225.607 69.405 225.658 69.4613C225.896 69.7272 225.353 71.0371 224.568 73.2127C224.105 74.4929 223.366 76.0749 222.346 77.983C221.326 79.891 220.01 82.0629 219.168 83.5055C218.327 84.9482 218 85.5959 217.521 86.4613",stroke:"#3781E5",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}),ae("path",{d:"M228.186 60.2158C228.172 60.2221 228.159 60.2284 228.054 60.3234C227.949 60.4185 227.753 60.6021 227.551 60.9475",stroke:"#3781E5",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"})]})}),mt("ul",{className:"list-none hidden sm:flex flex-row gap-10",children:[h(),ae(f,{})]}),mt("div",{className:"sm:hidden flex flex-1 justify-end items-center",children:[ae("img",{src:i?_G:xG,alt:"menu",className:"w-[28px] h-[28px] object-contain cursor-pointer",onClick:()=>r(d=>!d)}),ae("div",{className:`${i?"flex":"hidden"} p-4 black-gradient absolute top-20 right-0 mx-4 my-2 min-w-[140px] z-10 rounded-xl`,children:mt("ul",{className:"list-none flex justify-end items-start flex-col gap-4",children:[h(!0),ae(f,{isMobile:!0})]})})]})]}),ae("style",{children:`
        @keyframes draw {
          to {
            stroke-dashoffset: 0;
          }
        }
      `})]})},fh=n=>({hidden:{y:-50,opacity:0},show:{y:0,opacity:1,transition:{type:"spring",duration:1.25,delay:n}}}),wg=(n,e,t,i)=>({hidden:{x:n==="left"?100:n==="right"?-100:0,y:n==="up"?100:n==="down"?-100:0,opacity:0},show:{x:0,y:0,opacity:1,transition:{type:e,delay:t,duration:i,ease:"easeOut"}}}),QG=(n,e)=>({hidden:{},show:{transition:{staggerChildren:n,delayChildren:e||0}}}),hh=(n,e)=>function(){return mt(lr.section,{variants:QG(),initial:"hidden",whileInView:"show",viewport:{once:!0,amount:.25},className:`${ci.padding} max-w-7xl mx-auto relative z-0`,children:[ae("span",{className:"hash-span",id:e,children:""}),ae(n,{})]})},YG=()=>mt(Of,{children:[mt(lr.div,{variants:fh(),children:[ae("h2",{className:ci.sectionHeadText,children:"Overview"}),ae("p",{className:ci.sectionSubText,children:"A little bit about myself."})]}),ae(lr.div,{variants:wg("","",.1,1),className:"mt-10 text-secondary text-[17px] leading-[30px] flex flex-col items-center gap-10 w-full max-w-5xl mx-auto",children:ae("div",{className:"w-full blue-purple-gradient p-[1px] rounded-lg shadow-card",children:mt("div",{options:{max:45,scale:1,speed:450},className:"bg-tertiary rounded-lg p-8 min-h-[200px] flex flex-col md:flex-row items-center gap-10",children:[ae("img",{src:AG,alt:"Portrait",loading:"lazy",className:"w-64 h-64 rounded-full object-cover shadow-lg"}),mt("p",{className:"flex-1",children:["Embedded systems engineer with a M.S. in Computer Engineering based in Boston, MA. I am Detail-oriented and adaptable, with a commitment to advancing the Internet of Things through seamless data exchange and dynamic user experiences.",ae("br",{}),ae("br",{}),ae("strong",{children:"Passionate about technology, curious by nature, and always building"}),ae("br",{}),"whether it's electronics in my workshop or memories outdoors."]})]})})})]}),qG=hh(YG,"about"),JG=G.lazy(()=>hg(()=>import("./index-88ec406c.js"),[]).then(n=>({default:n.BallCanvas}))),ZG=()=>{const[n,e]=G.useState(!1),t=()=>e(!0),i=()=>e(!1);return mt(Of,{children:[mt(lr.div,{variants:fh(),children:[ae("h2",{className:ci.sectionHeadText,children:"Skills & Services"}),ae("p",{className:ci.sectionSubText,children:"Take them for a spin."})]}),ae(lr.div,{variants:wg("","",.1,1),children:ae("div",{className:"py-10 flex flex-row flex-wrap justify-center gap-10",children:GG.map((r,s)=>mt("div",{className:`w-28 h-28 relative group ${n?"cursor-grabbing":"cursor-grab"}`,onMouseDown:t,onMouseUp:i,children:[ae(G.Suspense,{fallback:ae("div",{className:"w-28 h-28 bg-gray-800 rounded-full"}),children:ae(JG,{icon:r.icon,imgProps:{loading:"lazy"}})}),ae("p",{className:"text-white-100 text-[14px] pl-1 tracking-wider text-center hidden group-hover:block",children:r.name})]},s))})})]})},KG=hh(ZG,"");var Sg={},bm={},$G={get exports(){return bm},set exports(n){bm=n}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var i=[],r=0;r<arguments.length;r++){var s=arguments[r];if(s){var o=typeof s;if(o==="string"||o==="number")i.push(s);else if(Array.isArray(s)){if(s.length){var a=t.apply(null,s);a&&i.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){i.push(s.toString());continue}for(var u in s)e.call(s,u)&&s[u]&&i.push(u)}}}return i.join(" ")}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})($G);Sg.__esModule=!0;Sg.default=void 0;var eW=Aw(G),$s=Aw(vm),tW=Aw(bm);function Aw(n){return n&&n.__esModule?n:{default:n}}const MR=({animate:n=!0,className:e="",layout:t="2-columns",lineColor:i="#FFF",children:r})=>(typeof window=="object"&&document.documentElement.style.setProperty("--line-color",i),eW.default.createElement("div",{className:(0,tW.default)(e,"vertical-timeline",{"vertical-timeline--animate":n,"vertical-timeline--two-columns":t==="2-columns","vertical-timeline--one-column-left":t==="1-column"||t==="1-column-left","vertical-timeline--one-column-right":t==="1-column-right"})},r));MR.propTypes={children:$s.default.oneOfType([$s.default.arrayOf($s.default.node),$s.default.node]).isRequired,className:$s.default.string,animate:$s.default.bool,layout:$s.default.oneOf(["1-column-left","1-column","2-columns","1-column-right"]),lineColor:$s.default.string};var nW=MR;Sg.default=nW;var Mg={};function hx(){return hx=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},hx.apply(this,arguments)}function iW(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,dx(n,e)}function dx(n,e){return dx=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},dx(n,e)}function rW(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}var px=new Map,yp=new WeakMap,ST=0,ER=void 0;function sW(n){ER=n}function oW(n){return n?(yp.has(n)||(ST+=1,yp.set(n,ST.toString())),yp.get(n)):"0"}function aW(n){return Object.keys(n).sort().filter(function(e){return n[e]!==void 0}).map(function(e){return e+"_"+(e==="root"?oW(n.root):n[e])}).toString()}function lW(n){var e=aW(n),t=px.get(e);if(!t){var i=new Map,r,s=new IntersectionObserver(function(o){o.forEach(function(a){var u,f=a.isIntersecting&&r.some(function(h){return a.intersectionRatio>=h});n.trackVisibility&&typeof a.isVisible>"u"&&(a.isVisible=f),(u=i.get(a.target))==null||u.forEach(function(h){h(f,a)})})},n);r=s.thresholds||(Array.isArray(n.threshold)?n.threshold:[n.threshold||0]),t={id:e,observer:s,elements:i},px.set(e,t)}return t}function bw(n,e,t,i){if(t===void 0&&(t={}),i===void 0&&(i=ER),typeof window.IntersectionObserver>"u"&&i!==void 0){var r=n.getBoundingClientRect();return e(i,{isIntersecting:i,target:n,intersectionRatio:typeof t.threshold=="number"?t.threshold:0,time:0,boundingClientRect:r,intersectionRect:r,rootBounds:r}),function(){}}var s=lW(t),o=s.id,a=s.observer,u=s.elements,f=u.get(n)||[];return u.has(n)||u.set(n,f),f.push(e),a.observe(n),function(){f.splice(f.indexOf(e),1),f.length===0&&(u.delete(n),a.unobserve(n)),u.size===0&&(a.disconnect(),px.delete(o))}}var uW=["children","as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function MT(n){return typeof n.children!="function"}var Cm=function(n){iW(e,n);function e(i){var r;return r=n.call(this,i)||this,r.node=null,r._unobserveCb=null,r.handleNode=function(s){r.node&&(r.unobserve(),!s&&!r.props.triggerOnce&&!r.props.skip&&r.setState({inView:!!r.props.initialInView,entry:void 0})),r.node=s||null,r.observeNode()},r.handleChange=function(s,o){s&&r.props.triggerOnce&&r.unobserve(),MT(r.props)||r.setState({inView:s,entry:o}),r.props.onChange&&r.props.onChange(s,o)},r.state={inView:!!i.initialInView,entry:void 0},r}var t=e.prototype;return t.componentDidUpdate=function(r){(r.rootMargin!==this.props.rootMargin||r.root!==this.props.root||r.threshold!==this.props.threshold||r.skip!==this.props.skip||r.trackVisibility!==this.props.trackVisibility||r.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())},t.componentWillUnmount=function(){this.unobserve(),this.node=null},t.observeNode=function(){if(!(!this.node||this.props.skip)){var r=this.props,s=r.threshold,o=r.root,a=r.rootMargin,u=r.trackVisibility,f=r.delay,h=r.fallbackInView;this._unobserveCb=bw(this.node,this.handleChange,{threshold:s,root:o,rootMargin:a,trackVisibility:u,delay:f},h)}},t.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},t.render=function(){if(!MT(this.props)){var r=this.state,s=r.inView,o=r.entry;return this.props.children({inView:s,entry:o,ref:this.handleNode})}var a=this.props,u=a.children,f=a.as,h=rW(a,uW);return G.createElement(f||"div",hx({ref:this.handleNode},h),u)},e}(G.Component);Cm.displayName="InView";Cm.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1};function cW(n){var e=n===void 0?{}:n,t=e.threshold,i=e.delay,r=e.trackVisibility,s=e.rootMargin,o=e.root,a=e.triggerOnce,u=e.skip,f=e.initialInView,h=e.fallbackInView,d=G.useRef(),p=G.useState({inView:!!f}),g=p[0],y=p[1],v=G.useCallback(function(M){d.current!==void 0&&(d.current(),d.current=void 0),!u&&M&&(d.current=bw(M,function(_,S){y({inView:_,entry:S}),S.isIntersecting&&a&&d.current&&(d.current(),d.current=void 0)},{root:o,rootMargin:s,threshold:t,trackVisibility:r,delay:i},h))},[Array.isArray(t)?t.toString():t,o,s,a,u,r,h,i]);G.useEffect(function(){!d.current&&g.entry&&!a&&!u&&y({inView:!!f})});var w=[v,g.inView,g.entry];return w.ref=w[0],w.inView=w[1],w.entry=w[2],w}const fW=Object.freeze(Object.defineProperty({__proto__:null,InView:Cm,default:Cm,defaultFallbackInView:sW,observe:bw,useInView:cW},Symbol.toStringTag,{value:"Module"})),hW=x4(fW);Mg.__esModule=!0;Mg.default=void 0;var eo=Cw(G),Wt=Cw(vm),vp=Cw(bm),dW=hW;function Cw(n){return n&&n.__esModule?n:{default:n}}const TR=({children:n="",className:e="",contentArrowStyle:t=null,contentStyle:i=null,date:r="",dateClassName:s="",icon:o=null,iconClassName:a="",iconOnClick:u=null,onTimelineElementClick:f=null,iconStyle:h=null,id:d="",position:p="",style:g=null,textClassName:y="",intersectionObserverProps:v={rootMargin:"0px 0px -40px 0px",triggerOnce:!0},visible:w=!1})=>eo.default.createElement(dW.InView,v,({inView:M,ref:_})=>eo.default.createElement("div",{ref:_,id:d,className:(0,vp.default)(e,"vertical-timeline-element",{"vertical-timeline-element--left":p==="left","vertical-timeline-element--right":p==="right","vertical-timeline-element--no-children":n===""}),style:g},eo.default.createElement(eo.default.Fragment,null,eo.default.createElement("span",{style:h,onClick:u,className:(0,vp.default)(a,"vertical-timeline-element-icon",{"bounce-in":M||w,"is-hidden":!(M||w)})},o),eo.default.createElement("div",{style:i,onClick:f,className:(0,vp.default)(y,"vertical-timeline-element-content",{"bounce-in":M||w,"is-hidden":!(M||w)})},eo.default.createElement("div",{style:t,className:"vertical-timeline-element-content-arrow"}),n,eo.default.createElement("span",{className:(0,vp.default)(s,"vertical-timeline-element-date")},r)))));TR.propTypes={children:Wt.default.oneOfType([Wt.default.arrayOf(Wt.default.node),Wt.default.node]),className:Wt.default.string,contentArrowStyle:Wt.default.shape({}),contentStyle:Wt.default.shape({}),date:Wt.default.node,dateClassName:Wt.default.string,icon:Wt.default.element,iconClassName:Wt.default.string,iconStyle:Wt.default.shape({}),iconOnClick:Wt.default.func,onTimelineElementClick:Wt.default.func,id:Wt.default.string,position:Wt.default.string,style:Wt.default.shape({}),textClassName:Wt.default.string,visible:Wt.default.bool,intersectionObserverProps:Wt.default.shape({root:Wt.default.object,rootMargin:Wt.default.string,threshold:Wt.default.number,triggerOnce:Wt.default.bool})};var pW=TR;Mg.default=pW;var AR={VerticalTimeline:Sg.default,VerticalTimelineElement:Mg.default};const mW=({src:n,alt:e})=>{const t=G.useRef(null),[i,r]=G.useState(!1);return G.useEffect(()=>{const s=new IntersectionObserver(([o])=>{o.isIntersecting&&(r(!0),s.disconnect())},{threshold:.1});return t.current&&s.observe(t.current),()=>s.disconnect()},[]),ae("div",{ref:t,className:"flex justify-center items-center w-full h-full",children:i&&ae("img",{src:n,alt:e,className:"w-[60%] h-[60%] object-contain",loading:"lazy"})})},gW=({experience:n})=>mt(AR.VerticalTimelineElement,{contentStyle:{background:"#1d1836",color:"#fff"},contentArrowStyle:{borderRight:"7px solid #232631"},date:n.date,iconStyle:{background:n.iconBg},icon:ae(mW,{src:n.icon,alt:n.company_name}),children:[mt("div",{children:[ae("h3",{className:"text-white text-[24px] font-bold",children:n.title}),ae("p",{className:"text-secondary text-[16px] font-semibold",style:{margin:0},children:n.company_name})]}),ae("ul",{className:"mt-5 list-disc ml-5 space-y-2",children:n.points.map((e,t)=>ae("li",{className:"text-white-100 text-[14px] pl-1 tracking-wider",children:e},`experience-point-${t}`))})]}),yW=()=>mt(Of,{children:[mt(lr.div,{variants:fh(),children:[ae("h2",{className:ci.sectionHeadText,children:"Experience & Education"}),ae("p",{className:ci.sectionSubText,children:"My journey."})]}),ae("div",{className:"mt-10 flex flex-col",children:ae(AR.VerticalTimeline,{children:WG.map((n,e)=>ae(gW,{experience:n},e))})})]}),vW=hh(yW,""),xW=({src:n,alt:e,className:t})=>{const i=G.useRef(null),[r,s]=G.useState(!1);return G.useEffect(()=>{const o=new IntersectionObserver(([a])=>{a.isIntersecting&&(s(!0),o.disconnect())},{rootMargin:"1000px"});return i.current&&o.observe(i.current),()=>o.disconnect()},[]),ae("div",{ref:i,className:"w-full h-full",children:ae("img",{src:r?n:"",alt:e,className:`${t} select-none pointer-events-none transition-opacity duration-500 ${r?"opacity-100":"opacity-0"}`,loading:"lazy",draggable:!1})})},rv=({name:n,date:e,description:t,tags:i,image:r,source_code_link:s})=>mt("div",{className:"bg-tertiary p-5 rounded-2xl sm:w-[360px] w-full flex-shrink-0 flex flex-col",children:[ae("div",{className:"relative w-full h-[230px]",children:ae(xW,{src:r,alt:n,className:"w-full h-full object-cover rounded-2xl"})}),mt("div",{className:"mt-5",children:[ae("h3",{className:"text-white font-bold text-[24px] h-[4.5rem]",children:n}),ae("p",{className:"mt-1 text-secondary text-[14px] italic",children:e}),ae("p",{className:"mt-2 text-secondary text-[14px]",children:t})]}),ae("div",{className:"mt-auto pt-4 flex flex-wrap gap-2",children:i.map(o=>mt("p",{className:`text-[14px] ${o.color}`,children:[o.name,""]},o.name))})]}),_W=()=>{const n=G.useRef(null),e=hG(0),[t,i]=G.useState(0);G.useEffect(()=>{if(n.current){const s=n.current.querySelector(".flex-shrink-0"),o=28;s&&i(s.offsetWidth+o)}},[]),G.useEffect(()=>{if(t>0){const s=-(t*Pl.length);e.set(s)}},[t,e]),G.useEffect(()=>{let s;const a=t*Pl.length,u=()=>{if(n.current&&t>0){let f=e.get()-.11;-f>=a*2&&(f+=a),f>=0&&(f-=a),e.set(f),s=requestAnimationFrame(u)}};return u(),()=>cancelAnimationFrame(s)},[e,t]);const r=()=>{const s=Pl.map((u,f)=>ae(rv,{...u},`prev-${f}`)),o=Pl.map((u,f)=>ae(rv,{...u},`main-${f}`)),a=Pl.map((u,f)=>ae(rv,{...u},`next-${f}`));return[...s,...o,...a]};return mt(Of,{children:[mt(lr.div,{variants:fh(),children:[ae("h2",{className:ci.sectionHeadText,children:"Work"}),ae("p",{className:ci.sectionSubText,children:"Endless innovation."})]}),ae(lr.div,{variants:wg("","",.1,1),children:ae("div",{className:"mt-10 relative overflow-hidden w-full",children:ae(lr.div,{ref:n,className:"flex gap-7 py-5 cursor-grab active:cursor-grabbing",style:{x:e},drag:"x",dragConstraints:{left:-1/0,right:1/0},dragElastic:.1,onDragEnd:()=>{if(!n.current||t===0)return;const s=t*Pl.length;-e.get()>=s*2&&e.set(e.get()+s),e.get()>=0&&e.set(e.get()-s)},children:r()})})})]})},wW=hh(_W,"work"),SW=G.lazy(()=>hg(()=>import("./CompressImage-4fb8a1ae.js"),[])),MW=G.lazy(()=>hg(()=>import("./DigitizeImage-1f8db784.js"),[])),ET=({children:n})=>ae(G.Suspense,{fallback:ae("div",{className:"text-white",children:"Loading..."}),children:n}),EW=()=>{const[n,e]=G.useState("compress");return mt(Of,{children:[mt(lr.div,{variants:fh(),children:[ae("h2",{className:ci.sectionHeadText,children:"Image Tools"}),ae("p",{className:ci.sectionSubText,children:"Tame your pixels."})]}),ae(lr.div,{variants:wg("","",.1,1),children:ae("div",{className:"mt-10 flex flex-col items-center gap-10 w-full",children:mt("div",{className:"w-full max-w-5xl bg-tertiary p-8 rounded-2xl min-h-[600px] mx-auto flex flex-col",children:[mt("div",{className:"w-full flex justify-center sm:justify-start border-b border-gray-700 mb-6",children:[ae("button",{className:`pb-2 px-4 transition-colors ${n==="compress"?"text-white border-b-2 border-blue-500":"text-secondary hover:text-white"}`,onClick:()=>e("compress"),children:"Compress"}),ae("button",{className:`pb-2 px-4 transition-colors ${n==="plot"?"text-white border-b-2 border-blue-500":"text-secondary hover:text-white"}`,onClick:()=>e("plot"),children:"Digitize"})]}),mt("div",{className:"flex-1",children:[n==="compress"&&ae(ET,{children:ae(SW,{})}),n==="plot"&&ae(ET,{children:ae(MW,{})})]})]})})})]})},TW=hh(EW,"tools"),AW=({resumeActive:n})=>{const e=({social:t})=>ae("button",{onClick:()=>window.open(t.link,"_blank","noopener,noreferrer"),className:"w-12 h-12 rounded-full flex justify-center items-center cursor-pointer hover:scale-110 transition-transform",title:t.name,"aria-label":t.name,children:ae("img",{src:t.icon,alt:t.alt,className:"w-10 h-10",loading:"lazy",decoding:"async"})});return mt("footer",{id:"contact",className:"text-[12px] py-4 flex flex-col items-center gap-2",children:[ae("div",{className:"flex flex-row justify-center mt-2 opacity-90 space-x-4",children:jG.map(t=>ae(e,{social:t},t.name))}),n?ae("a",{href:"https://github.com/vikvakati/portfolio",target:"_blank",rel:"noopener noreferrer",className:"hover:text-white text-secondary transition-colors mt-1",children:"Vikranth Vakati  2025"}):ae("span",{className:"text-secondary select-none cursor-not-allowed opacity-70 mt-1",children:"Vikranth Vakati  2025"})]})},bW=`%c
                       
                       
                       
                           
         Hey there, explorer!
         Easter Egg Hunt:
        	 1) Unlock the source code link!`,CW=()=>{const[n,e]=G.useState("");return G.useEffect(()=>{window.__EASTER_EGG_LOGGED__||(window.__EASTER_EGG_LOGGED__=!0,console.log(bW,"color: #00ffcc; font-size: 16px; font-weight: bold;"))},[]),mt(_5,{children:[mt("div",{className:"bg-primary",children:[ae(XG,{onActiveChange:e}),mt("div",{className:"relative z-0",children:[ae(pG,{}),ae(qG,{}),ae(KG,{}),ae($U,{})]}),ae(vW,{}),ae(wW,{}),ae(TW,{})]}),ae(AW,{resumeActive:n==="Resume"})]})};ov.createRoot(document.getElementById("root")).render(ae(CW,{}));export{st as $,On as A,Nt as B,Ie as C,xs as D,Os as E,ks as F,Zr as G,Lo as H,wF as I,nP as J,iP as K,Hi as L,T5 as M,Ql as N,Qf as O,Rn as P,Ti as Q,mf as R,YF as S,A5 as T,vk as U,z as V,vf as W,Pf as X,R_ as Y,At as Z,Ns as _,Z_ as a,sg as a0,N5 as a1,cn as a2,dm as a3,m_ as a4,Oc as a5,Kn as a6,gf as a7,yf as a8,Rs as a9,Oa as aa,on as ab,k5 as ac,Cf as ad,Pu as ae,bf as af,Ga as ag,Wa as ah,oh as ai,Be as aj,tL as ak,Wf as al,dp as am,aL as an,mt as ao,ae as ap,IU as aq,ZU as ar,$U as as,BB as b,QD as c,bP as d,ge as e,U1 as f,PP as g,LP as h,RP as i,Oo as j,gP as k,zo as l,mF as m,rg as n,hn as o,Po as p,og as q,G as r,It as s,Un as t,Wy as u,di as v,B_ as w,_t as x,ut as y,eP as z};
