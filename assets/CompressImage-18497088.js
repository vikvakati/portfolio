import{r as ne,ao as ue,ap as we}from"./index-40aebf7c.js";function st(_,k){return k.forEach(function(D){D&&typeof D!="string"&&!Array.isArray(D)&&Object.keys(D).forEach(function(d){if(d!=="default"&&!(d in _)){var e=Object.getOwnPropertyDescriptor(D,d);Object.defineProperty(_,d,e.get?e:{enumerable:!0,get:function(){return D[d]}})}})}),Object.freeze(_)}function Ke(_,k){return new Promise(function(D,d){let e;return ft(_).then(function(t){try{return e=t,D(new Blob([k.slice(0,2),e,k.slice(2)],{type:"image/jpeg"}))}catch(u){return d(u)}},d)})}const ft=_=>new Promise((k,D)=>{const d=new FileReader;d.addEventListener("load",({target:{result:e}})=>{const t=new DataView(e);let u=0;if(t.getUint16(u)!==65496)return D("not a valid JPEG");for(u+=2;;){const s=t.getUint16(u);if(s===65498)break;const v=t.getUint16(u+2);if(s===65505&&t.getUint32(u+4)===1165519206){const U=u+10;let r;switch(t.getUint16(U)){case 18761:r=!0;break;case 19789:r=!1;break;default:return D("TIFF header contains invalid endian")}if(t.getUint16(U+2,r)!==42)return D("TIFF header contains invalid version");const i=t.getUint32(U+4,r),n=U+i+2+12*t.getUint16(U+i,r);for(let f=U+i+2;f<n;f+=12)if(t.getUint16(f,r)==274){if(t.getUint16(f+2,r)!==3)return D("Orientation data type is invalid");if(t.getUint32(f+4,r)!==1)return D("Orientation data count is invalid");t.setUint16(f+8,1,r);break}return k(e.slice(u,u+2+v))}u+=2+v}return k(new Blob)}),d.readAsArrayBuffer(_)});var Pe={},lt={get exports(){return Pe},set exports(_){Pe=_}};(function(_){var k,D,d={};lt.exports=d,d.parse=function(e,t){for(var u=d.bin.readUshort,s=d.bin.readUint,v=0,U={},r=new Uint8Array(e),i=r.length-4;s(r,i)!=101010256;)i--;v=i,v+=4;var n=u(r,v+=4);u(r,v+=2);var f=s(r,v+=2),h=s(r,v+=4);v+=4,v=h;for(var x=0;x<n;x++){s(r,v),v+=4,v+=4,v+=4,s(r,v+=4),f=s(r,v+=4);var I=s(r,v+=4),w=u(r,v+=4),L=u(r,v+2),S=u(r,v+4);v+=6;var E=s(r,v+=8);v+=4,v+=w+L+S,d._readLocal(r,E,U,f,I,t)}return U},d._readLocal=function(e,t,u,s,v,U){var r=d.bin.readUshort,i=d.bin.readUint;i(e,t),r(e,t+=4),r(e,t+=2);var n=r(e,t+=2);i(e,t+=2),i(e,t+=4),t+=4;var f=r(e,t+=8),h=r(e,t+=2);t+=2;var x=d.bin.readUTF8(e,t,f);if(t+=f,t+=h,U)u[x]={size:v,csize:s};else{var I=new Uint8Array(e.buffer,t);if(n==0)u[x]=new Uint8Array(I.buffer.slice(t,t+s));else{if(n!=8)throw"unknown compression method: "+n;var w=new Uint8Array(v);d.inflateRaw(I,w),u[x]=w}}},d.inflateRaw=function(e,t){return d.F.inflate(e,t)},d.inflate=function(e,t){return e[0],e[1],d.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),t)},d.deflate=function(e,t){t==null&&(t={level:6});var u=0,s=new Uint8Array(50+Math.floor(1.1*e.length));s[u]=120,s[u+1]=156,u+=2,u=d.F.deflateRaw(e,s,u,t.level);var v=d.adler(e,0,e.length);return s[u+0]=v>>>24&255,s[u+1]=v>>>16&255,s[u+2]=v>>>8&255,s[u+3]=v>>>0&255,new Uint8Array(s.buffer,0,u+4)},d.deflateRaw=function(e,t){t==null&&(t={level:6});var u=new Uint8Array(50+Math.floor(1.1*e.length)),s=d.F.deflateRaw(e,u,s,t.level);return new Uint8Array(u.buffer,0,s)},d.encode=function(e,t){t==null&&(t=!1);var u=0,s=d.bin.writeUint,v=d.bin.writeUshort,U={};for(var r in e){var i=!d._noNeed(r)&&!t,n=e[r],f=d.crc.crc(n,0,n.length);U[r]={cpr:i,usize:n.length,crc:f,file:i?d.deflateRaw(n):n}}for(var r in U)u+=U[r].file.length+30+46+2*d.bin.sizeUTF8(r);u+=22;var h=new Uint8Array(u),x=0,I=[];for(var r in U){var w=U[r];I.push(x),x=d._writeHeader(h,x,r,w,0)}var L=0,S=x;for(var r in U)w=U[r],I.push(x),x=d._writeHeader(h,x,r,w,1,I[L++]);var E=x-S;return s(h,x,101010256),x+=4,v(h,x+=4,L),v(h,x+=2,L),s(h,x+=2,E),s(h,x+=4,S),x+=4,x+=2,h.buffer},d._noNeed=function(e){var t=e.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(t)!=-1},d._writeHeader=function(e,t,u,s,v,U){var r=d.bin.writeUint,i=d.bin.writeUshort,n=s.file;return r(e,t,v==0?67324752:33639248),t+=4,v==1&&(t+=2),i(e,t,20),i(e,t+=2,0),i(e,t+=2,s.cpr?8:0),r(e,t+=2,0),r(e,t+=4,s.crc),r(e,t+=4,n.length),r(e,t+=4,s.usize),i(e,t+=4,d.bin.sizeUTF8(u)),i(e,t+=2,0),t+=2,v==1&&(t+=2,t+=2,r(e,t+=6,U),t+=4),t+=d.bin.writeUTF8(e,t,u),v==0&&(e.set(n,t),t+=n.length),t},d.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var u=t,s=0;s<8;s++)1&u?u=3988292384^u>>>1:u>>>=1;e[t]=u}return e}(),update:function(e,t,u,s){for(var v=0;v<s;v++)e=d.crc.table[255&(e^t[u+v])]^e>>>8;return e},crc:function(e,t,u){return 4294967295^d.crc.update(4294967295,e,t,u)}},d.adler=function(e,t,u){for(var s=1,v=0,U=t,r=t+u;U<r;){for(var i=Math.min(U+5552,r);U<i;)v+=s+=e[U++];s%=65521,v%=65521}return v<<16|s},d.bin={readUshort:function(e,t){return e[t]|e[t+1]<<8},writeUshort:function(e,t,u){e[t]=255&u,e[t+1]=u>>8&255},readUint:function(e,t){return 16777216*e[t+3]+(e[t+2]<<16|e[t+1]<<8|e[t])},writeUint:function(e,t,u){e[t]=255&u,e[t+1]=u>>8&255,e[t+2]=u>>16&255,e[t+3]=u>>24&255},readASCII:function(e,t,u){for(var s="",v=0;v<u;v++)s+=String.fromCharCode(e[t+v]);return s},writeASCII:function(e,t,u){for(var s=0;s<u.length;s++)e[t+s]=u.charCodeAt(s)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,t,u){for(var s,v="",U=0;U<u;U++)v+="%"+d.bin.pad(e[t+U].toString(16));try{s=decodeURIComponent(v)}catch{return d.bin.readASCII(e,t,u)}return s},writeUTF8:function(e,t,u){for(var s=u.length,v=0,U=0;U<s;U++){var r=u.charCodeAt(U);if(!(4294967168&r))e[t+v]=r,v++;else if(!(4294965248&r))e[t+v]=192|r>>6,e[t+v+1]=128|r>>0&63,v+=2;else if(!(4294901760&r))e[t+v]=224|r>>12,e[t+v+1]=128|r>>6&63,e[t+v+2]=128|r>>0&63,v+=3;else{if(4292870144&r)throw"e";e[t+v]=240|r>>18,e[t+v+1]=128|r>>12&63,e[t+v+2]=128|r>>6&63,e[t+v+3]=128|r>>0&63,v+=4}}return v},sizeUTF8:function(e){for(var t=e.length,u=0,s=0;s<t;s++){var v=e.charCodeAt(s);if(!(4294967168&v))u++;else if(!(4294965248&v))u+=2;else if(!(4294901760&v))u+=3;else{if(4292870144&v)throw"e";u+=4}}return u}},d.F={},d.F.deflateRaw=function(e,t,u,s){var v=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][s],U=d.F.U,r=d.F._goodIndex;d.F._hash;var i=d.F._putsE,n=0,f=u<<3,h=0,x=e.length;if(s==0){for(;n<x;)i(t,f,n+(A=Math.min(65535,x-n))==x?1:0),f=d.F._copyExact(e,n,A,t,f+8),n+=A;return f>>>3}var I=U.lits,w=U.strt,L=U.prev,S=0,E=0,O=0,p=0,T=0,c=0;for(x>2&&(w[c=d.F._hash(e,0)]=0),n=0;n<x;n++){if(T=c,n+1<x-2){c=d.F._hash(e,n+1);var l=n+1&32767;L[l]=w[c],w[c]=l}if(h<=n){(S>14e3||E>26697)&&x-n>100&&(h<n&&(I[S]=n-h,S+=2,h=n),f=d.F._writeBlock(n==x-1||h==x?1:0,I,S,p,e,O,n-O,t,f),S=E=p=0,O=n);var b=0;n<x-2&&(b=d.F._bestMatch(e,n,L,T,Math.min(v[2],x-n),v[3]));var A=b>>>16,y=65535&b;if(b!=0){y=65535&b;var m=r(A=b>>>16,U.of0);U.lhst[257+m]++;var g=r(y,U.df0);U.dhst[g]++,p+=U.exb[m]+U.dxb[g],I[S]=A<<23|n-h,I[S+1]=y<<16|m<<8|g,S+=2,h=n+A}else U.lhst[e[n]]++;E++}}for(O==n&&e.length!=0||(h<n&&(I[S]=n-h,S+=2,h=n),f=d.F._writeBlock(1,I,S,p,e,O,n-O,t,f),S=0,E=0,S=E=p=0,O=n);7&f;)f++;return f>>>3},d.F._bestMatch=function(e,t,u,s,v,U){var r=32767&t,i=u[r],n=r-i+32768&32767;if(i==r||s!=d.F._hash(e,t-n))return 0;for(var f=0,h=0,x=Math.min(32767,t);n<=x&&--U!=0&&i!=r;){if(f==0||e[t+f]==e[t+f-n]){var I=d.F._howLong(e,t,n);if(I>f){if(h=n,(f=I)>=v)break;n+2<I&&(I=n+2);for(var w=0,L=0;L<I-2;L++){var S=t-n+L+32768&32767,E=S-u[S]+32768&32767;E>w&&(w=E,i=S)}}}n+=(r=i)-(i=u[r])+32768&32767}return f<<16|h},d.F._howLong=function(e,t,u){if(e[t]!=e[t-u]||e[t+1]!=e[t+1-u]||e[t+2]!=e[t+2-u])return 0;var s=t,v=Math.min(e.length,t+258);for(t+=3;t<v&&e[t]==e[t-u];)t++;return t-s},d.F._hash=function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<4)&65535},d.saved=0,d.F._writeBlock=function(e,t,u,s,v,U,r,i,n){var f,h,x,I,w,L,S,E,O,p=d.F.U,T=d.F._putsF,c=d.F._putsE;p.lhst[256]++,h=(f=d.F.getTrees())[0],x=f[1],I=f[2],w=f[3],L=f[4],S=f[5],E=f[6],O=f[7];var l=32+(n+3&7?8-(n+3&7):0)+(r<<3),b=s+d.F.contSize(p.fltree,p.lhst)+d.F.contSize(p.fdtree,p.dhst),A=s+d.F.contSize(p.ltree,p.lhst)+d.F.contSize(p.dtree,p.dhst);A+=14+3*S+d.F.contSize(p.itree,p.ihst)+(2*p.ihst[16]+3*p.ihst[17]+7*p.ihst[18]);for(var y=0;y<286;y++)p.lhst[y]=0;for(y=0;y<30;y++)p.dhst[y]=0;for(y=0;y<19;y++)p.ihst[y]=0;var m=l<b&&l<A?0:b<A?1:2;if(T(i,n,e),T(i,n+1,m),n+=3,m==0){for(;7&n;)n++;n=d.F._copyExact(v,U,r,i,n)}else{var g,F;if(m==1&&(g=p.fltree,F=p.fdtree),m==2){d.F.makeCodes(p.ltree,h),d.F.revCodes(p.ltree,h),d.F.makeCodes(p.dtree,x),d.F.revCodes(p.dtree,x),d.F.makeCodes(p.itree,I),d.F.revCodes(p.itree,I),g=p.ltree,F=p.dtree,c(i,n,w-257),c(i,n+=5,L-1),c(i,n+=5,S-4),n+=4;for(var a=0;a<S;a++)c(i,n+3*a,p.itree[1+(p.ordr[a]<<1)]);n+=3*S,n=d.F._codeTiny(E,p.itree,i,n),n=d.F._codeTiny(O,p.itree,i,n)}for(var o=U,R=0;R<u;R+=2){for(var C=t[R],P=C>>>23,Q=o+(8388607&C);o<Q;)n=d.F._writeLit(v[o++],g,i,n);if(P!=0){var z=t[R+1],H=z>>16,N=z>>8&255,M=255&z;c(i,n=d.F._writeLit(257+N,g,i,n),P-p.of0[N]),n+=p.exb[N],T(i,n=d.F._writeLit(M,F,i,n),H-p.df0[M]),n+=p.dxb[M],o+=P}}n=d.F._writeLit(256,g,i,n)}return n},d.F._copyExact=function(e,t,u,s,v){var U=v>>>3;return s[U]=u,s[U+1]=u>>>8,s[U+2]=255-s[U],s[U+3]=255-s[U+1],U+=4,s.set(new Uint8Array(e.buffer,t,u),U),v+(u+4<<3)},d.F.getTrees=function(){for(var e=d.F.U,t=d.F._hufTree(e.lhst,e.ltree,15),u=d.F._hufTree(e.dhst,e.dtree,15),s=[],v=d.F._lenCodes(e.ltree,s),U=[],r=d.F._lenCodes(e.dtree,U),i=0;i<s.length;i+=2)e.ihst[s[i]]++;for(i=0;i<U.length;i+=2)e.ihst[U[i]]++;for(var n=d.F._hufTree(e.ihst,e.itree,7),f=19;f>4&&e.itree[1+(e.ordr[f-1]<<1)]==0;)f--;return[t,u,n,v,r,f,s,U]},d.F.getSecond=function(e){for(var t=[],u=0;u<e.length;u+=2)t.push(e[u+1]);return t},d.F.nonZero=function(e){for(var t="",u=0;u<e.length;u+=2)e[u+1]!=0&&(t+=(u>>1)+",");return t},d.F.contSize=function(e,t){for(var u=0,s=0;s<t.length;s++)u+=t[s]*e[1+(s<<1)];return u},d.F._codeTiny=function(e,t,u,s){for(var v=0;v<e.length;v+=2){var U=e[v],r=e[v+1];s=d.F._writeLit(U,t,u,s);var i=U==16?2:U==17?3:7;U>15&&(d.F._putsE(u,s,r,i),s+=i)}return s},d.F._lenCodes=function(e,t){for(var u=e.length;u!=2&&e[u-1]==0;)u-=2;for(var s=0;s<u;s+=2){var v=e[s+1],U=s+3<u?e[s+3]:-1,r=s+5<u?e[s+5]:-1,i=s==0?-1:e[s-1];if(v==0&&U==v&&r==v){for(var n=s+5;n+2<u&&e[n+2]==v;)n+=2;(f=Math.min(n+1-s>>>1,138))<11?t.push(17,f-3):t.push(18,f-11),s+=2*f-2}else if(v==i&&U==v&&r==v){for(n=s+5;n+2<u&&e[n+2]==v;)n+=2;var f=Math.min(n+1-s>>>1,6);t.push(16,f-3),s+=2*f-2}else t.push(v,0)}return u>>>1},d.F._hufTree=function(e,t,u){var s=[],v=e.length,U=t.length,r=0;for(r=0;r<U;r+=2)t[r]=0,t[r+1]=0;for(r=0;r<v;r++)e[r]!=0&&s.push({lit:r,f:e[r]});var i=s.length,n=s.slice(0);if(i==0)return 0;if(i==1){var f=s[0].lit;return n=f==0?1:0,t[1+(f<<1)]=1,t[1+(n<<1)]=1,1}s.sort(function(E,O){return E.f-O.f});var h=s[0],x=s[1],I=0,w=1,L=2;for(s[0]={lit:-1,f:h.f+x.f,l:h,r:x,d:0};w!=i-1;)h=I!=w&&(L==i||s[I].f<s[L].f)?s[I++]:s[L++],x=I!=w&&(L==i||s[I].f<s[L].f)?s[I++]:s[L++],s[w++]={lit:-1,f:h.f+x.f,l:h,r:x};var S=d.F.setDepth(s[w-1],0);for(S>u&&(d.F.restrictDepth(n,u,S),S=u),r=0;r<i;r++)t[1+(n[r].lit<<1)]=n[r].d;return S},d.F.setDepth=function(e,t){return e.lit!=-1?(e.d=t,t):Math.max(d.F.setDepth(e.l,t+1),d.F.setDepth(e.r,t+1))},d.F.restrictDepth=function(e,t,u){var s=0,v=1<<u-t,U=0;for(e.sort(function(i,n){return n.d==i.d?i.f-n.f:n.d-i.d}),s=0;s<e.length&&e[s].d>t;s++){var r=e[s].d;e[s].d=t,U+=v-(1<<u-r)}for(U>>>=u-t;U>0;)(r=e[s].d)<t?(e[s].d++,U-=1<<t-r-1):s++;for(;s>=0;s--)e[s].d==t&&U<0&&(e[s].d--,U++);U!=0&&console.log("debt left")},d.F._goodIndex=function(e,t){var u=0;return t[16|u]<=e&&(u|=16),t[8|u]<=e&&(u|=8),t[4|u]<=e&&(u|=4),t[2|u]<=e&&(u|=2),t[1|u]<=e&&(u|=1),u},d.F._writeLit=function(e,t,u,s){return d.F._putsF(u,s,t[e<<1]),s+t[1+(e<<1)]},d.F.inflate=function(e,t){var u=Uint8Array;if(e[0]==3&&e[1]==0)return t||new u(0);var s=d.F,v=s._bitsF,U=s._bitsE,r=s._decodeTiny,i=s.makeCodes,n=s.codes2map,f=s._get17,h=s.U,x=t==null;x&&(t=new u(e.length>>>2<<3));for(var I,w,L=0,S=0,E=0,O=0,p=0,T=0,c=0,l=0,b=0;L==0;)if(L=v(e,b,1),S=v(e,b+1,2),b+=3,S!=0){if(x&&(t=d.F._check(t,l+(1<<17))),S==1&&(I=h.flmap,w=h.fdmap,T=511,c=31),S==2){E=U(e,b,5)+257,O=U(e,b+5,5)+1,p=U(e,b+10,4)+4,b+=14;for(var A=0;A<38;A+=2)h.itree[A]=0,h.itree[A+1]=0;var y=1;for(A=0;A<p;A++){var m=U(e,b+3*A,3);h.itree[1+(h.ordr[A]<<1)]=m,m>y&&(y=m)}b+=3*p,i(h.itree,y),n(h.itree,y,h.imap),I=h.lmap,w=h.dmap,b=r(h.imap,(1<<y)-1,E+O,e,b,h.ttree);var g=s._copyOut(h.ttree,0,E,h.ltree);T=(1<<g)-1;var F=s._copyOut(h.ttree,E,O,h.dtree);c=(1<<F)-1,i(h.ltree,g),n(h.ltree,g,I),i(h.dtree,F),n(h.dtree,F,w)}for(;;){var a=I[f(e,b)&T];b+=15&a;var o=a>>>4;if(!(o>>>8))t[l++]=o;else{if(o==256)break;var R=l+o-254;if(o>264){var C=h.ldef[o-257];R=l+(C>>>3)+U(e,b,7&C),b+=7&C}var P=w[f(e,b)&c];b+=15&P;var Q=P>>>4,z=h.ddef[Q],H=(z>>>4)+v(e,b,15&z);for(b+=15&z,x&&(t=d.F._check(t,l+(1<<17)));l<R;)t[l]=t[l++-H],t[l]=t[l++-H],t[l]=t[l++-H],t[l]=t[l++-H];l=R}}}else{7&b&&(b+=8-(7&b));var N=4+(b>>>3),M=e[N-4]|e[N-3]<<8;x&&(t=d.F._check(t,l+M)),t.set(new u(e.buffer,e.byteOffset+N,M),l),b=N+M<<3,l+=M}return t.length==l?t:t.slice(0,l)},d.F._check=function(e,t){var u=e.length;if(t<=u)return e;var s=new Uint8Array(Math.max(u<<1,t));return s.set(e,0),s},d.F._decodeTiny=function(e,t,u,s,v,U){for(var r=d.F._bitsE,i=d.F._get17,n=0;n<u;){var f=e[i(s,v)&t];v+=15&f;var h=f>>>4;if(h<=15)U[n]=h,n++;else{var x=0,I=0;h==16?(I=3+r(s,v,2),v+=2,x=U[n-1]):h==17?(I=3+r(s,v,3),v+=3):h==18&&(I=11+r(s,v,7),v+=7);for(var w=n+I;n<w;)U[n]=x,n++}}return v},d.F._copyOut=function(e,t,u,s){for(var v=0,U=0,r=s.length>>>1;U<u;){var i=e[U+t];s[U<<1]=0,s[1+(U<<1)]=i,i>v&&(v=i),U++}for(;U<r;)s[U<<1]=0,s[1+(U<<1)]=0,U++;return v},d.F.makeCodes=function(e,t){for(var u,s,v,U,r=d.F.U,i=e.length,n=r.bl_count,f=0;f<=t;f++)n[f]=0;for(f=1;f<i;f+=2)n[e[f]]++;var h=r.next_code;for(u=0,n[0]=0,s=1;s<=t;s++)u=u+n[s-1]<<1,h[s]=u;for(v=0;v<i;v+=2)(U=e[v+1])!=0&&(e[v]=h[U],h[U]++)},d.F.codes2map=function(e,t,u){for(var s=e.length,v=d.F.U.rev15,U=0;U<s;U+=2)if(e[U+1]!=0)for(var r=U>>1,i=e[U+1],n=r<<4|i,f=t-i,h=e[U]<<f,x=h+(1<<f);h!=x;)u[v[h]>>>15-t]=n,h++},d.F.revCodes=function(e,t){for(var u=d.F.U.rev15,s=15-t,v=0;v<e.length;v+=2){var U=e[v]<<t-e[v+1];e[v]=u[U]>>>s}},d.F._putsE=function(e,t,u){u<<=7&t;var s=t>>>3;e[s]|=u,e[s+1]|=u>>>8},d.F._putsF=function(e,t,u){u<<=7&t;var s=t>>>3;e[s]|=u,e[s+1]|=u>>>8,e[s+2]|=u>>>16},d.F._bitsE=function(e,t,u){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<u)-1},d.F._bitsF=function(e,t,u){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<u)-1},d.F._get17=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},d.F._get25=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},d.F.U=(k=Uint16Array,D=Uint32Array,{next_code:new k(16),bl_count:new k(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new k(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new D(32),flmap:new k(512),fltree:[],fdmap:new k(32),fdtree:[],lmap:new k(32768),ltree:[],ttree:[],dmap:new k(32768),dtree:[],imap:new k(512),itree:[],rev15:new k(32768),lhst:new D(286),dhst:new D(30),ihst:new D(19),lits:new D(15e3),strt:new k(65536),prev:new k(32768)}),function(){for(var e=d.F.U,t=0;t<32768;t++){var u=t;u=(4278255360&(u=(4042322160&(u=(3435973836&(u=(2863311530&u)>>>1|(1431655765&u)<<1))>>>2|(858993459&u)<<2))>>>4|(252645135&u)<<4))>>>8|(16711935&u)<<8,e.rev15[t]=(u>>>16|u<<16)>>>17}function s(v,U,r){for(;U--!=0;)v.push(0,r)}for(t=0;t<32;t++)e.ldef[t]=e.of0[t]<<3|e.exb[t],e.ddef[t]=e.df0[t]<<4|e.dxb[t];s(e.fltree,144,8),s(e.fltree,112,9),s(e.fltree,24,7),s(e.fltree,8,8),d.F.makeCodes(e.fltree,9),d.F.codes2map(e.fltree,9,e.flmap),d.F.revCodes(e.fltree,9),s(e.fdtree,32,5),d.F.makeCodes(e.fdtree,5),d.F.codes2map(e.fdtree,5,e.fdmap),d.F.revCodes(e.fdtree,5),s(e.itree,19,0),s(e.ltree,286,0),s(e.dtree,30,0),s(e.ttree,320,0)}()})();var ct=st({__proto__:null,default:Pe},[Pe]);const ge=function(){var _={nextZero(r,i){for(;r[i]!=0;)i++;return i},readUshort:(r,i)=>r[i]<<8|r[i+1],writeUshort(r,i,n){r[i]=n>>8&255,r[i+1]=255&n},readUint:(r,i)=>16777216*r[i]+(r[i+1]<<16|r[i+2]<<8|r[i+3]),writeUint(r,i,n){r[i]=n>>24&255,r[i+1]=n>>16&255,r[i+2]=n>>8&255,r[i+3]=255&n},readASCII(r,i,n){let f="";for(let h=0;h<n;h++)f+=String.fromCharCode(r[i+h]);return f},writeASCII(r,i,n){for(let f=0;f<n.length;f++)r[i+f]=n.charCodeAt(f)},readBytes(r,i,n){const f=[];for(let h=0;h<n;h++)f.push(r[i+h]);return f},pad:r=>r.length<2?`0${r}`:r,readUTF8(r,i,n){let f,h="";for(let x=0;x<n;x++)h+=`%${_.pad(r[i+x].toString(16))}`;try{f=decodeURIComponent(h)}catch{return _.readASCII(r,i,n)}return f}};function k(r,i,n,f){const h=i*n,x=t(f),I=Math.ceil(i*x/8),w=new Uint8Array(4*h),L=new Uint32Array(w.buffer),{ctype:S}=f,{depth:E}=f,O=_.readUshort;if(S==6){const C=h<<2;if(E==8)for(var p=0;p<C;p+=4)w[p]=r[p],w[p+1]=r[p+1],w[p+2]=r[p+2],w[p+3]=r[p+3];if(E==16)for(p=0;p<C;p++)w[p]=r[p<<1]}else if(S==2){const C=f.tabs.tRNS;if(C==null){if(E==8)for(p=0;p<h;p++){var T=3*p;L[p]=255<<24|r[T+2]<<16|r[T+1]<<8|r[T]}if(E==16)for(p=0;p<h;p++)T=6*p,L[p]=255<<24|r[T+4]<<16|r[T+2]<<8|r[T]}else{var c=C[0];const P=C[1],Q=C[2];if(E==8)for(p=0;p<h;p++){var l=p<<2;T=3*p,L[p]=255<<24|r[T+2]<<16|r[T+1]<<8|r[T],r[T]==c&&r[T+1]==P&&r[T+2]==Q&&(w[l+3]=0)}if(E==16)for(p=0;p<h;p++)l=p<<2,T=6*p,L[p]=255<<24|r[T+4]<<16|r[T+2]<<8|r[T],O(r,T)==c&&O(r,T+2)==P&&O(r,T+4)==Q&&(w[l+3]=0)}}else if(S==3){const C=f.tabs.PLTE,P=f.tabs.tRNS,Q=P?P.length:0;if(E==1)for(var b=0;b<n;b++){var A=b*I,y=b*i;for(p=0;p<i;p++){l=y+p<<2;var m=3*(g=r[A+(p>>3)]>>7-((7&p)<<0)&1);w[l]=C[m],w[l+1]=C[m+1],w[l+2]=C[m+2],w[l+3]=g<Q?P[g]:255}}if(E==2)for(b=0;b<n;b++)for(A=b*I,y=b*i,p=0;p<i;p++)l=y+p<<2,m=3*(g=r[A+(p>>2)]>>6-((3&p)<<1)&3),w[l]=C[m],w[l+1]=C[m+1],w[l+2]=C[m+2],w[l+3]=g<Q?P[g]:255;if(E==4)for(b=0;b<n;b++)for(A=b*I,y=b*i,p=0;p<i;p++)l=y+p<<2,m=3*(g=r[A+(p>>1)]>>4-((1&p)<<2)&15),w[l]=C[m],w[l+1]=C[m+1],w[l+2]=C[m+2],w[l+3]=g<Q?P[g]:255;if(E==8)for(p=0;p<h;p++){var g;l=p<<2,m=3*(g=r[p]),w[l]=C[m],w[l+1]=C[m+1],w[l+2]=C[m+2],w[l+3]=g<Q?P[g]:255}}else if(S==4){if(E==8)for(p=0;p<h;p++){l=p<<2;var F=r[a=p<<1];w[l]=F,w[l+1]=F,w[l+2]=F,w[l+3]=r[a+1]}if(E==16)for(p=0;p<h;p++){var a;l=p<<2,F=r[a=p<<2],w[l]=F,w[l+1]=F,w[l+2]=F,w[l+3]=r[a+2]}}else if(S==0)for(c=f.tabs.tRNS?f.tabs.tRNS:-1,b=0;b<n;b++){const C=b*I,P=b*i;if(E==1)for(var o=0;o<i;o++){var R=(F=255*(r[C+(o>>>3)]>>>7-(7&o)&1))==255*c?0:255;L[P+o]=R<<24|F<<16|F<<8|F}else if(E==2)for(o=0;o<i;o++)R=(F=85*(r[C+(o>>>2)]>>>6-((3&o)<<1)&3))==85*c?0:255,L[P+o]=R<<24|F<<16|F<<8|F;else if(E==4)for(o=0;o<i;o++)R=(F=17*(r[C+(o>>>1)]>>>4-((1&o)<<2)&15))==17*c?0:255,L[P+o]=R<<24|F<<16|F<<8|F;else if(E==8)for(o=0;o<i;o++)R=(F=r[C+o])==c?0:255,L[P+o]=R<<24|F<<16|F<<8|F;else if(E==16)for(o=0;o<i;o++)F=r[C+(o<<1)],R=O(r,C+(o<<1))==c?0:255,L[P+o]=R<<24|F<<16|F<<8|F}return w}function D(r,i,n,f){const h=t(r),x=Math.ceil(n*h/8),I=new Uint8Array((x+1+r.interlace)*f);return i=r.tabs.CgBI?e(i,I):d(i,I),r.interlace==0?i=u(i,r,0,n,f):r.interlace==1&&(i=function(L,S){const E=S.width,O=S.height,p=t(S),T=p>>3,c=Math.ceil(E*p/8),l=new Uint8Array(O*c);let b=0;const A=[0,0,4,0,2,0,1],y=[0,4,0,2,0,1,0],m=[8,8,8,4,4,2,2],g=[8,8,4,4,2,2,1];let F=0;for(;F<7;){const o=m[F],R=g[F];let C=0,P=0,Q=A[F];for(;Q<O;)Q+=o,P++;let z=y[F];for(;z<E;)z+=R,C++;const H=Math.ceil(C*p/8);u(L,S,b,C,P);let N=0,M=A[F];for(;M<O;){let j=y[F],K=b+N*H<<3;for(;j<E;){var a;if(p==1&&(a=(a=L[K>>3])>>7-(7&K)&1,l[M*c+(j>>3)]|=a<<7-((7&j)<<0)),p==2&&(a=(a=L[K>>3])>>6-(7&K)&3,l[M*c+(j>>2)]|=a<<6-((3&j)<<1)),p==4&&(a=(a=L[K>>3])>>4-(7&K)&15,l[M*c+(j>>1)]|=a<<4-((1&j)<<2)),p>=8){const W=M*c+j*T;for(let B=0;B<T;B++)l[W+B]=L[(K>>3)+B]}K+=p,j+=R}N++,M+=o}C*P!=0&&(b+=P*(1+H)),F+=1}return l}(i,r)),i}function d(r,i){return e(new Uint8Array(r.buffer,2,r.length-6),i)}var e=function(){const r={H:{}};return r.H.N=function(i,n){const f=Uint8Array;let h,x,I=0,w=0,L=0,S=0,E=0,O=0,p=0,T=0,c=0;if(i[0]==3&&i[1]==0)return n||new f(0);const l=r.H,b=l.b,A=l.e,y=l.R,m=l.n,g=l.A,F=l.Z,a=l.m,o=n==null;for(o&&(n=new f(i.length>>>2<<5));I==0;)if(I=b(i,c,1),w=b(i,c+1,2),c+=3,w!=0){if(o&&(n=r.H.W(n,T+(1<<17))),w==1&&(h=a.J,x=a.h,O=511,p=31),w==2){L=A(i,c,5)+257,S=A(i,c+5,5)+1,E=A(i,c+10,4)+4,c+=14;let C=1;for(var R=0;R<38;R+=2)a.Q[R]=0,a.Q[R+1]=0;for(R=0;R<E;R++){const z=A(i,c+3*R,3);a.Q[1+(a.X[R]<<1)]=z,z>C&&(C=z)}c+=3*E,m(a.Q,C),g(a.Q,C,a.u),h=a.w,x=a.d,c=y(a.u,(1<<C)-1,L+S,i,c,a.v);const P=l.V(a.v,0,L,a.C);O=(1<<P)-1;const Q=l.V(a.v,L,S,a.D);p=(1<<Q)-1,m(a.C,P),g(a.C,P,h),m(a.D,Q),g(a.D,Q,x)}for(;;){const C=h[F(i,c)&O];c+=15&C;const P=C>>>4;if(!(P>>>8))n[T++]=P;else{if(P==256)break;{let Q=T+P-254;if(P>264){const j=a.q[P-257];Q=T+(j>>>3)+A(i,c,7&j),c+=7&j}const z=x[F(i,c)&p];c+=15&z;const H=z>>>4,N=a.c[H],M=(N>>>4)+b(i,c,15&N);for(c+=15&N;T<Q;)n[T]=n[T++-M],n[T]=n[T++-M],n[T]=n[T++-M],n[T]=n[T++-M];T=Q}}}}else{7&c&&(c+=8-(7&c));const C=4+(c>>>3),P=i[C-4]|i[C-3]<<8;o&&(n=r.H.W(n,T+P)),n.set(new f(i.buffer,i.byteOffset+C,P),T),c=C+P<<3,T+=P}return n.length==T?n:n.slice(0,T)},r.H.W=function(i,n){const f=i.length;if(n<=f)return i;const h=new Uint8Array(f<<1);return h.set(i,0),h},r.H.R=function(i,n,f,h,x,I){const w=r.H.e,L=r.H.Z;let S=0;for(;S<f;){const E=i[L(h,x)&n];x+=15&E;const O=E>>>4;if(O<=15)I[S]=O,S++;else{let p=0,T=0;O==16?(T=3+w(h,x,2),x+=2,p=I[S-1]):O==17?(T=3+w(h,x,3),x+=3):O==18&&(T=11+w(h,x,7),x+=7);const c=S+T;for(;S<c;)I[S]=p,S++}}return x},r.H.V=function(i,n,f,h){let x=0,I=0;const w=h.length>>>1;for(;I<f;){const L=i[I+n];h[I<<1]=0,h[1+(I<<1)]=L,L>x&&(x=L),I++}for(;I<w;)h[I<<1]=0,h[1+(I<<1)]=0,I++;return x},r.H.n=function(i,n){const f=r.H.m,h=i.length;let x,I,w,L;const S=f.j;for(var E=0;E<=n;E++)S[E]=0;for(E=1;E<h;E+=2)S[i[E]]++;const O=f.K;for(x=0,S[0]=0,I=1;I<=n;I++)x=x+S[I-1]<<1,O[I]=x;for(w=0;w<h;w+=2)L=i[w+1],L!=0&&(i[w]=O[L],O[L]++)},r.H.A=function(i,n,f){const h=i.length,x=r.H.m.r;for(let I=0;I<h;I+=2)if(i[I+1]!=0){const w=I>>1,L=i[I+1],S=w<<4|L,E=n-L;let O=i[I]<<E;const p=O+(1<<E);for(;O!=p;)f[x[O]>>>15-n]=S,O++}},r.H.l=function(i,n){const f=r.H.m.r,h=15-n;for(let x=0;x<i.length;x+=2){const I=i[x]<<n-i[x+1];i[x]=f[I]>>>h}},r.H.M=function(i,n,f){f<<=7&n;const h=n>>>3;i[h]|=f,i[h+1]|=f>>>8},r.H.I=function(i,n,f){f<<=7&n;const h=n>>>3;i[h]|=f,i[h+1]|=f>>>8,i[h+2]|=f>>>16},r.H.e=function(i,n,f){return(i[n>>>3]|i[1+(n>>>3)]<<8)>>>(7&n)&(1<<f)-1},r.H.b=function(i,n,f){return(i[n>>>3]|i[1+(n>>>3)]<<8|i[2+(n>>>3)]<<16)>>>(7&n)&(1<<f)-1},r.H.Z=function(i,n){return(i[n>>>3]|i[1+(n>>>3)]<<8|i[2+(n>>>3)]<<16)>>>(7&n)},r.H.i=function(i,n){return(i[n>>>3]|i[1+(n>>>3)]<<8|i[2+(n>>>3)]<<16|i[3+(n>>>3)]<<24)>>>(7&n)},r.H.m=function(){const i=Uint16Array,n=Uint32Array;return{K:new i(16),j:new i(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new i(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new n(32),J:new i(512),_:[],h:new i(32),$:[],w:new i(32768),C:[],v:[],d:new i(32768),D:[],u:new i(512),Q:[],r:new i(32768),s:new n(286),Y:new n(30),a:new n(19),t:new n(15e3),k:new i(65536),g:new i(32768)}}(),function(){const i=r.H.m;for(var n=0;n<32768;n++){let h=n;h=(2863311530&h)>>>1|(1431655765&h)<<1,h=(3435973836&h)>>>2|(858993459&h)<<2,h=(4042322160&h)>>>4|(252645135&h)<<4,h=(4278255360&h)>>>8|(16711935&h)<<8,i.r[n]=(h>>>16|h<<16)>>>17}function f(h,x,I){for(;x--!=0;)h.push(0,I)}for(n=0;n<32;n++)i.q[n]=i.S[n]<<3|i.T[n],i.c[n]=i.p[n]<<4|i.z[n];f(i._,144,8),f(i._,112,9),f(i._,24,7),f(i._,8,8),r.H.n(i._,9),r.H.A(i._,9,i.J),r.H.l(i._,9),f(i.$,32,5),r.H.n(i.$,5),r.H.A(i.$,5,i.h),r.H.l(i.$,5),f(i.Q,19,0),f(i.C,286,0),f(i.D,30,0),f(i.v,320,0)}(),r.H.N}();function t(r){return[1,null,3,1,2,null,4][r.ctype]*r.depth}function u(r,i,n,f,h){let x=t(i);const I=Math.ceil(f*x/8);let w,L;x=Math.ceil(x/8);let S=r[n],E=0;if(S>1&&(r[n]=[0,0,1][S-2]),S==3)for(E=x;E<I;E++)r[E+1]=r[E+1]+(r[E+1-x]>>>1)&255;for(let O=0;O<h;O++)if(w=n+O*I,L=w+O+1,S=r[L-1],E=0,S==0)for(;E<I;E++)r[w+E]=r[L+E];else if(S==1){for(;E<x;E++)r[w+E]=r[L+E];for(;E<I;E++)r[w+E]=r[L+E]+r[w+E-x]}else if(S==2)for(;E<I;E++)r[w+E]=r[L+E]+r[w+E-I];else if(S==3){for(;E<x;E++)r[w+E]=r[L+E]+(r[w+E-I]>>>1);for(;E<I;E++)r[w+E]=r[L+E]+(r[w+E-I]+r[w+E-x]>>>1)}else{for(;E<x;E++)r[w+E]=r[L+E]+s(0,r[w+E-I],0);for(;E<I;E++)r[w+E]=r[L+E]+s(r[w+E-x],r[w+E-I],r[w+E-x-I])}return r}function s(r,i,n){const f=r+i-n,h=f-r,x=f-i,I=f-n;return h*h<=x*x&&h*h<=I*I?r:x*x<=I*I?i:n}function v(r,i,n){n.width=_.readUint(r,i),i+=4,n.height=_.readUint(r,i),i+=4,n.depth=r[i],i++,n.ctype=r[i],i++,n.compress=r[i],i++,n.filter=r[i],i++,n.interlace=r[i],i++}function U(r,i,n,f,h,x,I,w,L){const S=Math.min(i,h),E=Math.min(n,x);let O=0,p=0;for(let F=0;F<E;F++)for(let a=0;a<S;a++)if(I>=0&&w>=0?(O=F*i+a<<2,p=(w+F)*h+I+a<<2):(O=(-w+F)*i-I+a<<2,p=F*h+a<<2),L==0)f[p]=r[O],f[p+1]=r[O+1],f[p+2]=r[O+2],f[p+3]=r[O+3];else if(L==1){var T=r[O+3]*.00392156862745098,c=r[O]*T,l=r[O+1]*T,b=r[O+2]*T,A=f[p+3]*(1/255),y=f[p]*A,m=f[p+1]*A,g=f[p+2]*A;const o=1-T,R=T+A*o,C=R==0?0:1/R;f[p+3]=255*R,f[p+0]=(c+y*o)*C,f[p+1]=(l+m*o)*C,f[p+2]=(b+g*o)*C}else if(L==2)T=r[O+3],c=r[O],l=r[O+1],b=r[O+2],A=f[p+3],y=f[p],m=f[p+1],g=f[p+2],T==A&&c==y&&l==m&&b==g?(f[p]=0,f[p+1]=0,f[p+2]=0,f[p+3]=0):(f[p]=c,f[p+1]=l,f[p+2]=b,f[p+3]=T);else if(L==3){if(T=r[O+3],c=r[O],l=r[O+1],b=r[O+2],A=f[p+3],y=f[p],m=f[p+1],g=f[p+2],T==A&&c==y&&l==m&&b==g)continue;if(T<220&&A>20)return!1}return!0}return{decode:function(i){const n=new Uint8Array(i);let f=8;const h=_,x=h.readUshort,I=h.readUint,w={tabs:{},frames:[]},L=new Uint8Array(n.length);let S,E=0,O=0;const p=[137,80,78,71,13,10,26,10];for(var T=0;T<8;T++)if(n[T]!=p[T])throw"The input is not a PNG file!";for(;f<n.length;){const F=h.readUint(n,f);f+=4;const a=h.readASCII(n,f,4);if(f+=4,a=="IHDR")v(n,f,w);else if(a=="iCCP"){for(var c=f;n[c]!=0;)c++;h.readASCII(n,f,c-f),n[c+1];const o=n.slice(c+2,f+F);let R=null;try{R=d(o)}catch{R=e(o)}w.tabs[a]=R}else if(a=="CgBI")w.tabs[a]=n.slice(f,f+4);else if(a=="IDAT"){for(T=0;T<F;T++)L[E+T]=n[f+T];E+=F}else if(a=="acTL")w.tabs[a]={num_frames:I(n,f),num_plays:I(n,f+4)},S=new Uint8Array(n.length);else if(a=="fcTL"){O!=0&&((g=w.frames[w.frames.length-1]).data=D(w,S.slice(0,O),g.rect.width,g.rect.height),O=0);const o={x:I(n,f+12),y:I(n,f+16),width:I(n,f+4),height:I(n,f+8)};let R=x(n,f+22);R=x(n,f+20)/(R==0?100:R);const C={rect:o,delay:Math.round(1e3*R),dispose:n[f+24],blend:n[f+25]};w.frames.push(C)}else if(a=="fdAT"){for(T=0;T<F-4;T++)S[O+T]=n[f+T+4];O+=F-4}else if(a=="pHYs")w.tabs[a]=[h.readUint(n,f),h.readUint(n,f+4),n[f+8]];else if(a=="cHRM")for(w.tabs[a]=[],T=0;T<8;T++)w.tabs[a].push(h.readUint(n,f+4*T));else if(a=="tEXt"||a=="zTXt"){w.tabs[a]==null&&(w.tabs[a]={});var l=h.nextZero(n,f),b=h.readASCII(n,f,l-f),A=f+F-l-1;if(a=="tEXt")m=h.readASCII(n,l+1,A);else{var y=d(n.slice(l+2,l+2+A));m=h.readUTF8(y,0,y.length)}w.tabs[a][b]=m}else if(a=="iTXt"){w.tabs[a]==null&&(w.tabs[a]={}),l=0,c=f,l=h.nextZero(n,c),b=h.readASCII(n,c,l-c);const o=n[c=l+1];var m;n[c+1],c+=2,l=h.nextZero(n,c),h.readASCII(n,c,l-c),c=l+1,l=h.nextZero(n,c),h.readUTF8(n,c,l-c),A=F-((c=l+1)-f),o==0?m=h.readUTF8(n,c,A):(y=d(n.slice(c,c+A)),m=h.readUTF8(y,0,y.length)),w.tabs[a][b]=m}else if(a=="PLTE")w.tabs[a]=h.readBytes(n,f,F);else if(a=="hIST"){const o=w.tabs.PLTE.length/3;for(w.tabs[a]=[],T=0;T<o;T++)w.tabs[a].push(x(n,f+2*T))}else if(a=="tRNS")w.ctype==3?w.tabs[a]=h.readBytes(n,f,F):w.ctype==0?w.tabs[a]=x(n,f):w.ctype==2&&(w.tabs[a]=[x(n,f),x(n,f+2),x(n,f+4)]);else if(a=="gAMA")w.tabs[a]=h.readUint(n,f)/1e5;else if(a=="sRGB")w.tabs[a]=n[f];else if(a=="bKGD")w.ctype==0||w.ctype==4?w.tabs[a]=[x(n,f)]:w.ctype==2||w.ctype==6?w.tabs[a]=[x(n,f),x(n,f+2),x(n,f+4)]:w.ctype==3&&(w.tabs[a]=n[f]);else if(a=="IEND")break;f+=F,h.readUint(n,f),f+=4}var g;return O!=0&&((g=w.frames[w.frames.length-1]).data=D(w,S.slice(0,O),g.rect.width,g.rect.height)),w.data=D(w,L,w.width,w.height),delete w.compress,delete w.interlace,delete w.filter,w},toRGBA8:function(i){const n=i.width,f=i.height;if(i.tabs.acTL==null)return[k(i.data,n,f,i).buffer];const h=[];i.frames[0].data==null&&(i.frames[0].data=i.data);const x=n*f*4,I=new Uint8Array(x),w=new Uint8Array(x),L=new Uint8Array(x);for(let E=0;E<i.frames.length;E++){const O=i.frames[E],p=O.rect.x,T=O.rect.y,c=O.rect.width,l=O.rect.height,b=k(O.data,c,l,i);if(E!=0)for(var S=0;S<x;S++)L[S]=I[S];if(O.blend==0?U(b,c,l,I,n,f,p,T,0):O.blend==1&&U(b,c,l,I,n,f,p,T,1),h.push(I.buffer.slice(0)),O.dispose!=0){if(O.dispose==1)U(w,c,l,I,n,f,p,T,0);else if(O.dispose==2)for(S=0;S<x;S++)I[S]=L[S]}}return h},_paeth:s,_copyTile:U,_bin:_}}();(function(){const{_copyTile:_}=ge,{_bin:k}=ge,D=ge._paeth;var d={table:function(){const c=new Uint32Array(256);for(let l=0;l<256;l++){let b=l;for(let A=0;A<8;A++)1&b?b=3988292384^b>>>1:b>>>=1;c[l]=b}return c}(),update(c,l,b,A){for(let y=0;y<A;y++)c=d.table[255&(c^l[b+y])]^c>>>8;return c},crc:(c,l,b)=>4294967295^d.update(4294967295,c,l,b)};function e(c,l,b,A){l[b]+=c[0]*A>>4,l[b+1]+=c[1]*A>>4,l[b+2]+=c[2]*A>>4,l[b+3]+=c[3]*A>>4}function t(c){return Math.max(0,Math.min(255,c))}function u(c,l){const b=c[0]-l[0],A=c[1]-l[1],y=c[2]-l[2],m=c[3]-l[3];return b*b+A*A+y*y+m*m}function s(c,l,b,A,y,m,g){g==null&&(g=1);const F=A.length,a=[];for(var o=0;o<F;o++){const M=A[o];a.push([M>>>0&255,M>>>8&255,M>>>16&255,M>>>24&255])}for(o=0;o<F;o++){let M=4294967295;for(var R=0,C=0;C<F;C++){var P=u(a[o],a[C]);C!=o&&P<M&&(M=P,R=C)}}const Q=new Uint32Array(y.buffer),z=new Int16Array(l*b*4),H=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(o=0;o<H.length;o++)H[o]=255*((H[o]+.5)/16-.5);for(let M=0;M<b;M++)for(let j=0;j<l;j++){var N;o=4*(M*l+j),g!=2?N=[t(c[o]+z[o]),t(c[o+1]+z[o+1]),t(c[o+2]+z[o+2]),t(c[o+3]+z[o+3])]:(P=H[4*(3&M)+(3&j)],N=[t(c[o]+P),t(c[o+1]+P),t(c[o+2]+P),t(c[o+3]+P)]),R=0;let K=16777215;for(C=0;C<F;C++){const G=u(N,a[C]);G<K&&(K=G,R=C)}const W=a[R],B=[N[0]-W[0],N[1]-W[1],N[2]-W[2],N[3]-W[3]];g==1&&(j!=l-1&&e(B,z,o+4,7),M!=b-1&&(j!=0&&e(B,z,o+4*l-4,3),e(B,z,o+4*l,5),j!=l-1&&e(B,z,o+4*l+4,1))),m[o>>2]=R,Q[o>>2]=A[R]}}function v(c,l,b,A,y){y==null&&(y={});const{crc:m}=d,g=k.writeUint,F=k.writeUshort,a=k.writeASCII;let o=8;const R=c.frames.length>1;let C,P=!1,Q=33+(R?20:0);if(y.sRGB!=null&&(Q+=13),y.pHYs!=null&&(Q+=21),y.iCCP!=null&&(C=pako.deflate(y.iCCP),Q+=21+C.length+4),c.ctype==3){for(var z=c.plte.length,H=0;H<z;H++)c.plte[H]>>>24!=255&&(P=!0);Q+=8+3*z+4+(P?8+1*z+4:0)}for(var N=0;N<c.frames.length;N++)R&&(Q+=38),Q+=(W=c.frames[N]).cimg.length+12,N!=0&&(Q+=4);Q+=12;const M=new Uint8Array(Q),j=[137,80,78,71,13,10,26,10];for(H=0;H<8;H++)M[H]=j[H];if(g(M,o,13),o+=4,a(M,o,"IHDR"),o+=4,g(M,o,l),o+=4,g(M,o,b),o+=4,M[o]=c.depth,o++,M[o]=c.ctype,o++,M[o]=0,o++,M[o]=0,o++,M[o]=0,o++,g(M,o,m(M,o-17,17)),o+=4,y.sRGB!=null&&(g(M,o,1),o+=4,a(M,o,"sRGB"),o+=4,M[o]=y.sRGB,o++,g(M,o,m(M,o-5,5)),o+=4),y.iCCP!=null){const B=13+C.length;g(M,o,B),o+=4,a(M,o,"iCCP"),o+=4,a(M,o,"ICC profile"),o+=11,o+=2,M.set(C,o),o+=C.length,g(M,o,m(M,o-(B+4),B+4)),o+=4}if(y.pHYs!=null&&(g(M,o,9),o+=4,a(M,o,"pHYs"),o+=4,g(M,o,y.pHYs[0]),o+=4,g(M,o,y.pHYs[1]),o+=4,M[o]=y.pHYs[2],o++,g(M,o,m(M,o-13,13)),o+=4),R&&(g(M,o,8),o+=4,a(M,o,"acTL"),o+=4,g(M,o,c.frames.length),o+=4,g(M,o,y.loop!=null?y.loop:0),o+=4,g(M,o,m(M,o-12,12)),o+=4),c.ctype==3){for(g(M,o,3*(z=c.plte.length)),o+=4,a(M,o,"PLTE"),o+=4,H=0;H<z;H++){const B=3*H,G=c.plte[H],V=255&G,ee=G>>>8&255,xe=G>>>16&255;M[o+B+0]=V,M[o+B+1]=ee,M[o+B+2]=xe}if(o+=3*z,g(M,o,m(M,o-3*z-4,3*z+4)),o+=4,P){for(g(M,o,z),o+=4,a(M,o,"tRNS"),o+=4,H=0;H<z;H++)M[o+H]=c.plte[H]>>>24&255;o+=z,g(M,o,m(M,o-z-4,z+4)),o+=4}}let K=0;for(N=0;N<c.frames.length;N++){var W=c.frames[N];R&&(g(M,o,26),o+=4,a(M,o,"fcTL"),o+=4,g(M,o,K++),o+=4,g(M,o,W.rect.width),o+=4,g(M,o,W.rect.height),o+=4,g(M,o,W.rect.x),o+=4,g(M,o,W.rect.y),o+=4,F(M,o,A[N]),o+=2,F(M,o,1e3),o+=2,M[o]=W.dispose,o++,M[o]=W.blend,o++,g(M,o,m(M,o-30,30)),o+=4);const B=W.cimg;g(M,o,(z=B.length)+(N==0?0:4)),o+=4;const G=o;a(M,o,N==0?"IDAT":"fdAT"),o+=4,N!=0&&(g(M,o,K++),o+=4),M.set(B,o),o+=z,g(M,o,m(M,G,o-G)),o+=4}return g(M,o,0),o+=4,a(M,o,"IEND"),o+=4,g(M,o,m(M,o-4,4)),o+=4,M.buffer}function U(c,l,b){for(let A=0;A<c.frames.length;A++){const y=c.frames[A];y.rect.width;const m=y.rect.height,g=new Uint8Array(m*y.bpl+m);y.cimg=f(y.img,m,y.bpp,y.bpl,g,l,b)}}function r(c,l,b,A,y){const m=y[0],g=y[1],F=y[2],a=y[3],o=y[4],R=y[5];let C=6,P=8,Q=255;for(var z=0;z<c.length;z++){const re=new Uint8Array(c[z]);for(var H=re.length,N=0;N<H;N+=4)Q&=re[N+3]}const M=Q!=255,j=function(Z,q,te,ae,Y,le){const J=[];for(var $=0;$<Z.length;$++){const se=new Uint8Array(Z[$]),he=new Uint32Array(se.buffer);var ce;let de=0,be=0,me=q,Ce=te,He=ae?1:0;if($!=0){const ot=le||ae||$==1||J[$-2].dispose!=0?1:2;let Qe=0,Ge=1e9;for(let Se=0;Se<ot;Se++){var ye=new Uint8Array(Z[$-1-Se]);const at=new Uint32Array(Z[$-1-Se]);let Ae=q,Ue=te,Re=-1,Te=-1;for(let Ee=0;Ee<te;Ee++)for(let Ie=0;Ie<q;Ie++)he[ie=Ee*q+Ie]!=at[ie]&&(Ie<Ae&&(Ae=Ie),Ie>Re&&(Re=Ie),Ee<Ue&&(Ue=Ee),Ee>Te&&(Te=Ee));Re==-1&&(Ae=Ue=Re=Te=0),Y&&((1&Ae)==1&&Ae--,(1&Ue)==1&&Ue--);const qe=(Re-Ae+1)*(Te-Ue+1);qe<Ge&&(Ge=qe,Qe=Se,de=Ae,be=Ue,me=Re-Ae+1,Ce=Te-Ue+1)}ye=new Uint8Array(Z[$-1-Qe]),Qe==1&&(J[$-1].dispose=2),ce=new Uint8Array(me*Ce*4),_(ye,q,te,ce,me,Ce,-de,-be,0),He=_(se,q,te,ce,me,Ce,-de,-be,3)?1:0,He==1?n(se,q,te,ce,{x:de,y:be,width:me,height:Ce}):_(se,q,te,ce,me,Ce,-de,-be,0)}else ce=se.slice(0);J.push({rect:{x:de,y:be,width:me,height:Ce},img:ce,blend:He,dispose:0})}if(ae)for($=0;$<J.length;$++){if((Fe=J[$]).blend==1)continue;const se=Fe.rect,he=J[$-1].rect,de=Math.min(se.x,he.x),be=Math.min(se.y,he.y),me={x:de,y:be,width:Math.max(se.x+se.width,he.x+he.width)-de,height:Math.max(se.y+se.height,he.y+he.height)-be};J[$-1].dispose=1,$-1!=0&&i(Z,q,te,J,$-1,me,Y),i(Z,q,te,J,$,me,Y)}let ke=0;if(Z.length!=1)for(var ie=0;ie<J.length;ie++){var Fe;ke+=(Fe=J[ie]).rect.width*Fe.rect.height}return J}(c,l,b,m,g,F),K={},W=[],B=[];if(A!=0){const re=[];for(N=0;N<j.length;N++)re.push(j[N].img.buffer);const Z=function(Y){let le=0;for(var J=0;J<Y.length;J++)le+=Y[J].byteLength;const $=new Uint8Array(le);let ce=0;for(J=0;J<Y.length;J++){const ye=new Uint8Array(Y[J]),ke=ye.length;for(let ie=0;ie<ke;ie+=4){let Fe=ye[ie],se=ye[ie+1],he=ye[ie+2];const de=ye[ie+3];de==0&&(Fe=se=he=0),$[ce+ie]=Fe,$[ce+ie+1]=se,$[ce+ie+2]=he,$[ce+ie+3]=de}ce+=ke}return $.buffer}(re),q=x(Z,A);for(N=0;N<q.plte.length;N++)W.push(q.plte[N].est.rgba);let te=0;for(N=0;N<j.length;N++){const ae=(V=j[N]).img.length;var G=new Uint8Array(q.inds.buffer,te>>2,ae>>2);B.push(G);const Y=new Uint8Array(q.abuf,te,ae);R&&s(V.img,V.rect.width,V.rect.height,W,Y,G),V.img.set(Y),te+=ae}}else for(z=0;z<j.length;z++){var V=j[z];const re=new Uint32Array(V.img.buffer);var ee=V.rect.width;for(H=re.length,G=new Uint8Array(H),B.push(G),N=0;N<H;N++){const Z=re[N];if(N!=0&&Z==re[N-1])G[N]=G[N-1];else if(N>ee&&Z==re[N-ee])G[N]=G[N-ee];else{let q=K[Z];if(q==null&&(K[Z]=q=W.length,W.push(Z),W.length>=300))break;G[N]=q}}}const xe=W.length;for(xe<=256&&o==0&&(P=xe<=2?1:xe<=4?2:xe<=16?4:8,P=Math.max(P,a)),z=0;z<j.length;z++){(V=j[z]).rect.x,V.rect.y,ee=V.rect.width;const re=V.rect.height;let Z=V.img;new Uint32Array(Z.buffer);let q=4*ee,te=4;if(xe<=256&&o==0){q=Math.ceil(P*ee/8);var pe=new Uint8Array(q*re);const ae=B[z];for(let Y=0;Y<re;Y++){N=Y*q;const le=Y*ee;if(P==8)for(var X=0;X<ee;X++)pe[N+X]=ae[le+X];else if(P==4)for(X=0;X<ee;X++)pe[N+(X>>1)]|=ae[le+X]<<4-4*(1&X);else if(P==2)for(X=0;X<ee;X++)pe[N+(X>>2)]|=ae[le+X]<<6-2*(3&X);else if(P==1)for(X=0;X<ee;X++)pe[N+(X>>3)]|=ae[le+X]<<7-1*(7&X)}Z=pe,C=3,te=1}else if(M==0&&j.length==1){pe=new Uint8Array(ee*re*3);const ae=ee*re;for(N=0;N<ae;N++){const Y=3*N,le=4*N;pe[Y]=Z[le],pe[Y+1]=Z[le+1],pe[Y+2]=Z[le+2]}Z=pe,C=2,te=3,q=3*ee}V.img=Z,V.bpl=q,V.bpp=te}return{ctype:C,depth:P,plte:W,frames:j}}function i(c,l,b,A,y,m,g){const F=Uint8Array,a=Uint32Array,o=new F(c[y-1]),R=new a(c[y-1]),C=y+1<c.length?new F(c[y+1]):null,P=new F(c[y]),Q=new a(P.buffer);let z=l,H=b,N=-1,M=-1;for(let K=0;K<m.height;K++)for(let W=0;W<m.width;W++){const B=m.x+W,G=m.y+K,V=G*l+B,ee=Q[V];ee==0||A[y-1].dispose==0&&R[V]==ee&&(C==null||C[4*V+3]!=0)||(B<z&&(z=B),B>N&&(N=B),G<H&&(H=G),G>M&&(M=G))}N==-1&&(z=H=N=M=0),g&&((1&z)==1&&z--,(1&H)==1&&H--),m={x:z,y:H,width:N-z+1,height:M-H+1};const j=A[y];j.rect=m,j.blend=1,j.img=new Uint8Array(m.width*m.height*4),A[y-1].dispose==0?(_(o,l,b,j.img,m.width,m.height,-m.x,-m.y,0),n(P,l,b,j.img,m)):_(P,l,b,j.img,m.width,m.height,-m.x,-m.y,0)}function n(c,l,b,A,y){_(c,l,b,A,y.width,y.height,-y.x,-y.y,2)}function f(c,l,b,A,y,m,g){const F=[];let a,o=[0,1,2,3,4];m!=-1?o=[m]:(l*A>5e5||b==1)&&(o=[0]),g&&(a={level:0});const R=ct;for(var C=0;C<o.length;C++){for(let z=0;z<l;z++)h(y,c,z,A,b,o[C]);F.push(R.deflate(y,a))}let P,Q=1e9;for(C=0;C<F.length;C++)F[C].length<Q&&(P=C,Q=F[C].length);return F[P]}function h(c,l,b,A,y,m){const g=b*A;let F=g+b;if(c[F]=m,F++,m==0)if(A<500)for(var a=0;a<A;a++)c[F+a]=l[g+a];else c.set(new Uint8Array(l.buffer,g,A),F);else if(m==1){for(a=0;a<y;a++)c[F+a]=l[g+a];for(a=y;a<A;a++)c[F+a]=l[g+a]-l[g+a-y]+256&255}else if(b==0){for(a=0;a<y;a++)c[F+a]=l[g+a];if(m==2)for(a=y;a<A;a++)c[F+a]=l[g+a];if(m==3)for(a=y;a<A;a++)c[F+a]=l[g+a]-(l[g+a-y]>>1)+256&255;if(m==4)for(a=y;a<A;a++)c[F+a]=l[g+a]-D(l[g+a-y],0,0)+256&255}else{if(m==2)for(a=0;a<A;a++)c[F+a]=l[g+a]+256-l[g+a-A]&255;if(m==3){for(a=0;a<y;a++)c[F+a]=l[g+a]+256-(l[g+a-A]>>1)&255;for(a=y;a<A;a++)c[F+a]=l[g+a]+256-(l[g+a-A]+l[g+a-y]>>1)&255}if(m==4){for(a=0;a<y;a++)c[F+a]=l[g+a]+256-D(0,l[g+a-A],0)&255;for(a=y;a<A;a++)c[F+a]=l[g+a]+256-D(l[g+a-y],l[g+a-A],l[g+a-y-A])&255}}}function x(c,l){const b=new Uint8Array(c),A=b.slice(0),y=new Uint32Array(A.buffer),m=I(A,l),g=m[0],F=m[1],a=b.length,o=new Uint8Array(a>>2);let R;if(b.length<2e7)for(var C=0;C<a;C+=4)R=w(g,P=b[C]*(1/255),Q=b[C+1]*(1/255),z=b[C+2]*(1/255),H=b[C+3]*(1/255)),o[C>>2]=R.ind,y[C>>2]=R.est.rgba;else for(C=0;C<a;C+=4){var P=b[C]*.00392156862745098,Q=b[C+1]*(1/255),z=b[C+2]*(1/255),H=b[C+3]*(1/255);for(R=g;R.left;)R=L(R.est,P,Q,z,H)<=0?R.left:R.right;o[C>>2]=R.ind,y[C>>2]=R.est.rgba}return{abuf:A.buffer,inds:o,plte:F}}function I(c,l,b){b==null&&(b=1e-4);const A=new Uint32Array(c.buffer),y={i0:0,i1:c.length,bst:null,est:null,tdst:0,left:null,right:null};y.bst=O(c,y.i0,y.i1),y.est=p(y.bst);const m=[y];for(;m.length<l;){let F=0,a=0;for(var g=0;g<m.length;g++)m[g].est.L>F&&(F=m[g].est.L,a=g);if(F<b)break;const o=m[a],R=S(c,A,o.i0,o.i1,o.est.e,o.est.eMq255);if(o.i0>=R||o.i1<=R){o.est.L=0;continue}const C={i0:o.i0,i1:R,bst:null,est:null,tdst:0,left:null,right:null};C.bst=O(c,C.i0,C.i1),C.est=p(C.bst);const P={i0:R,i1:o.i1,bst:null,est:null,tdst:0,left:null,right:null};for(P.bst={R:[],m:[],N:o.bst.N-C.bst.N},g=0;g<16;g++)P.bst.R[g]=o.bst.R[g]-C.bst.R[g];for(g=0;g<4;g++)P.bst.m[g]=o.bst.m[g]-C.bst.m[g];P.est=p(P.bst),o.left=C,o.right=P,m[a]=C,m.push(P)}for(m.sort((F,a)=>a.bst.N-F.bst.N),g=0;g<m.length;g++)m[g].ind=g;return[y,m]}function w(c,l,b,A,y){if(c.left==null)return c.tdst=function(C,P,Q,z,H){const N=P-C[0],M=Q-C[1],j=z-C[2],K=H-C[3];return N*N+M*M+j*j+K*K}(c.est.q,l,b,A,y),c;const m=L(c.est,l,b,A,y);let g=c.left,F=c.right;m>0&&(g=c.right,F=c.left);const a=w(g,l,b,A,y);if(a.tdst<=m*m)return a;const o=w(F,l,b,A,y);return o.tdst<a.tdst?o:a}function L(c,l,b,A,y){const{e:m}=c;return m[0]*l+m[1]*b+m[2]*A+m[3]*y-c.eMq}function S(c,l,b,A,y,m){for(A-=4;b<A;){for(;E(c,b,y)<=m;)b+=4;for(;E(c,A,y)>m;)A-=4;if(b>=A)break;const g=l[b>>2];l[b>>2]=l[A>>2],l[A>>2]=g,b+=4,A-=4}for(;E(c,b,y)>m;)b-=4;return b+4}function E(c,l,b){return c[l]*b[0]+c[l+1]*b[1]+c[l+2]*b[2]+c[l+3]*b[3]}function O(c,l,b){const A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],y=[0,0,0,0],m=b-l>>2;for(let g=l;g<b;g+=4){const F=c[g]*.00392156862745098,a=c[g+1]*(1/255),o=c[g+2]*(1/255),R=c[g+3]*(1/255);y[0]+=F,y[1]+=a,y[2]+=o,y[3]+=R,A[0]+=F*F,A[1]+=F*a,A[2]+=F*o,A[3]+=F*R,A[5]+=a*a,A[6]+=a*o,A[7]+=a*R,A[10]+=o*o,A[11]+=o*R,A[15]+=R*R}return A[4]=A[1],A[8]=A[2],A[9]=A[6],A[12]=A[3],A[13]=A[7],A[14]=A[11],{R:A,m:y,N:m}}function p(c){const{R:l}=c,{m:b}=c,{N:A}=c,y=b[0],m=b[1],g=b[2],F=b[3],a=A==0?0:1/A,o=[l[0]-y*y*a,l[1]-y*m*a,l[2]-y*g*a,l[3]-y*F*a,l[4]-m*y*a,l[5]-m*m*a,l[6]-m*g*a,l[7]-m*F*a,l[8]-g*y*a,l[9]-g*m*a,l[10]-g*g*a,l[11]-g*F*a,l[12]-F*y*a,l[13]-F*m*a,l[14]-F*g*a,l[15]-F*F*a],R=o,C=T;let P=[Math.random(),Math.random(),Math.random(),Math.random()],Q=0,z=0;if(A!=0)for(let N=0;N<16&&(P=C.multVec(R,P),z=Math.sqrt(C.dot(P,P)),P=C.sml(1/z,P),!(N!=0&&Math.abs(z-Q)<1e-9));N++)Q=z;const H=[y*a,m*a,g*a,F*a];return{Cov:o,q:H,e:P,L:Q,eMq255:C.dot(C.sml(255,H),P),eMq:C.dot(P,H),rgba:(Math.round(255*H[3])<<24|Math.round(255*H[2])<<16|Math.round(255*H[1])<<8|Math.round(255*H[0])<<0)>>>0}}var T={multVec:(c,l)=>[c[0]*l[0]+c[1]*l[1]+c[2]*l[2]+c[3]*l[3],c[4]*l[0]+c[5]*l[1]+c[6]*l[2]+c[7]*l[3],c[8]*l[0]+c[9]*l[1]+c[10]*l[2]+c[11]*l[3],c[12]*l[0]+c[13]*l[1]+c[14]*l[2]+c[15]*l[3]],dot:(c,l)=>c[0]*l[0]+c[1]*l[1]+c[2]*l[2]+c[3]*l[3],sml:(c,l)=>[c*l[0],c*l[1],c*l[2],c*l[3]]};ge.encode=function(l,b,A,y,m,g,F){y==null&&(y=0),F==null&&(F=!1);const a=r(l,b,A,y,[!1,!1,!1,0,F,!1]);return U(a,-1),v(a,b,A,m,g)},ge.encodeLL=function(l,b,A,y,m,g,F,a){const o={ctype:0+(y==1?0:2)+(m==0?0:4),depth:g,frames:[]},R=(y+m)*g,C=R*b;for(let P=0;P<l.length;P++)o.frames.push({rect:{x:0,y:0,width:b,height:A},img:new Uint8Array(l[P]),blend:0,dispose:1,bpp:Math.ceil(R/8),bpl:Math.ceil(C/8)});return U(o,0,!0),v(o,b,A,F,a)},ge.encode.compress=r,ge.encode.dither=s,ge.quantize=x,ge.quantize.getKDtree=I,ge.quantize.getNearest=w})();const Ze={toArrayBuffer(_,k){const D=_.width,d=_.height,e=D<<2,t=_.getContext("2d").getImageData(0,0,D,d),u=new Uint32Array(t.data.buffer),s=(32*D+31)/32<<2,v=s*d,U=122+v,r=new ArrayBuffer(U),i=new DataView(r),n=1<<20;let f,h,x,I,w=n,L=0,S=0,E=0;function O(c){i.setUint16(S,c,!0),S+=2}function p(c){i.setUint32(S,c,!0),S+=4}function T(c){S+=c}O(19778),p(U),T(4),p(122),p(108),p(D),p(-d>>>0),O(1),O(32),p(3),p(v),p(2835),p(2835),T(8),p(16711680),p(65280),p(255),p(4278190080),p(1466527264),function c(){for(;L<d&&w>0;){for(I=122+L*s,f=0;f<e;)w--,h=u[E++],x=h>>>24,i.setUint32(I+f,h<<8|x),f+=4;L++}E<u.length?(w=n,setTimeout(c,Ze._dly)):k(r)}()},toBlob(_,k){this.toArrayBuffer(_,D=>{k(new Blob([D],{type:"image/bmp"}))})},_dly:9};var fe={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},ut={[fe.CHROME]:16384,[fe.FIREFOX]:11180,[fe.DESKTOP_SAFARI]:16384,[fe.IE]:8192,[fe.IOS]:4096,[fe.ETC]:8192};const Be=typeof window<"u",Xe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,De=Be&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),dt=(Be||Xe)&&(De&&De.getOriginalSymbol(window,"File")||typeof File<"u"&&File),Ve=(Be||Xe)&&(De&&De.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function We(_,k,D=Date.now()){return new Promise(d=>{const e=_.split(","),t=e[0].match(/:(.*?);/)[1],u=globalThis.atob(e[1]);let s=u.length;const v=new Uint8Array(s);for(;s--;)v[s]=u.charCodeAt(s);const U=new Blob([v],{type:t});U.name=k,U.lastModified=D,d(U)})}function Ye(_){return new Promise((k,D)=>{const d=new Ve;d.onload=()=>k(d.result),d.onerror=e=>D(e),d.readAsDataURL(_)})}function Je(_){return new Promise((k,D)=>{const d=new Image;d.onload=()=>k(d),d.onerror=e=>D(e),d.src=_})}function _e(){if(_e.cachedResult!==void 0)return _e.cachedResult;let _=fe.ETC;const{userAgent:k}=navigator;return/Chrom(e|ium)/i.test(k)?_=fe.CHROME:/iP(ad|od|hone)/i.test(k)&&/WebKit/i.test(k)?_=fe.IOS:/Safari/i.test(k)?_=fe.DESKTOP_SAFARI:/Firefox/i.test(k)?_=fe.FIREFOX:(/MSIE/i.test(k)||document.documentMode)&&(_=fe.IE),_e.cachedResult=_,_e.cachedResult}function et(_,k){const D=_e(),d=ut[D];let e=_,t=k,u=e*t;const s=e>t?t/e:e/t;for(;u>d*d;){const v=(d+e)/2,U=(d+t)/2;v<U?(t=U,e=U*s):(t=v*s,e=v),u=e*t}return{width:e,height:t}}function ze(_,k){let D,d;try{if(D=new OffscreenCanvas(_,k),d=D.getContext("2d"),d===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{D=document.createElement("canvas"),d=D.getContext("2d")}return D.width=_,D.height=k,[D,d]}function tt(_,k){const{width:D,height:d}=et(_.width,_.height),[e,t]=ze(D,d);return k&&/jpe?g/.test(k)&&(t.fillStyle="white",t.fillRect(0,0,e.width,e.height)),t.drawImage(_,0,0,e.width,e.height),e}function Oe(){return Oe.cachedResult!==void 0||(Oe.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Oe.cachedResult}function Le(_,k={}){return new Promise(function(D,d){let e,t;var u=function(){try{return t=tt(e,k.fileType||_.type),D([e,t])}catch(v){return d(v)}},s=function(v){try{var U=function(r){try{throw r}catch(i){return d(i)}};try{let r;return Ye(_).then(function(i){try{return r=i,Je(r).then(function(n){try{return e=n,function(){try{return u()}catch(f){return d(f)}}()}catch(f){return U(f)}},U)}catch(n){return U(n)}},U)}catch(r){U(r)}}catch(r){return d(r)}};try{if(Oe()||[fe.DESKTOP_SAFARI,fe.MOBILE_SAFARI].includes(_e()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(_).then(function(v){try{return e=v,u()}catch{return s()}},s)}catch{s()}})}function Ne(_,k,D,d,e=1){return new Promise(function(t,u){let s;if(k==="image/png"){let U,r,i;return U=_.getContext("2d"),{data:r}=U.getImageData(0,0,_.width,_.height),i=ge.encode([r.buffer],_.width,_.height,4096*e),s=new Blob([i],{type:k}),s.name=D,s.lastModified=d,v.call(this)}{let U=function(){return v.call(this)};if(k==="image/bmp")return new Promise(r=>Ze.toBlob(_,r)).then(function(r){try{return s=r,s.name=D,s.lastModified=d,U.call(this)}catch(i){return u(i)}}.bind(this),u);{let r=function(){return U.call(this)};if(typeof OffscreenCanvas=="function"&&_ instanceof OffscreenCanvas)return _.convertToBlob({type:k,quality:e}).then(function(i){try{return s=i,s.name=D,s.lastModified=d,r.call(this)}catch(n){return u(n)}}.bind(this),u);{let i;return i=_.toDataURL(k,e),We(i,D,d).then(function(n){try{return s=n,r.call(this)}catch(f){return u(f)}}.bind(this),u)}}}function v(){return t(s)}})}function ve(_){_.width=0,_.height=0}function Me(){return new Promise(function(_,k){let D,d,e,t;return Me.cachedResult!==void 0?_(Me.cachedResult):We("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(u){try{return D=u,Le(D).then(function(s){try{return d=s[1],Ne(d,D.type,D.name,D.lastModified).then(function(v){try{return e=v,ve(d),Le(e).then(function(U){try{return t=U[0],Me.cachedResult=t.width===1&&t.height===2,_(Me.cachedResult)}catch(r){return k(r)}},k)}catch(U){return k(U)}},k)}catch(v){return k(v)}},k)}catch(s){return k(s)}},k)})}function nt(_){return new Promise((k,D)=>{const d=new Ve;d.onload=e=>{const t=new DataView(e.target.result);if(t.getUint16(0,!1)!=65496)return k(-2);const u=t.byteLength;let s=2;for(;s<u;){if(t.getUint16(s+2,!1)<=8)return k(-1);const v=t.getUint16(s,!1);if(s+=2,v==65505){if(t.getUint32(s+=2,!1)!=1165519206)return k(-1);const U=t.getUint16(s+=6,!1)==18761;s+=t.getUint32(s+4,U);const r=t.getUint16(s,U);s+=2;for(let i=0;i<r;i++)if(t.getUint16(s+12*i,U)==274)return k(t.getUint16(s+12*i+8,U))}else{if((65280&v)!=65280)break;s+=t.getUint16(s,!1)}}return k(-1)},d.onerror=e=>D(e),d.readAsArrayBuffer(_)})}function rt(_,k){const{width:D}=_,{height:d}=_,{maxWidthOrHeight:e}=k;let t,u=_;return isFinite(e)&&(D>e||d>e)&&([u,t]=ze(D,d),D>d?(u.width=e,u.height=d/D*e):(u.width=D/d*e,u.height=e),t.drawImage(_,0,0,u.width,u.height),ve(_)),u}function it(_,k){const{width:D}=_,{height:d}=_,[e,t]=ze(D,d);switch(k>4&&k<9?(e.width=d,e.height=D):(e.width=D,e.height=d),k){case 2:t.transform(-1,0,0,1,D,0);break;case 3:t.transform(-1,0,0,-1,D,d);break;case 4:t.transform(1,0,0,-1,0,d);break;case 5:t.transform(0,1,1,0,0,0);break;case 6:t.transform(0,1,-1,0,d,0);break;case 7:t.transform(0,-1,-1,0,d,D);break;case 8:t.transform(0,-1,1,0,0,D)}return t.drawImage(_,0,0,D,d),ve(_),e}function $e(_,k,D=0){return new Promise(function(d,e){let t,u,s,v,U,r,i,n,f,h,x,I,w,L,S,E,O,p,T,c;function l(A=5){if(k.signal&&k.signal.aborted)throw k.signal.reason;t+=A,k.onProgress(Math.min(t,100))}function b(A){if(k.signal&&k.signal.aborted)throw k.signal.reason;t=Math.min(Math.max(A,t),100),k.onProgress(t)}return t=D,u=k.maxIteration||10,s=1024*k.maxSizeMB*1024,l(),Le(_,k).then(function(A){try{return[,v]=A,l(),U=rt(v,k),l(),new Promise(function(y,m){var g;if(!(g=k.exifOrientation))return nt(_).then(function(a){try{return g=a,F.call(this)}catch(o){return m(o)}}.bind(this),m);function F(){return y(g)}return F.call(this)}).then(function(y){try{return r=y,l(),Me().then(function(m){try{return i=m?U:it(U,r),l(),n=k.initialQuality||1,f=k.fileType||_.type,Ne(i,f,_.name,_.lastModified,n).then(function(g){try{{let a=function(){if(u--&&(S>s||S>w)){let R,C;return R=c?.95*T.width:T.width,C=c?.95*T.height:T.height,[O,p]=ze(R,C),p.drawImage(T,0,0,R,C),n*=f==="image/png"?.85:.95,Ne(O,f,_.name,_.lastModified,n).then(function(P){try{return E=P,ve(T),T=O,S=E.size,b(Math.min(99,Math.floor((L-S)/(L-s)*100))),a}catch(Q){return e(Q)}},e)}return[1]},o=function(){return ve(T),ve(O),ve(U),ve(i),ve(v),b(100),d(E)};if(h=g,l(),x=h.size>s,I=h.size>_.size,!x&&!I)return b(100),d(h);var F;return w=_.size,L=h.size,S=L,T=i,c=!k.alwaysKeepResolution&&x,(F=function(R){for(;R;){if(R.then)return void R.then(F,e);try{if(R.pop){if(R.length)return R.pop()?o.call(this):R;R=a}else R=R.call(this)}catch(C){return e(C)}}}.bind(this))(a)}}catch(a){return e(a)}}.bind(this),e)}catch(g){return e(g)}}.bind(this),e)}catch(m){return e(m)}}.bind(this),e)}catch(y){return e(y)}}.bind(this),e)})}const ht=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let je;function gt(_,k){return new Promise((D,d)=>{je||(je=function(u){const s=[];return typeof u=="function"?s.push(`(${u})()`):s.push(u),URL.createObjectURL(new Blob(s))}(ht));const e=new Worker(je);e.addEventListener("message",function(u){if(k.signal&&k.signal.aborted)e.terminate();else if(u.data.progress===void 0){if(u.data.error)return d(new Error(u.data.error)),void e.terminate();D(u.data.file),e.terminate()}else k.onProgress(u.data.progress)}),e.addEventListener("error",d),k.signal&&k.signal.addEventListener("abort",()=>{d(k.signal.reason),e.terminate()}),e.postMessage({file:_,imageCompressionLibUrl:k.libURL,options:{...k,onProgress:void 0,signal:void 0}})})}function oe(_,k){return new Promise(function(D,d){let e,t,u,s,v,U;if(e={...k},u=0,{onProgress:s}=e,e.maxSizeMB=e.maxSizeMB||Number.POSITIVE_INFINITY,v=typeof e.useWebWorker!="boolean"||e.useWebWorker,delete e.useWebWorker,e.onProgress=f=>{u=f,typeof s=="function"&&s(u)},!(_ instanceof Blob||_ instanceof dt))return d(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(_.type))return d(new Error("The file given is not an image"));if(U=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!v||typeof Worker!="function"||U)return $e(_,e).then(function(f){try{return t=f,n.call(this)}catch(h){return d(h)}}.bind(this),d);var r=function(){try{return n.call(this)}catch(f){return d(f)}}.bind(this),i=function(f){try{return $e(_,e).then(function(h){try{return t=h,r()}catch(x){return d(x)}},d)}catch(h){return d(h)}};try{return e.libURL=e.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",gt(_,e).then(function(f){try{return t=f,r()}catch{return i()}},i)}catch{i()}function n(){try{t.name=_.name,t.lastModified=_.lastModified}catch{}try{e.preserveExif&&_.type==="image/jpeg"&&(!e.fileType||e.fileType&&e.fileType===_.type)&&(t=Ke(_,t))}catch{}return D(t)}})}oe.getDataUrlFromFile=Ye,oe.getFilefromDataUrl=We,oe.loadImage=Je,oe.drawImageInCanvas=tt,oe.drawFileInCanvas=Le,oe.canvasToFile=Ne,oe.getExifOrientation=nt,oe.handleMaxWidthOrHeight=rt,oe.followExifOrientation=it,oe.cleanupCanvasMemory=ve,oe.isAutoOrientationInBrowser=Me,oe.approximateBelowMaximumCanvasSizeOfBrowser=et,oe.copyExifWithoutOrientation=Ke,oe.getBrowserName=_e,oe.version="2.0.2";const mt=()=>{const[_,k]=ne.useState(null),[D,d]=ne.useState(null),[e,t]=ne.useState(null),[u,s]=ne.useState(1),[v,U]=ne.useState(null),[r,i]=ne.useState(!1),[n,f]=ne.useState(!1),h=ne.useRef(null),x=ne.useRef(null),I=ne.useRef(0),w=ne.useRef(null),L=ne.useCallback(m=>{m&&(x.current&&URL.revokeObjectURL(x.current),x.current=URL.createObjectURL(m),t(x.current))},[]),S=ne.useCallback(async(m,g)=>m?await oe(m,{maxSizeMB:2,maxWidthOrHeight:2048,useWebWorker:!0,initialQuality:g}):null,[]),E=ne.useCallback(async m=>{let g=.1,F=1,a=.1;for(;F-g>.05;){const R=(g+F)/2;(await S(m,R)).size<=m.size?(a=R,g=R):F=R}for(g=Math.max(a-.05,.1),F=Math.min(a+.05,1);F-g>.01;){const R=(g+F)/2;(await S(m,R)).size<=m.size?(a=R,g=R):F=R}return(await S(m,1)).size<=m.size&&(a=1),a},[S]),O=ne.useCallback(async(m,g)=>{if(!m)return;const F=++I.current;try{const a=await S(m,g);if(F===I.current){d(a),L(a);const o=(m.size-a.size)/m.size*100;U(o.toFixed(0))}}catch(a){console.error("Compression error:",a)}},[S,L]),p=ne.useCallback(async m=>{if(m){i(!0),k(m);try{const g=await E(m);s(g),await O(m,g)}finally{i(!1)}}},[E,O]),T=m=>{var a;const g=(a=m.target.files)==null?void 0:a[0];if(!g)return;if(!["image/jpeg","image/png","image/gif"].includes(g.type)){alert("Only JPG, PNG, or GIF allowed.");return}p(g)},c=m=>{var F,a;m.preventDefault(),m.stopPropagation();const g=(a=(F=m.dataTransfer)==null?void 0:F.files)==null?void 0:a[0];g&&p(g)},l=m=>m.preventDefault(),b=()=>{if(!D||!_||D.size>=_.size)return;const m=URL.createObjectURL(D),g=document.createElement("a");g.href=m,g.download=`compressed_${_.name}`,g.click(),URL.revokeObjectURL(m)},A=D&&_&&D.size<_.size;ne.useEffect(()=>{if(_)return w.current&&clearTimeout(w.current),f(!0),w.current=setTimeout(async()=>{try{await O(_,u)}finally{f(!1)}},150),()=>clearTimeout(w.current)},[u,_,O]);const y=r||n;return ue("div",{className:"flex flex-col items-center mt-2 w-full max-w-5xl",children:[we("input",{type:"file",accept:".jpg,.jpeg,.png,.gif",ref:h,onChange:T,className:"hidden"}),ue("div",{className:"flex flex-col md:flex-row w-full min-h-[500px]",children:[ue("div",{className:"flex flex-1 flex-col items-center justify-center",children:[e?ue("div",{className:"relative w-full rounded-2xl overflow-hidden flex items-center justify-center bg-gray-900 cursor-pointer",onDrop:c,onDragOver:l,onClick:()=>{var m;return(m=h.current)==null?void 0:m.click()},children:[y&&we("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30 z-10",children:we("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})}),we("img",{src:e,alt:"Preview",className:"max-h-[550px] w-auto object-contain rounded-lg pointer-events-none"})]}):ue("div",{className:"relative w-full h-[300px] rounded-2xl border-2 border-dashed border-gray-600 bg-gray-800/50 flex items-center justify-center cursor-pointer",onDrop:c,onDragOver:l,onClick:()=>{var m;return(m=h.current)==null?void 0:m.click()},children:[y&&we("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30 z-10",children:we("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})}),ue("p",{className:"text-secondary text-center",children:["Drag & drop an image here, or click to select",we("br",{}),"(JPG, PNG, GIF)"]})]}),_&&ue("div",{className:"flex flex-col items-center w-full mt-6",children:[ue("span",{className:"text-white text-sm mb-1",children:["Quality: ",(u*100).toFixed(0),"%"]}),we("input",{type:"range",min:"0.1",max:"1",step:"0.01",value:u,onChange:m=>s(parseFloat(m.target.value)),className:"w-full"})]})]}),D&&_&&we("div",{className:"flex flex-row items-center justify-center md:justify-end w-full md:w-[220px] text-white text-sm",children:ue("div",{className:"flex flex-col items-center",children:[ue("div",{className:"space-y-1 mb-6 text-center",children:[ue("p",{children:["Original: ",(_.size/1024).toFixed(2)," KB"]}),ue("p",{children:["Compressed: ",(D.size/1024).toFixed(2)," KB"]})]}),ue("button",{onClick:b,disabled:!A,className:`px-6 py-2 rounded transition font-medium ${A?"bg-blue-500 hover:bg-blue-600":"bg-gray-600 cursor-not-allowed"}`,children:["Download ",A?`(-${v}%)`:"(N/A)"]})]})})]})]})};export{mt as default};
